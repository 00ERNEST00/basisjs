(function(){var Sa={"0.js":"app","1.js":"basis.data","2.js":"basis.event","3.js":"basis.data.value","4.js":"basis.ui","5.js":"basis.template.html","6.js":"basis.dom.event","7.js":"basis.l10n","8.js":"basis.template.htmlfgen","9.js":"basis.template.const","a.js":"basis.template","b.js":"basis.template.declaration","c.js":"basis.template.theme","d.js":"basis.dom.wrapper","e.js":"core.runner","f.js":"basis.data.dataset","g.js":"basis.data.index","h.js":"basis.utils.benchmark","i.js":"core.test","j.js":"core.env",
"k.js":"basis.utils.info","l.js":"core.source","m.js":"esprima","n.js":"app.test","o.js":"app.highlight","p.js":"diff"},Ya={"0.css":"","0.code":"function importScripts(){\n  function importScript(url){\n    var req = new XMLHttpRequest();\n    req.open('GET', url, false);\n    req.setRequestHeader('If-Modified-Since', new Date(0).toGMTString());\n    req.send(null);\n\n    if (req.status >= 200 && req.status < 400)\n      (window.execScript || function(fn){\n        window['eval'].call(window, fn);\n      })(req.responseText);\n    else\n      throw 'Can\\'t load script: ' + url;\n  }\n\n  for (var i = 0; i < arguments.length; i++)\n    importScript(arguments[i])\n}\n\nfunction __initTestEnvironment(initCode, deprecateTestEnvironment){\n  // basis.js default behaviour\n  if (typeof basisjsToolsFileSync != 'undefined')\n    basisjsToolsFileSync.notifications.attach(function(type, filename){\n      if (typeof basis == 'undefined')\n        return; // no basis.js available\n\n      if (type == 'update' && (\n            (basis.filename_ == filename) ||\n            (basis.resource && basis.resource.exists(filename))\n         ))\n        deprecateTestEnvironment();\n    });\n\n  // fallback deprecate function\n  if (typeof deprecateTestEnvironment != 'function')\n    deprecateTestEnvironment = function(){};\n\n  // main part\n  return eval(initCode + ';(function(__code){\\n' +\n  '  return eval(\"(\" + __code + \")\");' +\n  '})');\n}\n",
"4.tmpl":[[1,0,["element"],"div",[4,[["ingyzkkf2wd1jzpzc__","hasOwnEnvironment",2,"hasOwnEnvironment",0]],0,"ih82bd1qigi3keors__test"],[1,0,0,"div",[4,0,0,"ingyzkkf2wd1jzpzc__header"],[1,0,0,"span",[4,0,0,"ingyzkkf2wd1jzpzc__select-button"],[6,"click","select"],[3,0,0,"pick up"]],[1,0,0,"span",[3,1,["name"]]],[1,0,0,"span",[4,[["ingyzkkf2wd1jzpzc__splitter_","state",1,"state",0,["processing","ready","error"]]],0,"ingyzkkf2wd1jzpzc__splitter"],[3,0,0," — "]],[1,0,0,"span",[4,[["ingyzkkf2wd1jzpzc__state_state-",
"state",1,"state",0,["processing","ready","error"]],["ingyzkkf2wd1jzpzc__state_","pending",2,"pending",0]],0],[3,1,["stateMessage"]]]]]],"1.tmpl":[[1,0,["element"],"div",[4,[["iwgdqcir5d5dne2hb__app-toc-item_","selected",2,"selected",0]],0,"iwgdqcir5d5dne2hb__app-toc-item"],[6,"click","select"],[6,"dblclick","pickup"],[1,0,0,"span",[4,[["iwgdqcir5d5dne2hb__app-toc-item__progress_","state",1,"progressState",0,["undefined","processing"]]],0,"iwgdqcir5d5dne2hb__app-toc-item__progress"],[5,[[["progress"],
[0,"%"],"width"],[["showProgress"],[0],"display","show"]],0,"display:none"]],[1,0,0,"span",[4,[["iwgdqcir5d5dne2hb__app-toc-item__state-","state",1,"state",0,["processing","ready","error","pending"]],["iwgdqcir5d5dne2hb__app-toc-item__state-","pending",2,"pending",0]],0,"iwgdqcir5d5dne2hb__app-toc-item__state"],[3,1,["stateMessage"]]],[1,0,0,"span",[4,0,0,"iwgdqcir5d5dne2hb__app-toc-item__name"],[3,1,["name"]]]]],"2.tmpl":[[1,0,["element"],"div",[4,0,0,"iecuk01e53g2lnm1s__app-toc"],[8,1,["levelUp"]],
[8,1,["faultTests"]]]],"3.tmpl":[[1,1,["code","element"],"pre",[4,0,0,"Basis-SyntaxHighlight"],[1,0,0,"div",[4,0,0,"part"],[5,[[["beforeCount"],[0],"display","show"]],0,"display:none"],[1,0,0,"div",[4,[["part-header__","hasParent",2,"hasParent",0]],0,"part-header"],[5,[[["beforeCollapsed"],[0],"display","show"]],0,"display:none"],[1,0,0,"span",[4,0,0,"caption"],[6,"click","toggleBefore"],[3,0,0,"Before each"]],[1,0,0,"span",[4,[["before-count__","beforeCount",1,"beforeCount",0,["1"]]],0],[3,0,0," x "],
[3,1,["beforeCount"]]]],[1,0,0,"div",[4,0,0,"content"],[5,[[["beforeCollapsed"],[0],"display","hide"]],0],[8,1,["beforeCode"]]]],[1,0,0,"div",[4,0,0,"part content"],[8,1,["sourceCode"]]],[1,0,0,"div",[4,0,0,"part"],[5,[[["afterCount"],[0],"display","show"]],0,"display:none"],[1,0,0,"div",[4,[["part-header__","hasParent",2,"hasParent",0]],0,"part-header part-header__after"],[5,[[["afterCollapsed"],[0],"display","show"]],0,"display:none"],[1,0,0,"span",[4,0,0,"caption"],[6,"click","toggleAfter"],[3,
0,0,"After each"]],[1,0,0,"span",[4,[["after-count__","afterCount",1,"afterCount",0,["1"]]],0],[3,0,0," x "],[3,1,["afterCount"]]]],[1,0,0,"div",[4,0,0,"content"],[5,[[["afterCollapsed"],[0],"display","hide"]],0],[8,1,["afterCode"]]]]]],"0.tmpl":[[1,0,["element"],"iframe",[2,[["src"],[0]],0,"src"],[6,"load","ready"],[5,0,0,"width:10px;height:10px;top:-100px;position:absolute;border:none;opacity:.0001"]]],"5.tmpl":[[1,0,["element"],"div",[4,[["ivafy1o8cg2v0mjxu__","hasOwnEnvironment",2,"hasOwnEnvironment",
0]],0,"ih82bd1qigi3keors__test ivafy1o8cg2v0mjxu__suite"],[1,0,0,"div",[4,0,0,"ivafy1o8cg2v0mjxu__header"],[1,0,0,"span",[4,0,0,"ivafy1o8cg2v0mjxu__select-button"],[6,"click","select"],[3,0,0,"pick up"]],[1,0,0,"span",[3,1,["name"]]],[1,0,0,"span",[4,[["ivafy1o8cg2v0mjxu__splitter_","state",1,"state",0,["processing","ready","error"]]],0,"ivafy1o8cg2v0mjxu__splitter"],[3,0,0," — "]],[1,0,0,"span",[4,[["ivafy1o8cg2v0mjxu__state_state-","state",1,"state",0,["processing","ready","error"]],["ivafy1o8cg2v0mjxu__state_",
"pending",2,"pending",0]],0],[3,1,["stateMessage"]]]],[1,1,["childNodesElement"],"div",[4,0,0,"ivafy1o8cg2v0mjxu__content"]]]],"6.tmpl":[[1,0,["element"],"div",[4,[["iphpccszuzc5lcflv__","hasOwnEnvironment",2,"hasOwnEnvironment",0]],0,"ih82bd1qigi3keors__test"],[1,0,0,"div",[4,0,0,"iphpccszuzc5lcflv__header"],[1,0,0,"span",[4,0,0,"iphpccszuzc5lcflv__select-button"],[6,"click","select"],[3,0,0,"pick up"]],[1,0,0,"span",[3,1,["name"]]],[1,0,0,"span",[4,[["iphpccszuzc5lcflv__splitter_","state",1,"state",
0,["processing","ready","error"]]],0,"iphpccszuzc5lcflv__splitter"],[3,0,0," — "]],[1,0,0,"span",[4,[["iphpccszuzc5lcflv__state_state-","state",1,"state",0,["processing","ready","error"]],["iphpccszuzc5lcflv__state_","pending",2,"pending",0]],0],[3,1,["stateMessage"]]]],[8,1,["source"]]]],"7.tmpl":[[1,0,["element"],"div",[4,[["iwdzoixdtcf8cet81__","hasDelegate",2,"hasDelegate",0]],0,"iwdzoixdtcf8cet81__test"],[1,0,0,"div",[4,0,0,"iwdzoixdtcf8cet81__header"],[1,0,0,"div",[4,0,0,"iwdzoixdtcf8cet81__buttons"],
[1,0,0,"span",[4,[["iwdzoixdtcf8cet81__button-pickup_","type",1,"type",0,["suite"]]],0,"iwdzoixdtcf8cet81__button iwdzoixdtcf8cet81__button-pickup"],[6,"click","select"],[3,0,0,"pick up"]]],[1,0,0,"span",[4,0,0,"iwdzoixdtcf8cet81__caption"],[3,1,["name"]]],[1,0,0,"span",[4,[["iwdzoixdtcf8cet81__splitter_","state",1,"state",0,["processing","ready","error"]]],0,"iwdzoixdtcf8cet81__splitter"],[3,0,0," — "]],[1,0,0,"span",[4,[["iwdzoixdtcf8cet81__state_state-","state",1,"state",0,["processing","ready",
"error"]],["iwdzoixdtcf8cet81__state_","pending",2,"pending",0]],0],[3,1,["stateMessage"]]]],[1,1,["childNodesElement"],"div",[4,0,0,"ih82bd1qigi3keors__tree"]],[8,1,["sourceCode"]]]],"8.tmpl":[[1,0,["element"],"div",[2,0,0,"id","layout"],[1,0,0,"div",[2,0,0,"id","header"],[4,[["ie35uhyh6y81oj8mr__header_","runnerState",1,"runnerState",0,["running","fault","ok"]]],0],[1,0,0,"div",[4,0,0,"ie35uhyh6y81oj8mr__header__buttons"],[1,0,0,"button",[4,0,0,"ie35uhyh6y81oj8mr__header-button"],[6,"click","run"],
[3,"l10n:button.caption.{runnerState}@0.l10n",0]]],[1,0,0,"span",[4,0,0,"ie35uhyh6y81oj8mr__header-caption"],[1,0,0,"span",[5,[[["name"],[0],"display","hide"]],0],[3,0,0,"Untitled test suite"]],[1,0,0,"span",[5,[[["name"],[0],"display","show"]],0,"display:none"],[3,1,["name"]]]],[1,0,0,"div",[4,0,0,"ie35uhyh6y81oj8mr__header__stat"],[5,[[["name"],[0],"display","show"]],0,"display:none"],[1,0,0,"span",[4,0,0,"ie35uhyh6y81oj8mr__stat"],[1,0,0,"span",[4,0,0,"ie35uhyh6y81oj8mr__stat__label"],[3,0,0,"Test total"]],
[1,0,0,"span",[4,0,0,"ie35uhyh6y81oj8mr__stat__value"],[3,1,["total"]]]],[1,0,0,"span",[4,0,0,"ie35uhyh6y81oj8mr__stat"],[1,0,0,"span",[4,0,0,"ie35uhyh6y81oj8mr__stat__label"],[3,0,0,"Done tests"]],[1,0,0,"span",[4,0,0,"ie35uhyh6y81oj8mr__stat__value"],[3,1,["done"]]]],[1,0,0,"span",[4,0,0,"ie35uhyh6y81oj8mr__stat"],[1,0,0,"span",[4,0,0,"ie35uhyh6y81oj8mr__stat__label"],[3,0,0,"Done asserts"]],[1,0,0,"span",[4,0,0,"ie35uhyh6y81oj8mr__stat__value"],[3,1,["assert"]]]],[1,0,0,"span",[4,0,0,"ie35uhyh6y81oj8mr__stat"],
[1,0,0,"span",[4,0,0,"ie35uhyh6y81oj8mr__stat__label"],[3,0,0,"Time"]],[1,0,0,"span",[4,0,0,"ie35uhyh6y81oj8mr__stat__value"],[3,1,["time"]],[3,0,0," "],[1,0,0,"span",[4,0,0,"ie35uhyh6y81oj8mr__stat__unit"],[3,0,0,"s"]]]]]],[1,0,0,"div",[2,0,0,"id","sidebar"],[8,1,["toc"]]],[1,0,0,"div",[2,0,0,"id","content"],[8,1,["tests"]]]]],"0.l10n":{"en-US":{button:{caption:{running:"Running...",fault:"Start!",ok:"Start!",stopped:"Start!"}}}},"q.js":function(g,O,a,w,C,L,A,V,ba){function D(a){for(var c,e=[],d=
[],k={},f=0;f<a.length;f++)f%2?(c=a[f],k[c]||(k[c]=e.length,e.push(c)),d.push(k[c])):a[f]&&d.push(h(a[f]));return[e,d]}function E(a,c,e){function f(b){return b.attrs.reduce(function(b,n){b[(n.prefix?n.prefix+":":"")+n.name]=n.value;return b},{})}function k(){var x=1,a=0;b=Array(e.length);n=Array(e.length);for(var c=0;c<e.length+1;c++)b[c]=x,n[c]=a,"\n"===e[c]?(x++,a=0):a++}function q(x){return{line:b[x],column:n[x]}}function l(b){return{start:q(b.start_),end:q(b.end_)}}function m(b){c.loc&&(b.loc=
l(b.range),b.valueRange&&(b.valueLoc=l(b.valueRange)));c.range?(b.range=[b.range.start_,b.range.end_],b.valueRange&&(b.valueRange=[b.valueRange.start_,b.valueRange.end_])):(delete b.range,delete b.valueRange)}function F(b){for(var n,c,a=0;n=b[a++];c=n){if(n.type==y){for(var e=f(n),k=0,q;q=n.attrs[k++];){var qa;"b"==n.prefix?"value"==q.name?/^(|append-|set-|remove-)class$/.test(n.name)?qa="class":/^(|append-|set-|remove-)attr$/.test(n.name)&&(qa=e.name):"include"==n.name&&("class"==q.name?qa="class":
"id"==q.name&&(qa="id")):qa=q.name;if(qa){var Fa=q,Da=qa,l=m,N=Fa.value,W=0,da=void 0,I=void 0;if(N)switch(Da){case "class":for(var da=Fa.valueRange.start_,Ea=/(\s*)(\S+)/g,ma=[],ua=[],I=void 0,W=[];I=Ea.exec(N);){var xa=I[2],Ba={value:xa,range:{start_:da+=I[1].length,end_:da+=xa.length}};l(Ba);(I=xa.match(z))?(I=[I[1]||"",I[2]],I.info_=Ba,W.push(I)):ma.push(xa);ua.push(Ba)}N=ma.join(" ");Fa.map_=ua;break;case "style":l=[];W=[];if(da=N.match(G))for(Ea=0,I=void 0;I=da[Ea];Ea++)I=I.match(R),ma=I[1],
N=I[2].trim(),I=N.split(K),1<I.length?(N=D(I),N.push(ma),W.push(N)):l.push(ma+": "+h(N));(N=l.join("; "))&&(N+=";");break;default:da=N.split(P),1<da.length?W=D(da):N=h(N)}W&&!W.length&&(W=0);Fa.binding=W;Fa.value=N;Fa.type=d[Da]||t}else q.value=h(q.value||"");m(q)}F(n.children)}n.type==v&&(n.value=h(n.value),n.refs||!c||c.type!=v||c.refs||(c.value+=n.value,c.end_=n.end_,b.splice(--a,1)));n.type==u&&(n.value=h(n.value));m(n)}}var b,n;c.loc&&k();F(a)}g=a.require("./9.js");var y=g.TYPE_ELEMENT,t=g.TYPE_ATTRIBUTE,
v=g.TYPE_TEXT,u=g.TYPE_COMMENT,d=g.ATTR_TYPE_BY_NAME,m=/((?:.|[\r\n])*?)(\{(?:l10n:([a-zA-Z_][a-zA-Z0-9_\-]*(?:\.[a-zA-Z_][a-zA-Z0-9_\-]*)*(?:\.\{[a-zA-Z_][a-zA-Z0-9_\-]*\})?)\})?|<(\/|!--(\s*\{)?)?|$)/g,l=/([a-z_][a-z0-9\-_]*)(:|\{|\s*(\/?>)?)/ig,f=/([a-z_][a-z0-9_\-]*)(:|\{|=|\s*)|(\/?>)/ig,c=/(.|[\r\n])*?--\x3e/g,q=/([a-z_][a-z0-9_\-]*(?::[a-z_][a-z0-9_\-]*)?)>/ig,e=/([a-z_][a-z0-9_]*)(\||\}\s*)/ig,F=/"((?:(\\")|[^"])*?)"\s*/g,I=/\\"/g,T=/^/g,k=/^(area|base|br|col|command|embed|hr|img|input|link|meta|param|source)$/i,
N={text:/((?:.|[\r\n])*?)(?:<\/b:text>|$)/g,style:/((?:.|[\r\n])*?)(?:<\/b:style>|$)/g},P=/\{([a-z_][a-z0-9_]*|l10n:[a-z_][a-z0-9_]*(?:\.[a-z_][a-z0-9_]*)*(?:\.\{[a-z_][a-z0-9_]*\})?)\}/i,z=/^((?:[a-z_][a-z0-9_\-]*)?(?::(?:[a-z_][a-z0-9_\-]*)?)?)\{((anim:)?[a-z_][a-z0-9_\-]*)\}$/i,G=/\s*[^:]+?\s*:(?:\(.*?\)|".*?"|'.*?'|[^;]+?)+(?:;|$)/gi,R=/\s*([^:]+?)\s*:((?:\(.*?\)|".*?"|'.*?'|[^;]+?)+);?$/i,K=/\{([a-z_][a-z0-9_]*)\}/i,h=function(c){function h(c,a){e[a]||("#"==a.charAt(0)?e[a]=String.fromCharCode("x"==
a.charAt(1)||"X"==a.charAt(1)?parseInt(a.substr(2),16):a.substr(1)):k&&(k.innerHTML=c,e[a]=k.firstChild?k.firstChild.nodeValue:c));return e[a]||c}var e={},k=a.NODE_ENV?null:document.createElement("div"),f=/&([a-z]+\d*|#\d+|#x[0-9a-f]{1,4});?/gi;return function(c){return String(c).replace(f,h)}}();O.exports=function(a,h){var d=[],P=[],z={children:d},R=!1,G,g=m,K=0,b=0,n,x,$,aa;h&&!1===h.trim||(K=b=a.match(/^\s*/)[0].length,a=a.trimRight());for(;K<a.length||g!=m;)if($=g.lastIndex=K,(aa=g.exec(a))&&
aa.index===K){K=g.lastIndex;switch(g){case m:n=$+aa[1].length;b!=n&&($=b==$?aa[1]:a.substring(b,n),($=$.replace(/\s*(\r\n?|\n\r?)\s*/g,""))&&z.children.push({type:v,len:$.length,value:$,range:{start_:b,end_:n}}));b=n;aa[3]?z.children.push({type:v,refs:["l10n:"+aa[3]],value:"{l10n:"+aa[3]+"}",range:{start_:n,end_:K}}):"{"==aa[2]?(x=K-1,z.children.push(G={type:v,range:{start_:n,end_:n}}),g=e):aa[4]?"/"==aa[4]?(G=null,g=q):(z.children.push(G={type:u,range:{start_:n,end_:n}}),aa[5]?(x=K-aa[5].length,
g=e):(x=K,g=c)):aa[2]&&(R=!0,P.push(z),z.children.push(G={type:y,attrs:[],children:[],range:{start_:n,end_:n}}),z=G,g=l);break;case q:aa[1]!==(z.prefix?z.prefix+":":"")+z.name?z.children.push({type:v,value:"</"+aa[0],range:{start_:$-2,end_:$+aa[0].length}}):z=P.pop();g=m;break;case l:case f:if(":"==aa[2]){G.prefix?g=T:G.prefix=aa[1];break}aa[1]&&(G.name=aa[1],G.range.end_=$+aa[1].length,G.type==t&&z.attrs.push(G));if("{"==aa[2]){g=G.type==y?e:T;break}if(aa[3]){R=!1;z.range.end_=K;if("/>"==aa[3]||
!z.prefix&&k.test(z.name))z=P.pop();else if("b"==z.prefix&&z.name in N){g=N[z.name];break}g=m;break}if("="==aa[2]){g=F;break}G={type:t,range:{start_:K,end_:K}};g=f;break;case c:G.value=a.substring(x,K-3);G.range.end_=K;g=m;break;case e:G.refs?G.refs.push(aa[1]):G.refs=[aa[1]];"|"!=aa[2]&&(G.type==v?(K-=aa[2].length-1,G.value=a.substring(x,K),G.range.end_=K,g=m):G.type==u?g=c:G.type==t&&"="==a[K]?(K++,g=F):(G={type:t,range:{start_:K,end_:K}},g=f));break;case F:G.value=aa[1].replace(I,'"');G.range.end_=
K;G.valueRange={start_:$+1,end_:$+1+aa[1].length};G={type:t,range:{start_:K,end_:K}};g=f;break;case N.text:case N.style:z.children.push({type:v,value:aa[1],range:{start_:$,end_:$+aa[1].length}});z=P.pop();g=m;break;default:throw 11;}g==m&&(b=K)}else if(g==e&&G&&G.type==u)g=c;else{R&&(z=P.pop());G&&z.children.pop();if(G=z.children.pop())G.type!=v||G.refs?z.children.push(G):b-="len"in G?G.len:G.value.length;R=!1;g=m}b!=K&&z.children.push({type:v,value:a.substring(b,K),range:{start_:b,end_:K}});E(d,
h||{},a);d.templateTokens=!0;return d}},"r.js":function(g,O,a,w,C,L,A,V,ba){var D=/^\-?([_a-z]|[^\x00-\xb1]|\\[0-9a-f]{1,6}(\r\n|[ \n\r\t\f])?|\\[^\n\r\f0-9a-f])/i,E=/^(media|supports|document)\b/i,y=/^(not|has|matches|nth-child|nth-last-child)\(/i;O.exports=function(g,v){function u(a,c){var e=g.indexOf(a,c);k=-1!==e?e+a.length:F.length}function d(a){a=F[k];if('"'===a||"'"===a){for(k++;k<I&&F[k]!==a;k++)"\\"===F[k]&&k++;return!0}}function m(a){a=F[k];if("("===a)return u(")",k+1),!0;if("["===a){for(k++;k<
I&&"]"!==F[k];k++)d();return!0}}function l(){if("/"===F[k]&&"*"===F[k+1])return u("*/",k+2),!0}function f(){if(":"===F[k]){var a=g.substr(k+1,15).match(y);if(a)for(k+=a[0].length+1;k<I&&")"!=F[k];k++)l()||m()||f()||c();return!0}}function c(){if("."===F[k])return g.substr(k+1,8).match(D)&&(k++,e.push(g.substring(T,k),v),T=k),!0}function q(a){for(N=!1;k<I;k++){var e;if(!(e=l()))if("@"!==F[k])e=void 0;else{if(e=g.substr(k+1,8).match(E))k+=e[0].length,N=!0;e=!0}if(!(e||f()||m()||c())){if(a&&"}"==F[k])break;
if("{"===F[k])if(N)k++,q(!0);else for(k++;k<I&&"}"!==F[k];k++)d()||m()}}}var e=[],F=g.split(""),I=F.length,T=0,k=0,N;v||(v="i"+a.genUID()+"__");q(!1);return e.join("")+g.substring(T)}},"c.js":function(g,O,a,w,C,L,A,V,ba){function D(){var d=a.array(arguments).join("."),e=u[d];e||(e=new c("",d),u[d]=e);return e}function E(a,c){for(var d=[],f={},l=[],k=0;k<c.length;k++)f[c[k]]||(f[c[k]]=!0,l.push(c[k]));d.source=l.join("/");f={base:!0};for(l=0;l<c.length;l++)k=c[l]||"base",k==a||f[k]||(t(k),f[k]=!0,
d.push(k),c.splice.apply(c,[l+1,0].concat(v[k].fallback)));d.unshift(a);"base"!=a&&d.push("base");d.value=d.join("/");return d}function y(a,c){for(var d=v[a].sourcesList,f=0,l;l=d[f];f++)if(l.hasOwnProperty(c))return l[c];return""}function t(c){c||(c="base");if(v[c])return v[c].theme;if(!/^([a-z0-9\_\-]+)$/.test(c))throw 12;var e={},F=[e],g=new f;v[c]={theme:g,sources:e,sourcesList:F,fallback:[]};var t=function(a,d){0==a in e&&(e[a]=d,-1!=v[m].fallback.indexOf(c)&&D(a).set());return D(a)};a.object.extend(g,
{name:c,fallback:function(a){if(g!==l&&0<arguments.length){var d="string"==typeof a?a.split("/"):[],e={},d=E(c,d);if(v[c].fallback.source!=d.source){v[c].fallback.source=d.source;for(var f in v){var G=v[f].fallback,d=E(f,(G.source||"").split("/"));if(d.value!=G.value){e[f]=!0;v[f].fallback=d;G=v[f].sourcesList;G.length=d.length;for(var F=0;F<G.length;F++)G[F]=v[d[F]].sources}}}for(f in e)if(-1!=v[m].fallback.indexOf(f)){d=void 0;for(d in u)D(d).set();break}}d=v[c].fallback.slice(1);d.source=v[c].fallback.source;
return d},define:function(a,c){"function"==typeof a&&(a=a());if("string"==typeof a){if("object"==typeof c){var d=a,e=c,f={},l;for(l in e)e.hasOwnProperty(l)&&(f[l]=t(d+"."+l,e[l]));return f}return 1==arguments.length?D(a):t(a,c)}if("object"==typeof a){e=a;for(d in e)e.hasOwnProperty(d)&&t(d,e[d]);return g}},apply:function(){if(c!=m){m=c;for(var a in u)D(a).set();a=0;for(var e;e=d[a];a++)e.fn.call(e.context,c)}return g},getSource:function(a,d){return d?y(c,a):e[a]},drop:function(a){e.hasOwnProperty(a)&&
(delete e[a],-1!=v[m].fallback.indexOf(c)&&D(a).set())}});v[c].fallback=E(c,[]);F.push(v.base.sources);return g}g=this.path;var v={},u={},d=[],m="base",l,f=a.Class(null,{className:g+".Theme",get:D}),c=a.Class(a.Token,{className:g+".SourceWrapper",path:"",url:"",baseURI:"",init:function(c,d){this.path=d;a.Token.prototype.init.call(this,"")},get:function(){return this.value&&this.value.bindingBridge?this.value.bindingBridge.get(this.value):this.value},set:function(){var d=y(m,this.path);this.value!=
d&&(this.value&&this.value.bindingBridge&&this.value.bindingBridge.detach(this.value,c.prototype.apply,this),this.url=(this.value=d)&&d.url||"",this.baseURI=("object"==typeof d||"function"==typeof d)&&"baseURI"in d?d.baseURI:a.path.dirname(this.url)+"/",this.value&&this.value.bindingBridge&&this.value.bindingBridge.attach(this.value,c.prototype.apply,this),this.apply())},destroy:function(){this.baseURI=this.url=null;this.value&&this.value.bindingBridge&&this.value.bindingBridge.detach(this.value,
this.apply,this);a.Token.prototype.destroy.call(this)}});a.cleaner.add({destroy:function(){for(var a in u)u[a].destroy();u=v=null}});l=t();O.exports={SourceWrapper:c,Theme:f,theme:t,getThemeList:function(){return a.object.keys(v)},currentTheme:function(){return v[m].theme},setTheme:function(a){return t(a).apply()},onThemeChange:function(a,c,f){d.push({fn:a,context:c});f&&a.call(c,m)},define:l.define,get:D,getPathList:function(){return a.object.keys(u)}};t("base").define({"#1":a.resource("0.tmpl"),
"#2":a.resource("1.tmpl"),"#3":a.resource("2.tmpl"),"#4":a.resource("3.tmpl"),"#5":a.resource("4.tmpl"),"#6":a.resource("5.tmpl"),"#7":a.resource("6.tmpl"),"#8":a.resource("7.tmpl"),"#9":a.resource("8.tmpl")})},"d.js":function(g,O,a,w,C,L,A,V,ba){function D(){}function E(){}function y(){}function t(qa){var b=qa.constructor.prototype;qa.setDelegate=b.setDelegate;qa.destroy=b.destroy}function v(qa){return qa.sortingValue||0}function u(qa,b){qa=qa.sortingValue||0;b=b.sortingValue||0;return+(qa>b)||-(qa<
b)}function d(qa,b){qa=qa.sortingValue||0;b=b.sortingValue||0;return-(qa>b)||+(qa<b)}function m(b){return b.childNodes.sort(b.sortingDesc?d:u)}function l(b,n,a,c){if(!b.length)return 0;c=!!c;var d,x,e=0,h=b.length-1;do if(d=e+h>>1,x=a(b[d]),c?n>x:n<x)h=d-1;else if(c?n<x:n>x)e=d+1;else return n==x?d:0;while(e<=h);return d+(x<n^c)}function f(b,n,a,c,d){if(n!==a){var x=b,e=[];c&&(b.contextSelection=a,b.selected&&!b.selectedRA_&&e.push(b));for(;x;){if((c=!x.selection||d&&x===b?x.firstChild:null)&&c.contextSelection!==
n)throw 13;for(;!c;){if(x===b){if(e.length&&(n&&n.remove(e),a))for(a.add(e),b=0;b<e.length;b++)n=e[b],n.selected&&!a.has(n)&&(n.selected=!1,n.emit_unselect());return}c=x.nextSibling;c||(x=x.parentNode)}x=c;x.selected&&!x.selectedRA_&&e.push(x);x.contextSelection=a}}}function c(b,n){b.contextDisabled!=n&&(b.contextDisabled=n,b.disabled||(n?b.emit_disable():b.emit_enable()))}function q(b){if(!b)return null;if(b.isSatelliteConfig||b instanceof n)return b;I.isClass(b)&&(b={satelliteClass:b});if(b.constructor===
Object){var c=!1,d="update",x,e={isSatelliteConfig:!0},h;for(h in b){var r=b[h];switch(h){case "instance":r instanceof n&&(e[h]=r);break;case "instanceOf":case "satelliteClass":if("instanceOf"==h&&"satelliteClass"in b)break;I.isClass(r)&&r.isSubclassOf(n)&&(x=r);break;case "existsIf":case "delegate":case "dataSource":r&&("string"==typeof r&&(r=z(r)),"function"!=typeof r?r=a.fn.$const(r):c=!0);e[h]=r;break;case "config":e[h]="string"==typeof r?z(r):r;break;case "events":d=b.events}}e.instance||(e.satelliteClass=
x||n);if(c&&(Array.isArray(d)&&(d=d.join(" ")),"string"==typeof d))for(b={},d=d.split(/\s+/),c=0;x=d[c];c++)b[x]=pa,e.handler=b;return e}return null}function e(b,n){var a=n.length-1;b.childNodes=n;b.firstChild=n[0]||null;b.lastChild=n[a]||null;for(var c=a;a=n[c];c--)a.nextSibling=n[c+1]||null,a.previousSibling=n[c-1]||null,b.insertBefore(a,a.nextSibling)}function F(b,n){var a;if("function"==typeof b.childFactory&&(a=b.childFactory(n),a instanceof b.childClass))return a;if(!a)throw 16;throw 17;}g=
this.path;var I=a.Class,T=a.object.complete,k=a.array,N=a.array.remove,P=a.fn.$undef,z=a.getter,G=a.fn.nullGetter;C=a.require("./2.js");w=C.create;var R=C.events;C=a.require("./1.js");var K=C.resolveValue,h=C.resolveDataset,na=C.SUBSCRIPTION,J=C.STATE,ja=C.Object,H=C.ReadOnlyDataset,fa=C.Dataset,ga={ANY:!0,NONE:!1,PARENT:"parent",OWNER:"owner"},la={};na.addProperty("owner");na.addProperty("dataSource");na.add("CHILD",{childNodesModified:function(b,n){var a;if(a=n.inserted)for(var c=0;a[c];c++)na.link("child",
b,a[c]);if(a=n.deleted)for(c=0;a[c];c++)na.unlink("child",b,a[c])}},function(b,n){for(var a=n.childNodes||[],c=0,d;d=a[c];c++)b("child",n,d)});na.add("SATELLITE",{satelliteChanged:function(b,n,a){a&&na.unlink("satellite",b,a);b.satellite[n]&&na.link("satellite",b,b.satellite[n])}},function(b,n){var a=n.satellite;if(a!==oa)for(var c in a)"__auto__"!==c&&b("satellite",n,a[c])});var oa=I.customExtendProperty({},function(b,n){for(var a in n)b[a]=q(n[a])}),pa=function(){var b=this.name,n=this.config,a=
this.owner,c=this.instance,d=0=="existsIf"in n||n.existsIf(a);if(K(this,pa,d,"existsAdapter"))if(c)n.delegate&&c.setDelegate(n.delegate(a)),n.dataSource&&c.setDataSource(n.dataSource(a));else{if(c=n.instance)n.delegate&&c.setDelegate(n.delegate(a)),n.dataSource&&c.setDataSource(n.dataSource(a));else{var x,c=("function"==typeof n.config?n.config(a):n.config)||{};c.owner=a;n.delegate&&(c.autoDelegate=!1,c.delegate=n.delegate(a));n.dataSource&&(c.dataSource=n.dataSource(a));c=new n.satelliteClass(c);
c.destroy=y;(x=a.listen.satellite)&&c.addHandler(x,a);(x=a.listen["satellite:"+b])&&c.addHandler(x,a)}this.instance=c;a.setSatellite(b,c,!0)}else c&&(n.instance&&(n.delegate&&c.setDelegate(),n.dataSource&&c.setDataSource()),this.instance=null,a.setSatellite(b,null,!0))},b={destroy:function(){this.owner.setSatellite(this.name,null)}},n=I(ja,{className:g+".AbstractNode",subscribeTo:ja.prototype.subscribeTo+na.DATASOURCE+na.SATELLITE,isSyncRequired:function(){return this.state==J.UNDEFINED||this.state==
J.DEPRECATED},syncEvents:{activeChanged:!1},emit_update:function(b){ja.prototype.emit_update.call(this,b);if(b=this.parentNode)b.matchFunction&&this.match(b.matchFunction),b.insertBefore(this,this.nextSibling)},listen:{owner:{destroy:function(){this.ownerSatelliteName||this.setOwner()}}},autoDelegate:ga.NONE,name:null,childNodes:null,emit_childNodesModified:w("childNodesModified","delta")&&function(b){R.childNodesModified.call(this,b);var n=this.listen.childNode,a;if(n){if(a=b.inserted)for(var c=
0,d;d=a[c];c++)d.addHandler(n,this);if(a=b.deleted)for(c=0;d=a[c];c++)d.removeHandler(n,this)}},childNodesState:J.UNDEFINED,emit_childNodesStateChanged:w("childNodesStateChanged","oldState"),childClass:n,dataSource:null,emit_dataSourceChanged:w("dataSourceChanged","oldDataSource"),dataSourceRA_:null,dataSourceMap_:null,destroyDataSourceMember:!0,parentNode:null,emit_parentChanged:w("parentChanged","oldParentNode"),nextSibling:null,previousSibling:null,firstChild:null,lastChild:null,sorting:G,sortingDesc:!1,
emit_sortingChanged:w("sortingChanged","oldSorting","oldSortingDesc"),groupingClass:null,grouping:null,emit_groupingChanged:w("groupingChanged","oldGrouping"),groupNode:null,groupId:NaN,satellite:oa,ownerSatelliteName:null,emit_satelliteChanged:w("satelliteChanged","name","oldSatellite"),owner:null,emit_ownerChanged:w("ownerChanged","oldOwner"),init:function(){ja.prototype.init.call(this);var b=this.childNodes,n=this.dataSource;b&&(this.childNodes=null);n&&(this.dataSource=null);var a=this.grouping;
a&&(this.grouping=null,this.setGrouping(a));this.childClass&&(this.childNodes=[],n?this.setDataSource(n):b&&this.setChildNodes(b));b=this.satellite;if(b!==oa){this.satellite=oa;for(var c in b)b[c]&&"object"==typeof b[c]&&this.setSatellite(c,b[c])}if(c=this.owner)this.owner=null,this.setOwner(c)},setChildNodesState:function(b,n){var a=String(b),c=this.childNodesState;if(!J.values[a])throw 14;if(c!=a||c.data!=n)this.childNodesState=Object(a),this.childNodesState.data=n,this.emit_childNodesStateChanged(c)},
appendChild:function(b){},insertBefore:function(b,n){},removeChild:function(b){},replaceChild:function(b,n){},clear:function(b){},setChildNodes:function(b){},setGrouping:function(b,n){},setSorting:function(b,n){},setDataSource:function(b){},setOwner:function(b){b&&0!=b instanceof n||(b=null);if(b&&this.parentNode)throw 15;var a=this.owner;if(a!==b){var c=this.listen.owner;if(a){if(this.ownerSatelliteName&&a.satellite.__auto__&&this.ownerSatelliteName in a.satellite.__auto__)return;c&&a.removeHandler(c,
this);this.ownerSatelliteName&&(this.owner=null,a.setSatellite(this.ownerSatelliteName,null))}b&&c&&b.addHandler(c,this);this.owner=b;this.emit_ownerChanged(a);this.autoDelegate!=ga.OWNER&&this.autoDelegate!==ga.ANY||this.setDelegate(b)}},setSatellite:function(a,c,d){var x=this.satellite[a]||null,e=this.satellite.__auto__,r=e&&e[a],h=d&&r;if(h)(c=r.instance)&&r.config.instance&&delete r.config.instance.setOwner;else{if((c=q(c))&&c.owner===this&&e&&c.ownerSatelliteName&&e[c.ownerSatelliteName])return;
r&&(delete e[a],r.config.instance&&r.config.instance.removeHandler(b,r),r.config.handler&&this.removeHandler(r.config.handler,r))}if(x!==c){d=this.listen.satellite;var f=this.listen["satellite:"+a],$;x&&(delete this.satellite[a],x.ownerSatelliteName=null,r&&x.destroy===y?$=x:(d&&x.removeHandler(d,this),f&&x.removeHandler(f,this),x.setOwner(null)),h&&!c&&r.config.instance&&(r.config.instance.setOwner=E));if(c){if(0==c instanceof n){r={owner:this,name:a,config:c,instance:null,existsAdapter:null};c.handler&&
this.addHandler(c.handler,r);c.instance&&(c.instance.addHandler(b,r),c.instance.setOwner=E);e||(this.satellite===oa&&(this.satellite={}),e=this.satellite.__auto__={});e[a]=r;pa.call(r,this);!r.instance&&x&&this.emit_satelliteChanged(a,x);$&&(delete $.destroy,$.destroy());return}if(c.owner!==this){r&&r.config.delegate?(e=c.autoDelegate,c.autoDelegate=!1,c.setOwner(this),c.autoDelegate=e):c.setOwner(this);if(c.owner!==this)return;d&&c.addHandler(d,this);f&&c.addHandler(f,this)}else c.ownerSatelliteName&&
(delete this.satellite[c.ownerSatelliteName],this.emit_satelliteChanged(c.ownerSatelliteName,c));this.satellite==oa&&(this.satellite={});this.satellite[a]=c;c.ownerSatelliteName=a}this.emit_satelliteChanged(a,x);$&&(delete $.destroy,$.destroy())}},getChildNodesDataset:function(){return la[this.basisObjectId]||new wa({sourceNode:this})},destroy:function(){ja.prototype.destroy.call(this);this.dataSource||this.dataSourceRA_?this.setDataSource():this.firstChild&&this.clear();this.parentNode&&this.parentNode.removeChild(this);
this.grouping&&(this.grouping.setOwner(),this.grouping=null);this.owner&&this.setOwner();var b=this.satellite;if(b!==oa){var n=b.__auto__;delete b.__auto__;for(var c in n)n[c].config.instance&&!n[c].instance&&n[c].config.instance.destroy(),n[c].existsAdapter&&K(n[c],null,null,"existsAdapter");for(c in b)n=b[c],n.owner=null,n.ownerSatelliteName=null,n.destroy===y&&delete n.destroy,n.destroy();this.satellite=null}this.childNodes=null}}),x=I(n,{className:g+".PartitionNode",autoDestroyIfEmpty:!1,nodes:null,
first:null,last:null,init:function(){this.nodes=[];n.prototype.init.call(this)},insert:function(b,n){var c=this.nodes,a=n?c.indexOf(n):-1;-1==a?(c.push(b),this.last=b):c.splice(a,0,b);this.first=c[0];b.groupNode=this;this.emit_childNodesModified({inserted:[b]})},remove:function(b){var n=this.nodes;N(n,b)&&(this.first=n[0]||null,this.last=n[n.length-1]||null,b.groupNode=null,this.emit_childNodesModified({deleted:[b]}));!this.first&&this.autoDestroyIfEmpty&&this.destroy()},clear:function(){if(this.first){for(var b=
this.nodes,n=b.length;0<n--;)b[n].groupNode=null;this.nodes=[];this.last=this.first=null;this.emit_childNodesModified({deleted:b});this.autoDestroyIfEmpty&&this.destroy()}},destroy:function(){n.prototype.destroy.call(this);this.last=this.first=this.nodes=null}}),$={childClass:n,childFactory:null,listen:{dataSource:{itemsChanged:function(b,n){var c={},d=[];if(n.deleted)if(c.deleted=d,this.childNodes.length==n.deleted.length){for(var d=k(this.childNodes),x=0,r;r=d[x];x++)t(r);x=this.dataSource;this.dataSource=
null;this.clear(!0);this.dataSource=x;this.dataSourceMap_={}}else for(x=0;r=n.deleted[x];x++){r=r.basisObjectId;var e=this.dataSourceMap_[r];t(e);delete this.dataSourceMap_[r];this.removeChild(e);d.push(e)}if(n.inserted)for(c.inserted=[],x=0;r=n.inserted[x];x++){var h=e=F(this,{delegate:r});h.setDelegate=a.fn.$undef;h.destroy=D;this.dataSourceMap_[r.basisObjectId]=e;c.inserted.push(e);this.firstChild&&this.insertBefore(e)}this.firstChild?this.emit_childNodesModified(c):this.setChildNodes(c.inserted);
if(this.destroyDataSourceMember&&d.length)for(x=0;r=d[x];x++)r.destroy()},stateChanged:function(b){this.setChildNodesState(b.state,b.state.data)},destroy:function(b){this.dataSourceRA_||this.setDataSource()}}},getChild:function(b,n){return a.array.search(this.childNodes,b,n)},getChildByName:function(b){return this.getChild(b,"name")},appendChild:function(b){return this.insertBefore(b)},insertBefore:function(b,n){if(!this.childClass)throw 18;if(b.firstChild)for(var a=this;a=a.parentNode;)if(a===b)throw 19;
var x=b&&b instanceof this.childClass;if(this.dataSource){if(!x||!b.delegate||this.dataSourceMap_[b.delegate.basisObjectId]!==b)throw 20;}else if(this.dataSourceRA_)throw 21;x||(b=F(this,b instanceof ja?{delegate:b}:b));if(b.owner)throw 22;var x=b.parentNode===this,d=this.childNodes,r=this.grouping,e=b.groupNode,h=null,$=this.sorting,ma,ua=!1,xa,a=-1,k,za;x&&(k=b.nextSibling,za=b.previousSibling);$!==G&&(n=null,ma=this.sortingDesc,xa=$(b)||0,x&&(xa===b.sortingValue?ua=!0:(!k||(ma?k.sortingValue<=
xa:k.sortingValue>=xa))&&(!za||(ma?za.sortingValue>=xa:za.sortingValue<=xa))&&(b.sortingValue=xa,ua=!0)));if(r){h=r.getGroupNode(b,!0);r=h.nodes;if(e===h&&(ua||$===G&&k===n))return b;$!==G?e===h&&ua?a=k&&k.groupNode===h?r.indexOf(k):r.length:(a=l(r,xa,v,ma),b.sortingValue=xa):a=n&&n.groupNode===h?r.indexOf(n):r.length;if(a<r.length)n=r[a];else if(h.last)n=h.last.nextSibling;else for(a=h,n=null;(a=a.nextSibling)&&!(n=a.first););if(b===n||x&&k===n)return e!==h&&(e&&e.remove(b),h.insert(b,n)),b;a=-1}else if($!==
G){if(ua)return b;a=l(d,xa,v,ma);n=d[a];b.sortingValue=xa;if(b===n||x&&k===n)return b}else{if(n&&n.parentNode!==this)throw 23;if(x){if(k===n)return b;if(b===n)throw 24;}}x?(k?(k.previousSibling=za,b.nextSibling=null):this.lastChild=za,za?(za.nextSibling=k,b.previousSibling=null):this.firstChild=k,-1==a?N(d,b):(ma=d.indexOf(b),d.splice(ma,1),a-=ma<a),e&&(e.remove(b),e=null)):b.parentNode&&b.parentNode.removeChild(b);e!=h&&h.insert(b,n);if(n){-1==a&&(a=d.indexOf(n));if(-1==a)throw 25;b.nextSibling=
n;d.splice(a,0,b)}else a=d.length,d.push(b),n={previousSibling:this.lastChild},this.lastChild=b;b.parentNode=this;b.previousSibling=n.previousSibling;0==a?this.firstChild=b:n.previousSibling.nextSibling=b;n.previousSibling=b;x||(f(b,b.contextSelection,this.selection||this.contextSelection,!0),c(b,this.disabled||this.contextDisabled),(b.underMatch_||this.matchFunction)&&b.match&&b.match(this.matchFunction),b.autoDelegate!=ga.PARENT&&b.autoDelegate!==ga.ANY||b.setDelegate(this),b.emit_parentChanged(null),
this.dataSource||this.emit_childNodesModified({inserted:[b]}),b.listen.parentNode&&this.addHandler(b.listen.parentNode,b));return b},removeChild:function(b){if(!b||b.parentNode!==this)throw 26;if(0==b instanceof this.childClass)throw 27;if(this.dataSource){if(this.dataSource.has(b.delegate))throw 28;}else if(this.dataSourceRA_)throw 29;var n=this.childNodes.indexOf(b);if(-1==n)throw 30;this.childNodes.splice(n,1);b.parentNode=null;b.nextSibling?b.nextSibling.previousSibling=b.previousSibling:this.lastChild=
b.previousSibling;b.previousSibling?b.previousSibling.nextSibling=b.nextSibling:this.firstChild=b.nextSibling;b.nextSibling=null;b.previousSibling=null;b.listen.parentNode&&this.removeHandler(b.listen.parentNode,b);f(b,b.contextSelection,null,!0);b.groupNode&&b.groupNode.remove(b);b.emit_parentChanged(this);this.dataSource||this.emit_childNodesModified({deleted:[b]});b.autoDelegate!=ga.PARENT&&b.autoDelegate!==ga.ANY||b.setDelegate();return b},replaceChild:function(b,n){if(this.dataSource)throw 31;
if(this.dataSourceRA_)throw 32;if(null==n||n.parentNode!==this)throw 33;this.insertBefore(b,n);return this.removeChild(n)},clear:function(b){if(this.dataSource&&this.dataSource.itemCount)throw 34;if(this.firstChild){b&&f(this,this.selection||this.contextSelection,null,!1,!0);var n=this.childNodes;this.lastChild=this.firstChild=null;this.childNodes=[];this.emit_childNodesModified({deleted:n});for(var a=n.length;0<a--;){var c=n[a];c.listen.parentNode&&c.parentNode.removeHandler(c.listen.parentNode,
c);c.parentNode=null;c.groupNode=null;b?(c.nextSibling=null,c.previousSibling=null,c.emit_parentChanged(this),c.autoDelegate!=ga.PARENT&&c.autoDelegate!==ga.ANY||c.setDelegate()):c.destroy()}if(this.grouping)for(n=this.grouping.childNodes,a=n.length-1;b=n[a];a--)b.clear()}},setChildNodes:function(b,n){this.dataSource||this.dataSourceRA_||this.clear(n);if(b&&(0=="length"in b&&(b=[b]),b.length)){var a=this.emit_childNodesModified;this.emit_childNodesModified=P;for(var c=0,x=b.length;c<x;c++)this.insertBefore(b[c]);
this.emit_childNodesModified=a;this.emit_childNodesModified({inserted:this.childNodes})}},setDataSource:function(b){if(!this.childClass)throw 35;b=h(this,this.setDataSource,b,"dataSourceRA_");if(this.dataSource!==b){var n=this.dataSource,a=this.listen.dataSource;n&&(this.dataSource=this.dataSourceMap_=null,a&&n.removeHandler(a,this));if(this.firstChild){if(n)for(var c=0,x;x=this.childNodes[c];c++)t(x);this.clear(!this.destroyDataSourceMember)}(this.dataSource=b)?(this.dataSourceMap_={},this.setChildNodesState(b.state,
b.state.data),a&&(b.addHandler(a,this),b.itemCount&&a.itemsChanged&&a.itemsChanged.call(this,b,{inserted:b.getItems()}))):this.setChildNodesState(J.UNDEFINED);this.emit_dataSourceChanged(n)}},setGrouping:function(b,n){if("function"==typeof b||"string"==typeof b)b={rule:b};0==b instanceof r&&(b=b&&"object"==typeof b?new this.groupingClass(b):null);if(this.grouping!==b){var a=this.grouping,c;if(a){this.grouping=null;if(!b&&this.firstChild){c=this.sorting!==G?m(this):this.childNodes;a.nullGroup.clear();
for(var x=a.childNodes.slice(0),d=0;d<x.length;d++)x[d].clear();e(this,c)}a.setOwner()}if(b&&(this.grouping=b,b.setOwner(this),this.firstChild)){c=this.sorting!==G?m(this):this.childNodes;for(d=0;x=c[d];d++)x.groupNode=this.grouping.getGroupNode(x,!0);for(d=0;x=c[d];d++)x.groupNode.nodes.push(x);c.length=0;for(d=this.grouping.nullGroup;d;d=d.nextSibling)x=d.nodes,d.first=x[0]||null,d.last=x[x.length-1]||null,c.push.apply(c,x),d.emit_childNodesModified({inserted:x});e(this,c)}this.emit_groupingChanged(a)}},
setSorting:function(b,n){b=z(b);n=!!n;if(this.sorting!==b||this.sortingDesc!=!!n){var a=this.sorting,c=this.sortingDesc;this.sorting=b;this.sortingDesc=!!n;if(b!==G&&this.firstChild){var x=[],d;for(d=this.firstChild;d;d=d.nextSibling)d.sortingValue=b(d)||0;if(this.grouping)for(var r=this.grouping.nullGroup;r;r=r.nextSibling)d=r.nodes=m({childNodes:r.nodes,sortingDesc:this.sortingDesc}),r.first=d[0]||null,r.last=d[d.length-1]||null,x.push.apply(x,d);else x=m(this);e(this,x)}this.emit_sortingChanged(a,
c)}},setMatchFunction:function(b){if(this.matchFunction!=b){var n=this.matchFunction;this.matchFunction=b;for(var a=this.lastChild;a;a=a.previousSibling)a.match(b);this.emit_matchFunctionChanged(n)}}},aa=I(n,$,{className:g+".Node",emit_enable:w("enable")&&function(){for(var b=this.firstChild;b;b=b.nextSibling)c(b,!1);R.enable.call(this)},emit_disable:w("disable")&&function(){for(var b=this.firstChild;b;b=b.nextSibling)c(b,!0);R.disable.call(this)},emit_satelliteChanged:function(b,a){n.prototype.emit_satelliteChanged.call(this,
b,a);this.satellite[b]instanceof aa&&c(this.satellite[b],this.disabled||this.contextDisabled)},emit_select:w("select"),emit_unselect:w("unselect"),emit_match:w("match"),emit_unmatch:w("unmatch"),emit_matchFunctionChanged:w("matchFunctionChanged","oldMatchFunction"),selected:!1,selectedRA_:null,selection:null,contextSelection:null,matchFunction:null,matched:!0,disabled:!1,disabledRA_:null,contextDisabled:!1,listen:{owner:{enable:function(){c(this,!1)},disable:function(){c(this,!0)}},selection:{destroy:function(){this.setSelection()}}},
init:function(){var b=this.disabled;this.disabled=!1;var a=this.selection;a&&(this.selection=null,this.setSelection(a));n.prototype.init.call(this);if(b&&(b=!!K(this,this.setDisabled,b,"disabledRA_")))for(this.disabled=b,b=this.firstChild;b;b=b.nextSibling)c(b,!0);this.selected&&(this.selected=!!K(this,this.setSelected,this.selected,"selectedRA_"))},setSelection:function(b){!1===b instanceof La&&(b=b?new La(b):null);if(this.selection!==b)return f(this,this.selection||this.contextSelection,b||this.contextSelection,
!1,!0),this.selection&&this.listen.selection&&this.selection.removeHandler(this.listen.selection,this),(this.selection=b)&&this.listen.selection&&b.addHandler(this.listen.selection,this),!0},select:function(b){return this.setSelected(!0,b)},unselect:function(){return this.setSelected(!1)},setSelected:function(b,n){var a=this.contextSelection;b=!!K(this,this.setSelected,b,"selectedRA_");this.selected&&a&&(this.selectedRA_?a.has(this)&&(this.selected=!1,a.remove(this),this.selected=!0):a.has(this)||
a.add(this));if(b!==this.selected)return this.selectedRA_?(this.selected=b)?this.emit_select():this.emit_unselect():b?a?n?a.add(this):a.set(this):(this.selected=!0,this.emit_select()):a?a.remove(this):(this.selected=!1,this.emit_unselect()),!0;!this.selectedRA_&&b&&a&&(n?a.remove(this):a.set(this));return!1},enable:function(){return this.setDisabled(!1)},disable:function(){return this.setDisabled(!0)},setDisabled:function(b){b=!!K(this,this.setDisabled,b,"disabledRA_");if(this.disabled!==b)return this.disabled=
b,this.contextDisabled||(b?this.emit_disable():this.emit_enable()),!0},isDisabled:function(){return this.disabled||this.contextDisabled},match:function(b){"function"!=typeof b&&(b=null);this.underMatch_&&!b&&this.underMatch_(this,!0);this.underMatch_=b;b=!b||b(this);this.matched!=b&&((this.matched=b)?this.emit_match():this.emit_unmatch())},destroy:function(){this.disabledRA_&&K(this,null,null,"disabledRA_");this.selectedRA_&&K(this,null,null,"selectedRA_");this.contextSelection=null;this.selection&&
this.setSelection();n.prototype.destroy.call(this)}}),r=I(n,$,{className:g+".GroupingNode",emit_childNodesModified:function(b){R.childNodesModified.call(this,b);this.nullGroup.nextSibling=this.firstChild;var n;if(n=b.inserted){b=0;for(var a;a=n[b++];)a.groupId_=a.delegate?a.delegate.basisObjectId:a.data.id,this.map_[a.groupId_]=a;if(this.dataSource&&this.nullGroup.first)for(n=this.owner,a=k(this.nullGroup.nodes),b=a.length;0<b--;)n.insertBefore(a[b],a[b].nextSibling)}},emit_ownerChanged:function(b){b&&
b.grouping===this&&b.setGrouping(null,!0);this.owner&&this.owner.grouping!==this&&this.owner.setGrouping(this);R.ownerChanged.call(this,b);!this.owner&&this.autoDestroyWithNoOwner&&this.destroy()},map_:null,nullGroup:null,autoDestroyWithNoOwner:!0,autoDestroyEmptyGroups:!0,rule:G,childClass:x,childFactory:function(b){return new this.childClass(T({autoDestroyIfEmpty:this.dataSource?!1:this.autoDestroyEmptyGroups},b))},init:function(){this.map_={};this.nullGroup=new x;n.prototype.init.call(this)},getGroupNode:function(b,
n){var a=this.rule(b),c=a instanceof ja,d=this.map_[c?a.basisObjectId:a];this.dataSource&&(n=!1);!d&&n&&(d=this.appendChild(c?a:{data:{id:a,title:a}}));return d||this.nullGroup},setDataSource:function(b){var n=this.dataSource;$.setDataSource.call(this,b);if((b=this.owner)&&this.dataSource!==n)for(var n=k(b.childNodes),a=n.length-1;0<=a;a--)b.insertBefore(n[a],n[a+1])},insertBefore:function(b,n){b=$.insertBefore.call(this,b,n);var a=b.first;if(a){for(var c=a.parentNode,d=b.last,r,e,h,f=null,ma=b;(ma=
ma.nextSibling)&&!(f=ma.first););h=f?f.previousSibling:c.lastChild;r=a.previousSibling;e=d.nextSibling;if(e!==f){var ua=c.childNodes,ma=b.nodes,xa=ma.length;r&&(r.nextSibling=e);e&&(e.previousSibling=r);h&&(h.nextSibling=a);f&&(f.previousSibling=d);a.previousSibling=h;d.nextSibling=f;var d=ua.indexOf(a),k=f?ua.indexOf(f):ua.length;k>d&&(k-=xa);ua.splice(d,xa);ua.splice.apply(ua,[k,0].concat(ma));h&&r||(c.firstChild=ua[0]);f&&e||(c.lastChild=ua[ua.length-1]);if(a instanceof x)for(a=xa;0<a--;)c.insertBefore(ma[a],
f),f=ma[a]}}return b},removeChild:function(b){if(b=$.removeChild.call(this,b)){delete this.map_[b.groupId_];for(var n=0,a;a=b.nodes[n];n++)a.parentNode.insertBefore(a)}return b},clear:function(b){var n=[],a=this.getGroupNode,c=this.nullGroup;this.getGroupNode=function(){return c};for(var d=this.firstChild;d;d=d.nextSibling)n.push.apply(n,d.nodes);for(var d=0,x;x=n[d];d++)x.parentNode.insertBefore(x);this.getGroupNode=a;$.clear.call(this,b);this.map_={}},destroy:function(){this.autoDestroyWithNoOwner=
!1;n.prototype.destroy.call(this);this.nullGroup.destroy();this.map_=this.nullGroup=null}});n.prototype.groupingClass=r;var za={childNodesModified:function(b,n){var a=this.members_,c={},d,x=0,r=0,e=n.inserted,h=n.deleted;if(e&&e.length)for(c.inserted=e;d=e[x];)a[d.basisObjectId]=d,x++;if(h&&h.length)for(c.deleted=h;d=h[r];)delete a[d.basisObjectId],r++;(x||r)&&this.emit_itemsChanged(c)},destroy:function(){this.destroy()}},wa=I(H,{className:g+".ChildNodesDataset",sourceNode:null,init:function(){H.prototype.init.call(this);
var b=this.sourceNode;la[b.basisObjectId]=this;b.firstChild&&za.childNodesModified.call(this,b,{inserted:b.childNodes});b.addHandler(za,this)},destroy:function(){this.sourceNode.removeHandler(za,this);delete la[this.sourceNode.basisObjectId];H.prototype.destroy.call(this)}}),La=I(fa,{className:g+".Selection",multiple:!1,emit_itemsChanged:function(b){var n;fa.prototype.emit_itemsChanged.call(this,b);if(n=b.deleted)for(var a=0,c;c=n[a];a++)c.selected&&c.contextSelection===this&&(c.selected=!1,c.emit_unselect());
if(n=b.inserted)for(a=0;c=n[a];a++)c.selected||c.contextSelection!==this||(c.selected=!0,c.emit_select())},add:function(b){if(b){if(!this.multiple&&this.itemCount)return this.set(b);Array.isArray(b)||(b=[b]);b=b.filter(this.filter,this);!this.multiple&&1<b.length&&(b=[b[0]]);if(b.length)return fa.prototype.add.call(this,b)}},set:function(b){if(!b)return this.clear();Array.isArray(b)||(b=[b]);b=b.filter(this.filter,this);!this.multiple&&1<b.length&&(b=[b[0]]);return b.length?fa.prototype.set.call(this,
b):this.clear()},filter:function(b){return b instanceof aa&&!b.selectedRA_&&b.contextSelection===this}});O.exports={DELEGATE:ga,AbstractNode:n,Node:aa,GroupingNode:r,PartitionNode:x,ChildNodesDataset:wa,Selection:La,nullSelection:new H}},"e.js":function(g,O,a,w,C,L,A,V,ba){function D(a){for(var c=[],e=0,f;f=a[e];e++)f=f.root,f instanceof d&&c.push(f),f.firstChild&&c.push.apply(c,D(f.childNodes));return c}function E(){y();c=u();m.set("running");l.set({action:"start",testCount:k.value});if(F.itemCount)return setTimeout(E,
10);e.forEach(function(a){(a=a.getEnvRunner())&&a.destroy()});I.setSource(e)}function y(){I.itemCount&&F.add(I.getItems().filter(function(a){return a.state==t.PROCESSING}));I.setSource()}var t=a.require("./1.js").STATE;C=a.require("./1.js").Value;var v=a.require("./1.js").Object;L=a.require("./1.js").Dataset;g=a.require("./3.js").Expression;A=a.require("./f.js").Filter;V=a.require("./f.js").Slice;w=a.require("./g.js").count;ba=a.require("./g.js").sum;var u=a.require("./h.js").time,d=a.require("./i.js").TestCase,
m=new a.Token("stopped"),l=new a.Token,f=new C({value:0}),c,q=0,e=new L,F=new L({listen:{item:{stateChanged:function(a){a.state!=t.PROCESSING&&this.remove(a)}}}});C=new A({source:e,ruleEvents:"stateChanged",rule:function(a){return a.state==t.ERROR||a.state==t.READY},handler:{itemsChanged:function(a,c){c.inserted&&c.inserted.forEach(function(a){var c=[],d=[],e=a,h=a.state.data instanceof v?a.state.data.data:{};if(h.error)for(var f in h.errorLines)c.push.apply(c,h.errorLines[f].map(function(a){return{line:f,
type:a.error,expected:a.expectedStr,actual:a.actualStr}}));for(;e=e.parentNode;)d.unshift(e.data.name);l.set({action:"report",name:a.data.name,path:d,source:h.testSource,success:a.state!=t.ERROR,skipped:h.pending,time:h.time,exception:h.exception?"Exception on line "+h.lastLine+": "+h.exception:null,errors:c.length?c:null})})}}});L=new A({source:C,ruleEvents:"stateChanged",rule:function(a){return a.state==t.ERROR}});var I=new A({ruleEvents:"stateChanged",rule:function(a){return a.state!=t.READY&&
a.state!=t.ERROR}}),T=new V({source:I,rule:"basisObjectId",limit:1,handler:{itemsChanged:function(c,d){d.inserted&&d.inserted.forEach(function(c){(q++%4?a.asap:a.nextTick)(function(){T.has(c)&&c.run()})})}}});A=ba(e,"stateChanged",function(a){return a.state.data instanceof v?a.state.data.data.testCount:0});var k=w(e);V=w(C);w=w(L);g=new g(k,V,function(a,c){return a-c});g.addHandler({change:function(a,d){c&&f.set(u(c));!this.value&&d&&(m.set("stopped"),l.set({action:"finish",time:f.value}))}});O.exports=
{state:m,time:f,doneTests:C,faultTests:L,count:{assert:A,total:k,left:g,done:V,fault:w},loadTests:function(a){y();e.set(D(a))},run:E,stop:y,subscribe:function(a,c){return l.attach(a,c)},unsubscribe:function(a,c){return l.detach(a,c)},on:function(c,d,e){l.attach(function(f){f.action==c&&d.call(e,a.object.slice(f))})}}},"f.js":function(g,O,a,w,C,L,A,V,ba){function D(b,a){var c={},d;b&&b.length&&(d=c.inserted=b);a&&a.length&&(d=c.deleted=a);if(d)return c}function E(b,a){return function $(a){if(!a)return null;
if(a.__extend__)return a;"string"==typeof a||Array.isArray(a)||(a=null);return l(z(a,b),{__extend__:$})}(a)}function y(b,a,c,d){return new na(l({keyGetter:a,itemClass:c,create:function(b,a){var n=na.prototype.create.call(this,b,a);n.ruleValue=b;n.setDataset(new d({ruleValue:b}));return n}},b))}function t(b,a){if(!b.length)return 0;var c=a.value,d=a.object.basisObjectId,e,r,h,f,k=0,l=b.length-1;do if(h=k+l>>1,f=b[h],e=f.value,c<e)l=h-1;else if(c>e)k=h+1;else if(r=f.object.basisObjectId,d<r)l=h-1;else if(d>
r)k=h+1;else return h;while(k<=l);return h+(e==c?r<d:e<c)}function v(b,a){return+(b.value>a.value)||-(b.value<a.value)||b.object.basisObjectId-a.object.basisObjectId}function u(b,a,c){if((a=b.sourceMap_[a.basisObjectId])&&a.visited!==c){for(var d=a;d=d.ref;)if(d.object===b.source)return!0;a.visited=c;for(d=a;d=d.ref;)if(u(b,d.object,c||{}))return!0}}function d(b,a,c){var d=b.sourceMap_,e=b.members_;a=P(a);for(var r=[],f=0;f<a.length;f++){var k=a[f],l=k.basisObjectId;l||(c=k.ref,k=k.object,l=k.basisObjectId);
var q=d[l];if(q)q.ref={object:c,ref:q.ref};else if(q=d[l]={source:k,ref:{object:c,ref:null},visited:null,value:null},k instanceof h){var m=b.rule(k)||null;if(m instanceof h||m instanceof J)q.value=m,a.push({object:m,ref:k});e[l]=q;r.push(k);b.ruleEvents&&k.addHandler(b.ruleEvents,b)}else for(k.addHandler(pa,b),l=0,q=k.getItems();l<q.length;l++)a.push({object:q[l],ref:k})}return r}function m(b,a,c){var d=b.sourceMap_,e=b.members_;a=P(a);for(var r=[],f=0;f<a.length;f++){var k=a[f],l=k.basisObjectId;
l||(c=k.ref,k=k.object,l=k.basisObjectId);for(var q=d[l],m=q.value,g=q,F=q;g=g.ref;){if(g.object===c){F.ref=g.ref;break}F=g}if(q.ref)m&&!u(b,k)&&(q.value=null,a.push({object:m,ref:k}));else{if(k instanceof h)delete e[l],r.push(k),b.ruleEvents&&k.removeHandler(b.ruleEvents,b),m&&a.push({object:m,ref:k});else for(k.removeHandler(pa,b),q=0,m=k.getItems();q<m.length;q++)a.push({object:m[q],ref:k});delete d[l]}}return r}g=this.path;C=a.Class;var l=a.object.extend,f=a.object.values,c=a.object.slice,q=a.array.add,
e=a.array.remove,F=a.getter,I=a.fn.$self,T=a.fn.$true,k=a.fn.$false,N=a.fn.$undef,P=a.array.from;L=a.require("./2.js");w=L.create;var z=L.createHandler,G=L.Emitter;a=a.require("./1.js");var R=a.SUBSCRIPTION,K=a.Value,h=a.Object,na=a.KeyObjectMap,J=a.ReadOnlyDataset;ba=a.DatasetWrapper;var ja=a.resolveDataset,H=a.Dataset.setAccumulateState;R.add("SOURCE",{sourceChanged:function(b,a){a&&R.unlink("source",b,a);b.source&&R.link("source",b,b.source)},sourcesChanged:function(b,a){var c;if(c=a.inserted)for(var d=
0;c[d];d++)R.link("source",b,c[d]);if(c=a.deleted)for(d=0;c[d];d++)R.unlink("source",b,c[d])}},function(b,a){for(var c=a.sources||(a.source?[a.source]:[]),d=0,e;e=c[d++];)b("source",a,e)});R.addProperty("minuend");R.addProperty("subtrahend");var fa=C(J,{className:g+".Merge",subscribeTo:R.SOURCE,emit_sourcesChanged:w("sourcesChanged","delta"),sources:null,sourceValues_:null,sourcesMap_:null,sourceDelta_:null,rule:function(b,a){return 0<b},emit_ruleChanged:w("ruleChanged","oldRule"),listen:{source:{itemsChanged:function(b,
a){var c=this.members_,d={},e,r;if(a.inserted)for(var h=0;e=a.inserted[h];h++)r=e.basisObjectId,c[r]?c[r].count++:c[r]={count:1,object:e},d[r]=c[r];if(a.deleted)for(h=0;e=a.deleted[h];h++)r=e.basisObjectId,d[r]=c[r],c[r].count--;this.applyRule(d)}},sourceValue:{destroy:function(b){this.removeSource(b)}}},init:function(){J.prototype.init.call(this);var b=this.sources;this.sources=[];this.sourcesMap_={};this.sourceValues_=[];b&&this.setSources(b)},setRule:function(b){b=F(b||fa.UNION);if(this.rule!==
b){var a=this.rule;this.rule=b;this.emit_ruleChanged(a);return this.applyRule()}},applyRule:function(b){var a=this.members_,c=this.rule,d=this.sources.length,e=[],r=[],h,f;b||(b=a);for(var k in b)b=a[k],h=d&&b.count&&c(b.count,d),h!=k in this.items_&&(h?e.push(b.object):r.push(b.object)),0==b.count&&delete a[k];(f=D(e,r))&&this.emit_itemsChanged(f);return f},addDataset_:function(b){this.sources.push(b);this.listen.source&&b.addHandler(this.listen.source,this);var a=this.members_,c;for(c in b.items_)a[c]?
a[c].count++:a[c]={count:1,object:b.items_[c]};return!0},removeDataset_:function(b){e(this.sources,b);this.listen.source&&b.removeHandler(this.listen.source,this);var a=this.members_,c;for(c in b.items_)a[c].count--},updateDataset_:function(b){var a=this.owner,c=a.sourcesMap_;b=ja(this,a.updateDataset_,b,"adapter",a);var d,h;if(this.dataset!==b){if(b){var r=(c[b.basisObjectId]||0)+1;c[b.basisObjectId]=r;1==r&&(a.addDataset_(b),d=[b])}this.dataset&&(r=(c[this.dataset.basisObjectId]||0)-1,c[this.dataset.basisObjectId]=
r,0==r&&(a.removeDataset_(this.dataset),h=[this.dataset]));this.dataset=b;a.applyRule();if(c=D(d,h))(d=a.sourceDelta_)?(c.inserted&&c.inserted.forEach(function(b){e(this.deleted,b)||q(this.inserted,b)},d),c.deleted&&c.deleted.forEach(function(b){e(this.inserted,b)||q(this.deleted,b)},d)):a.emit_sourcesChanged(c);return c}},getSourceValues:function(){return this.sourceValues_.map(function(b){return b.source})},addSource:function(b){if(b&&("object"==typeof b||"function"==typeof b)&&!this.hasSource(b)){var a=
{owner:this,source:b,adapter:null,dataset:null};this.sourceValues_.push(a);this.updateDataset_.call(a,b);this.listen.sourceValue&&b instanceof G&&b.addHandler(this.listen.sourceValue,this)}},removeSource:function(b){for(var a=0,c;c=this.sourceValues_[a];a++)if(c.source===b){this.listen.sourceValue&&b instanceof G&&b.removeHandler(this.listen.sourceValue,this);this.updateDataset_.call(c,null);this.sourceValues_.splice(a,1);break}},hasSource:function(b){for(var a=0,c;c=this.sourceValues_[a];a++)if(c.source===
b)return!0;return!1},setSources:function(b){var a=this.sourceValues_.map(function(b){return b.source}),c=[],d=[],h;b||(b=[]);this.sourceDelta_={inserted:c,deleted:d};for(var r=0;r<b.length;r++){var f=b[r];e(a,f)||this.addSource(f)}a.forEach(this.removeSource,this);this.sourceDelta_=null;(h=D(c,d))&&this.emit_sourcesChanged(h);return h},destroy:function(){this.setSources();J.prototype.destroy.call(this);this.sources=this.sourceDelta_=this.sourcesMap_=this.sourceValues_=null}});fa.UNION=fa.prototype.rule;
fa.INTERSECTION=function(b,a){return b==a};fa.DIFFERENCE=function(b,a){return 1==b};fa.MORE_THAN_ONE_INCLUDE=function(b,a){return 1==a||1<b};fa.AT_LEAST_ONE_EXCLUDE=function(b,a){return 1==a||b<a};var ga=function(b){return!this.has(b)};a=C(J,{className:g+".Subtract",subscribeTo:R.MINUEND+R.SUBTRAHEND,minuend:null,minuendRA_:null,emit_minuendChanged:w("minuendChanged","oldMinuend"),subtrahend:null,subtrahendRA_:null,emit_subtrahendChanged:w("subtrahendChanged","oldSubtrahend"),listen:{minuend:{itemsChanged:function(b,
a){if(this.subtrahend){var c=D(a.inserted&&a.inserted.filter(ga,this.subtrahend),a.deleted&&a.deleted.filter(this.has,this));c&&this.emit_itemsChanged(c)}},destroy:function(){this.minuendRA_||this.setMinuend(null)}},subtrahend:{itemsChanged:function(b,a){if(this.minuend){var c=D(a.deleted&&a.deleted.filter(this.minuend.has,this.minuend),a.inserted&&a.inserted.filter(this.has,this));c&&this.emit_itemsChanged(c)}},destroy:function(){this.subtrahendRA_||this.setSubtrahend(null)}}},init:function(){J.prototype.init.call(this);
var b=this.minuend,a=this.subtrahend;this.subtrahend=this.minuend=null;(b||a)&&this.setOperands(b,a)},setOperands:function(b,a){var c,d=!1;b=ja(this,this.setMinuend,b,"minuendRA_");a=ja(this,this.setSubtrahend,a,"subtrahendRA_");var e=this.minuend,r=this.subtrahend;if(e!==b){d=!0;this.minuend=b;var h=this.listen.minuend;h&&(e&&e.removeHandler(h,this),b&&b.addHandler(h,this));this.emit_minuendChanged(e)}if(r!==a){d=!0;this.subtrahend=a;if(h=this.listen.subtrahend)r&&r.removeHandler(h,this),a&&a.addHandler(h,
this);this.emit_subtrahendChanged(r)}if(!d)return!1;if(b&&a){var d=[],e=[],f;for(f in this.items_)b.items_[f]&&!a.items_[f]||d.push(this.items_[f]);for(f in b.items_)this.items_[f]||a.items_[f]||e.push(b.items_[f]);(c=D(e,d))&&this.emit_itemsChanged(c)}else this.itemCount&&this.emit_itemsChanged(c={deleted:this.getItems()});return c},setMinuend:function(b){return this.setOperands(b,this.subtrahendRA_?this.subtrahendRA_.source:this.subtrahend)},setSubtrahend:function(b){return this.setOperands(this.minuendRA_?
this.minuendRA_.source:this.minuend,b)},destroy:function(){this.setOperands();J.prototype.destroy.call(this)}});var la=C(J,{className:g+".SourceDataset",subscribeTo:R.SOURCE,source:null,emit_sourceChanged:w("sourceChanged","oldSource"),sourceRA_:null,sourceMap_:null,listen:{source:{destroy:function(){this.sourceRA_||this.setSource()}}},init:function(){this.sourceMap_={};J.prototype.init.call(this);var b=this.source;b&&(this.source=null,this.setSource(b))},setSource:function(b){b=ja(this,this.setSource,
b,"sourceRA_");if(this.source!==b){var a=this.source,c=this.listen.source;this.source=b;if(c){var d=c.itemsChanged;H(!0);a&&(a.removeHandler(c,this),d&&d.call(this,a,{deleted:a.getItems()}));b&&(b.addHandler(c,this),d&&d.call(this,b,{inserted:b.getItems()}));H(!1)}this.emit_sourceChanged(a)}},destroy:function(){this.setSource();J.prototype.destroy.call(this);this.sourceMap_=null}}),oa=C(la,{className:g+".MapFilter",map:I,filter:k,rule:F(T),emit_ruleChanged:w("ruleChanged","oldRule"),ruleEvents:E(function(b){var a=
this.map?this.map(b):object;if(0==a instanceof h||this.filter(a))a=null;var c=this.sourceMap_[b.basisObjectId],d=c.member;if(d!==a){var e=this.members_,r,f,k;c.member=a;d&&(c=d.basisObjectId,this.removeMemberRef&&this.removeMemberRef(d,b),0==--e[c]&&(delete e[c],k=[d]));a&&(d=a.basisObjectId,this.addMemberRef&&this.addMemberRef(a,b),e[d]?e[d]++:(e[d]=1,f=[a]));(r=D(f,k))&&this.emit_itemsChanged(r)}},"update"),addMemberRef:null,removeMemberRef:null,listen:{source:{itemsChanged:function(b,a){var c=
this.sourceMap_,d=this.members_,e=[],r=[],f,k,l,q=this.ruleEvents;H(!0);if(a.inserted)for(var m=0;f=a.inserted[m];m++){l=this.map?this.map(f):f;if(0==l instanceof h||this.filter(l))l=null;q&&f.addHandler(q,this);c[f.basisObjectId]={sourceObject:f,member:l};l&&(k=l.basisObjectId,d[k]?d[k]++:(d[k]=1,e.push(l)),this.addMemberRef&&this.addMemberRef(l,f))}if(a.deleted)for(m=0;f=a.deleted[m];m++)k=f.basisObjectId,l=c[k].member,q&&f.removeHandler(q,this),delete c[k],l&&(k=l.basisObjectId,0==--d[k]&&(delete d[k],
r.push(l)),this.removeMemberRef&&this.removeMemberRef(l,f));H(!1);(a=D(e,r))&&this.emit_itemsChanged(a)}}},setMap:function(b){"function"!=typeof b&&(b=I);if(this.map!==b)return this.map=b,this.applyRule()},setFilter:function(b){"function"!=typeof b&&(b=k);if(this.filter!==b)return this.filter=b,this.applyRule()},setRule:function(b){b=F(b||T);if(this.rule!==b){var a=this.rule;this.rule=b;this.emit_ruleChanged(a);return this.applyRule()}},applyRule:function(){var b=this.sourceMap_,a=this.members_,c,
d,e,r,f,k=[],l=[],q,m;for(m in b){f=b[m];r=f.sourceObject;c=f.member;d=this.map?this.map(r):r;if(0==d instanceof h||this.filter(d))d=null;c!=d&&(f.member=d,c&&(e=c.basisObjectId,this.removeMemberRef&&this.removeMemberRef(c,r),a[e]--),d&&(c=d.basisObjectId,this.addMemberRef&&this.addMemberRef(d,r),c in a?a[c]++:(a[c]=1,k.push(d))))}for(e in this.items_)0==a[e]&&(delete a[e],l.push(this.items_[e]));(q=D(k,l))&&this.emit_itemsChanged(q);return q}});L=C(oa,{className:g+".Filter",filter:function(b){return!this.rule(b)}});
A=C(oa,{className:g+".Split",subsetClass:J,subsetWrapperClass:ba,keyMap:null,map:function(b){return this.keyMap.resolve(b)},rule:F(N),setRule:function(b){b=F(b||N);if(this.rule!==b){var a=this.rule;this.rule=b;this.keyMap.keyGetter=b;this.emit_ruleChanged(a);return this.applyRule()}},addMemberRef:function(b,a){b.dataset.emit_itemsChanged({inserted:[a]})},removeMemberRef:function(b,a){b.dataset.emit_itemsChanged({deleted:[a]})},init:function(){this.keyMap&&0!=this.keyMap instanceof na||(this.keyMap=
y(this.keyMap,this.rule,this.subsetWrapperClass,this.subsetClass));oa.prototype.init.call(this)},getSubset:function(b,a){return this.keyMap.get(b,a)},destroy:function(){oa.prototype.destroy.call(this);this.keyMap.destroy();this.keyMap=null}});V=C(la,{className:g+".Slice",rule:F(T),emit_ruleChanged:w("ruleChanged","oldRule","oldOrderDesc"),ruleEvents:E(function(b){var a=this.sourceMap_[b.basisObjectId];b=this.rule(b);var c=this.index_;if(b!==a.value){var d=t(c,a),e=c[d-1],h=c[d+1];a.value=b;if(e&&
(e.value>b||e.value==b&&e.object.basisObjectId>a.object.basisObjectId)||h&&(h.value<b||h.value==b&&h.object.basisObjectId<a.object.basisObjectId))c.splice(d,1),c.splice(t(c,a),0,a),this.applyRule()}},"update"),index_:null,left_:null,right_:null,orderDesc:!1,offset:0,limit:10,listen:{source:{itemsChanged:function(b,a){var c=this.sourceMap_,d=this.index_,e=this.ruleEvents,h=!1,f=!1,k,l=a.inserted,q=a.deleted;if(q){q.length>d.length-q.length&&(h=!0,f=q.length!=d.length,d.length=0);for(var m=0,g;g=q[m];m++)h||
(k=c[g.basisObjectId],d.splice(t(d,k),1)),delete c[g.basisObjectId],e&&g.removeHandler(e,this);if(f)for(var u in c)k=c[u],d.splice(t(d,k),0,k)}if(l){f=!d.length;for(m=0;g=l[m];m++)k={object:g,value:this.rule(g)},c[g.basisObjectId]=k,f?d.push(k):d.splice(t(d,k),0,k),e&&g.addHandler(e,this);f&&d.sort(v)}this.applyRule()}}},emit_rangeChanged:w("rangeChanged","oldOffset","oldLimit"),init:function(){this.index_=[];la.prototype.init.call(this)},setRange:function(b,a){var c=this.offset,d=this.limit,e=!1;
if(c!=b||d!=a)this.offset=b,this.limit=a,e=this.applyRule(),this.emit_rangeChanged(c,d);return e},setOffset:function(b){return this.setRange(b,this.limit)},setLimit:function(b){return this.setRange(this.offset,b)},setRule:function(b,a){b=F(b||T);a=!!a;if(this.rule!=b||this.orderDesc!=a){var c=this.rule,d=this.orderDesc;if(this.rule!=b){for(var e=this.index_,h=0;h<e.length;h++)e[h].value=b(e[h].object);e.sort(v);this.rule=b}this.orderDesc=a;this.rule=b;this.emit_ruleChanged(c,d);return this.applyRule()}},
applyRule:function(){var b=this.offset,a=b+this.limit;this.orderDesc&&(b=this.index_.length-a,a=b+this.limit);for(var d=c(this.members_),e=this.index_.slice(Math.max(0,b),Math.max(0,a)),h=[],r,k=0,l;l=e[k];k++){var q=l.object.basisObjectId;d[q]?delete d[q]:(h.push(l.object),this.members_[q]=l.object)}for(q in d)delete this.members_[q];if(this.left_)for(var m in this.left_)l=this.index_[this.orderDesc?a+Number(m)-1:b-Number(m)],this.left_[m].set(l?l.object:null);if(this.right_)for(m in this.right_)l=
this.index_[this.orderDesc?b-Number(m):a+Number(m)-1],this.right_[m].set(l?l.object:null);(r=D(h,f(d)))&&this.emit_itemsChanged(r);return r},left:function(b){b=parseInt(b,10)||0;this.left_||(this.left_={});var a=this.left_[b];if(!a){var a=this.offset,c=a+this.limit;this.orderDesc&&(a=this.index_.length-c,c=a+this.limit);a=this.index_[this.orderDesc?c+b-1:a-b];a=this.left_[b]=new K({value:a?a.object:null})}return a},right:function(b){b=parseInt(b,10)||0;this.right_||(this.right_={});var a=this.right_[b];
if(!a){var a=this.offset,c=a+this.limit;this.orderDesc&&(a=this.index_.length-c,c=a+this.limit);a=this.index_[this.orderDesc?a-b:c+b-1];a=this.right_[b]=new K({value:a?a.object:null})}return a},destroy:function(){la.prototype.destroy.call(this);if(this.left_){for(var b in this.left_)this.left_[b].destroy();this.left_=null}if(this.right_){for(b in this.right_)this.right_[b].destroy();this.right_=null}this.index_=null}});C=C(la,{className:g+".Cloud",subsetClass:J,subsetWrapperClass:ba,rule:F(N),ruleEvents:E(function(b){var a=
this.sourceMap_,c=this.members_,d=b.basisObjectId,e=a[d].list,a=a[d].list={},d=this.rule(b),h,f=[],k=[],l;if(Array.isArray(d))for(var q=0;q<d.length;q++)(l=this.keyMap.get(d[q],!0))&&!l.has(b)&&(m=l.basisObjectId,a[m]=l,e[m]||(l.dataset.emit_itemsChanged({inserted:[b]}),c[m]?c[m]++:(f.push(l),c[m]=1)));for(var m in e)a[m]||(l=e[m],l.dataset.emit_itemsChanged({deleted:[b]}),--c[m]||(delete c[m],k.push(l)));(h=D(f,k))&&this.emit_itemsChanged(h)},"update"),keyMap:null,map:I,listen:{source:{itemsChanged:function(b,
a){var c=this.sourceMap_,d=this.members_,e=this.ruleEvents,h,f,k,l=[],q=[];H(!0);if(h=a.inserted)for(var m=0,g;g=h[m];m++){var u=this.rule(g),F={object:g,list:{}};c[g.basisObjectId]=F;if(Array.isArray(u))for(var z=0,G={};z<u.length;z++)(f=this.keyMap.get(u[z],!0))&&!G[f.basisObjectId]&&(k=f.basisObjectId,G[k]=!0,F.list[k]=f,f.dataset.emit_itemsChanged({inserted:[g]}),d[k]?d[k]++:(l.push(f),d[k]=1));e&&g.addHandler(e,this)}if(h=a.deleted)for(m=0;g=h[m];m++){f=g.basisObjectId;u=c[f].list;delete c[f];
for(k in u)f=u[k],f.dataset.emit_itemsChanged({deleted:[g]}),--d[k]||(delete d[k],q.push(f));e&&g.removeHandler(e,this)}H(!1);(a=D(l,q))&&this.emit_itemsChanged(a)}}},init:function(){this.keyMap&&0!=this.keyMap instanceof na||(this.keyMap=y(this.keyMap,this.rule,this.subsetWrapperClass,this.subsetClass));la.prototype.init.call(this)},getSubset:function(b,a){return this.keyMap.get(b,a)},destroy:function(){la.prototype.destroy.call(this);this.keyMap.destroy();this.keyMap=null}});ba=function(b,a){var c=
a.inserted,e=a.deleted;c&&(c=d(this,c,b));e&&(e=m(this,e,b));(a=D(c,e))&&this.emit_itemsChanged(a)};var pa={itemsChanged:ba,destroy:function(b){for(var a=this.sourceMap_,c=a[b.basisObjectId];c=c.ref;)a[c.object.basisObjectId].value=null;delete a[b.basisObjectId]}};g=la.subclass({className:g+".Extract",rule:F(N),emit_ruleChanged:w("ruleChanged","oldRule"),ruleEvents:E(function(b){var a=this.sourceMap_[b.basisObjectId],c=this.rule(b)||null,e=a.value,f,r,k;if(c!==e){if(c instanceof h||c instanceof J)f=
d(this,c,b);e&&(r=m(this,e,b));a.value=c;(k=D(f,r))&&this.emit_itemsChanged(k)}},"update"),listen:{source:{itemsChanged:ba}},setRule:function(b){b=F(b||N);if(this.rule!==b){var a=this.rule;this.rule=b;this.emit_ruleChanged(a);return this.applyRule()}},applyRule:function(){var b={},a={},c,e;for(e in this.sourceMap_){var k=this.sourceMap_[e],r=k.source;if(r instanceof h){var l=this.rule(r)||null,q=k.value;if(l!==q){if(l instanceof h||l instanceof J)for(var g=d(this,l,r),u=0;u<g.length;u++){var F=g[u],
z=F.basisObjectId;a[z]?delete a[z]:b[z]=F}if(q)for(r=m(this,q,r),u=0;u<r.length;u++)F=r[u],z=F.basisObjectId,b[z]?delete b[z]:a[z]=F;k.value=l}}}(c=D(f(b),f(a)))&&this.emit_itemsChanged(c);return c}});O.exports={getDelta:D,createRuleEvents:E,Merge:fa,Subtract:a,SourceDataset:la,MapFilter:oa,Filter:L,Split:A,Extract:g,Slice:V,Cloud:C}},"g.js":function(g,O,a,w,C,L,A,V,ba){function D(b,a){if(!b.length)return 0;var c,d,e=0,f=b.length-1;do if(c=e+f>>1,d=b[c]||0,a<d)f=c-1;else if(a>d)e=c+1;else return a==
d?c:0;while(e<=f);return c+(d<a)}function E(b){this.indexId=b}function y(b,a,c){var d=b.indexCache_;b.lock();if(a)for(var e=0,f;f=a[e++];){var h=b.normalize(b.valueGetter(f));d[f.basisObjectId]=h;b.add_(h)}if(c)for(e=0;f=c[e++];)a=f.basisObjectId,b.remove_(d[a]),delete d[a];b.unlock()}function t(b,a){if(0==a instanceof E)throw 38;var c=b.basisObjectId,d=la[c];d||(d=la[c]={},b.addHandler(ga),ga.itemsChanged.call(b,b,{inserted:b.getItems()}));var c=a.indexId,e=d[c];if(!e){a=z[c];if(!a)throw 39;e=new a.indexClass;
e.addHandler(G,b);d[c]=e;y(e,b.getItems())}return e}function v(b,a){var c=la[b.basisObjectId];if(c&&c[a.indexId]){delete c[a.indexId];a.removeHandler(G,b);for(var d in c)return;b.removeHandler(ga);ga.itemsChanged.call(b,b,{deleted:b.getItems()});delete la[b.basisObjectId]}}function u(){return"calc-index-preset-"+a.number.lead(pa++,8)}g=this.path;var d=a.Class;w=a.require("./1.js");var m=w.Value,l=w.KeyObjectMap,f=w.ReadOnlyDataset,c=w.DatasetWrapper,q=w.resolveDataset;w=a.require("./f.js");var e=
w.MapFilter,F=w.createRuleEvents,I=d(m,{className:g+".Index",explicit:!1,wrapperCount:0,indexCache_:null,valueGetter:a.fn.$null,updateEvents:{},value:0,setNullOnEmitterDestroy:!1,init:function(){this.indexCache_={};m.prototype.init.call(this)},add_:function(b){},remove_:function(b){},update_:function(b,a){},normalize:function(b){return Number(b)||0},destroy:function(){m.prototype.destroy.call(this);this.indexCache_=null}});w=d(I,{className:g+".Sum",add_:function(b){this.value+=b},remove_:function(b){this.value-=
b},update_:function(b,a){this.set(this.value-a+b)}});C=d(I,{className:g+".Count",valueGetter:a.fn.$true,add_:function(b){this.value+=b},remove_:function(b){this.value-=b},normalize:function(b){return!!b},update_:function(b,a){this.set(this.value-!!a+!!b)}});L=d(I,{className:g+".Avg",sum_:0,count_:0,add_:function(b){this.sum_+=b;this.count_+=1;this.value=this.sum_/this.count_},remove_:function(b){this.sum_-=b;--this.count_;this.value=this.count_?this.sum_/this.count_:0},update_:function(b,a){this.sum_+=
b-a;this.set(this.sum_/this.count_)}});A=d(I,{className:g+".VectorIndex",vectorGetter:a.fn.$null,vector_:null,value:void 0,init:function(){this.vector_=[];I.prototype.init.call(this)},add_:function(b){null!==b&&(this.vector_.splice(D(this.vector_,b),0,b),this.value=this.vectorGetter(this.vector_))},remove_:function(b){null!==b&&(this.vector_.splice(D(this.vector_,b),1),this.value=this.vectorGetter(this.vector_))},update_:function(b,a){null!==a&&this.vector_.splice(D(this.vector_,a),1);null!==b&&this.vector_.splice(D(this.vector_,
b),0,b);this.set(this.vectorGetter(this.vector_))},normalize:function(b){return"string"==typeof b||"number"==typeof b?b:null},destroy:function(){I.prototype.destroy.call(this);this.vector_=null}});V=d(A,{className:g+".Min",vectorGetter:function(b){return b[0]}});ba=d(A,{className:g+".Max",vectorGetter:function(b){return b[b.length-1]}});var T=d(I,{className:g+".Distinct",map_:null,init:function(){this.map_={};I.prototype.init.call(this)},add_:function(b){this.map_.hasOwnProperty(b)||(this.map_[b]=
0);1==++this.map_[b]&&(this.value+=1)},remove_:function(b){0==--this.map_[b]&&--this.value},update_:function(b,a){var c=0;this.map_.hasOwnProperty(b)||(this.map_[b]=0);1==++this.map_[b]&&(c+=1);0==--this.map_[a]&&--c;c&&this.set(this.value+c)},normalize:String,destroy:function(){I.prototype.destroy.call(this);this.map_=null}}),k={destroy:function(){m.prototype.set.call(this,this.initValue);this.index=null}},N=m.subclass({className:g+".IndexWrapper",extendConstructor_:!1,source:null,dataset:null,datasetRA_:null,
indexConstructor:null,index:null,init:function(b,c){this.source=b;this.indexConstructor=c;this.value=z[c.indexId].indexClass.prototype.value;m.prototype.init.call(this);b.bindingBridge.attach(b,a.fn.$undef,this,this.destroy);this.setDataset(b);this.source[c.indexId]=this},setDataset:function(b){var a=this.dataset;b=q(this,this.setDataset,b,"sourceRA_");if(b!==a){if(a=this.index)a.removeHandler(k,this),--a.wrapperCount,a.wrapperCount||a.explicit||a.destroy();b?(a=t(b,this.indexConstructor),a.wrapperCount+=
1,a.link(this,m.prototype.set),a.addHandler(k,this)):(a=null,m.prototype.set.call(this,this.initValue));this.dataset=b;this.index=a}},set:function(){},destroy:function(){this.source.bindingBridge.detach(this.source,a.fn.$undef,this);this.setDataset();m.prototype.destroy.call(this);delete this.source[this.indexConstructor.indexId];this.indexConstructor=this.source=null}}),P="basisjsIndexConstructor"+a.genUID(),z={},G={destroy:function(b){v(this,b)}},R=function(b,e){return function(h,k,l){if("function"==
typeof h||"string"==typeof h)l=k,k=h,h=null;l||(l=k,k="");l=l||e;if(!d.isClass(b)||!b.isSubclassOf(I))throw 36;l=a.getter(l);k=k||"update";if("string"!=typeof k)throw 37;k=k.trim().split(" ").sort();var r=P+[b.basisClassId_,l[a.getter.ID],k].join("_"),q=z[r];if(q)l=q.owner;else{for(var m={},q=0;q<k.length;q++)m[k[q]]=!0;q=new E(r);z[r]={owner:q,indexClass:b.subclass({indexId:r,updateEvents:m,valueGetter:l})};l=q}return h?h instanceof f||h instanceof c?(h=t(h,l),h.explicit=!0,h):h.bindingBridge?h[l.indexId]||
new N(h,l):null:l}},K=R(C,a.fn.$true),h=R(w),na=R(L),J=R(V),ja=R(ba),H=R(T),fa={"*":function(b){var a,c,d=b.type,e=b.sender,h=e.basisObjectId,f=la[this.basisObjectId],k;for(k in f)c=f[k],c.updateEvents[d]&&(b=c.indexCache_[h],a=c.normalize(c.valueGetter(e)),a!==b&&(c.update_(a,b),c.indexCache_[h]=a))}},ga={itemsChanged:function(b,a){var c;if(c=a.inserted)for(var d=c.length;0<d--;)c[d].addHandler(fa,this);if(c=a.deleted)for(d=c.length;0<d--;)c[d].removeHandler(fa,this);c=la[this.basisObjectId];for(var e in c)y(c[e],
a.inserted,a.deleted)},destroy:function(){var b=la[this.basisObjectId],a;for(a in b){var c=b[a];v(this,c);c.destroy()}}},la={},oa=d(null,{className:g+".CalcIndexPreset",extendConstructor_:!0,indexes:{},calc:a.fn.$null}),pa=1;g=d(e,{className:g+".IndexMap",calcs:null,indexes:null,indexes_:null,indexesBind_:null,timer_:void 0,indexUpdated:null,indexValues:null,memberSourceMap:null,keyMap:null,map:function(b){return this.keyMap.get(b,!0)},addMemberRef:function(b,a){this.memberSourceMap[b.basisObjectId]=
a.basisObjectId;this.listen.member&&b.addHandler(this.listen.member,this);this.sourceMap_[a.basisObjectId].updated=!0;0<b.subscriberCount&&this.calcMember(b)},removeMemberRef:function(b,a){delete this.memberSourceMap[b.basisObjectId];this.listen.member&&b.removeHandler(this.listen.member,this)},emit_sourceChanged:function(b){e.prototype.emit_sourceChanged.call(this,b);for(var a in this.indexes_){var c=this.indexes_[a];b&&(this.removeIndex(a),v(b,this.indexes[a]));this.source&&this.addIndex(a,t(this.source,
c))}},listen:{index:{change:function(a){var c=this.indexMap;c.indexValues[this.key]=a.value;c.indexUpdated=!0;c.recalcRequest()}},member:{subscribersChanged:function(a,c){0<a.subscriberCount&&this.calcMember(a)}}},ruleEvents:F(function(a,c){e.prototype.ruleEvents.update.call(this,a,c);this.sourceMap_[a.basisObjectId].updated=!0;this.recalcRequest()},"update"),init:function(){this.recalc=this.recalc.bind(this);this.indexUpdated=!1;this.indexesBind_={};this.memberSourceMap={};var b=this.indexes;this.indexes=
{};this.indexes_={};this.indexValues={};var c=this.calcs;this.calcs={};this.keyMap&&0!=this.keyMap instanceof l||(this.keyMap=new l(a.object.complete({create:function(a,b){return new this.itemClass(b)}},this.keyMap)));e.prototype.init.call(this);a.object.iterate(b,this.addIndex,this);a.object.iterate(c,this.addCalc,this)},addIndex:function(a,c){if(!this.indexes[a]){if(c instanceof E){if(this.indexes_[a])return;this.indexes_[a]=c;c=this.source?t(this.source,c):null}if(c instanceof I){this.indexValues[a]=
c.value;this.indexes[a]=c;this.indexesBind_[a]={key:a,indexMap:this};var d=this.listen.index;d&&(c.addHandler(d,this.indexesBind_[a]),d.change&&d.change.call(this.indexesBind_[a],c,c.value))}}},removeIndex:function(a){if(this.indexes_[a]||this.indexes[a])this.indexes[a]&&this.listen.index&&this.indexes[a].removeHandler(this.listen.index,this.indexesBind_[a]),delete this.indexValues[a],delete this.indexesBind_[a],delete this.indexes[a],delete this.indexes_[a]},addCalc:function(a,c){if(c instanceof
oa){this.calcs[a]=c.calc;for(var d in c.indexes)this.addIndex(d,c.indexes[d])}else this.calcs[a]=c;this.recalcRequest()},removeCalc:function(a){var c=this.calcs[a];if(c&&c.preset instanceof oa){var c=c.preset.indexes,d;for(d in c)this.removeIndex(d,c[d])}delete this.calcs[a]},lock:function(){for(var a in this.indexes)this.indexes[a].lock()},unlock:function(){for(var a in this.indexes)this.indexes[a].unlock()},recalcRequest:function(){this.timer_||(this.timer_=a.setImmediate(this.recalc))},recalc:function(){for(var b in this.items_)this.calcMember(this.items_[b]);
this.indexUpdated=!1;this.timer_=a.clearImmediate(this.timer_)},calcMember:function(a){var c=this.sourceMap_[this.memberSourceMap[a.basisObjectId]];if(a.subscriberCount&&(c.updated||this.indexUpdated)){c.updated=!1;var d={},e,h,f,k;for(k in this.calcs)e=this.calcs[k](c.sourceObject.data,this.indexValues,c.sourceObject),h=a.data[k],a.data[k]===e||"number"==typeof e&&"number"==typeof h&&isNaN(e)&&isNaN(h)||(d[k]=e,f=!0);f&&a.update(d)}},getMember:function(a){return this.keyMap.get(a,!0)},destroy:function(){for(var b in this.indexes)this.removeIndex(b);
e.prototype.destroy.call(this);this.keyMap.destroy();this.keyMap=null;this.timer_=a.clearImmediate(this.timer_);this.indexesBind_=this.memberSourceMap=this.indexValues=this.indexes_=this.indexes=this.calcs=null}});O.exports={IndexConstructor:E,createIndexConstructor:R,getDatasetIndex:t,removeDatasetIndex:v,Index:I,Count:C,Sum:w,Avg:L,VectorIndex:A,Min:V,Max:ba,Distinct:T,count:K,sum:h,avg:na,max:ja,min:J,distinct:H,CalcIndexPreset:oa,percentOfRange:function(b,c){var d="min_"+u(),e="max_"+u(),h={};
h[d]=J(b,c);h[e]=ja(b,c);c=a.getter(c||b);var f=function(a,b,h){return(c(h)-b[d])/(b[e]-b[d])};return f.preset=new oa({indexes:h,calc:f})},percentOfMax:function(b,c){var d="max_"+u(),e={};e[d]=ja(b,c);c=a.getter(c||b);var h=function(a,b,e){return c(e)/b[d]};return h.preset=new oa({indexes:e,calc:h})},percentOfSum:function(b,c){var d="sum_"+u(),e={};e[d]=h(c,b);b=a.getter(b||c);var f=function(a,c,e){return b(e)/c[d]};return f.preset=new oa({indexes:e,calc:f})},IndexMap:g}},"h.js":function(g,O,a,w,
C,L,A,V,ba){var D="undefined"!==typeof performance?performance:Date,E="webkitNow"in D?"webkitNow":"now";O.exports={time:function(a){return arguments.length?parseInt(D[E]()-a):D[E]()},test:function(a,g){for(var v=this.time(),u=0;u<a;u++)g(u);return this.time(v)}}},"i.js":function(g,O,a,w,C,L,A,V,ba){function D(c){c.testcase&&a.dev.warn("`testcase` setting is deprecated, use `test` instead");var d=c.test||c.testcase;c=a.object.slice(c);a.object.splice(c,["test","testcase"]);d?a.resource.isResource(c)&&
(d=d.fetch()):d=function(){};c.name||(c.name="Untitled test");var e={data:c};e.beforeEach=a.array(this.beforeEach);"function"==typeof c.beforeEach&&e.beforeEach.push(q.regFunction(c.beforeEach));e.afterEach=a.array(this.afterEach);"function"==typeof c.afterEach&&e.afterEach.unshift(q.regFunction(c.afterEach));"function"==typeof d?(e.data.type="case",e.data.async=0<d.length,e.data.test=q.regFunction(d),c=I):(e.data.type="suite",e.childNodes=Array.isArray(d)?d:[],c=T);return new c(e)}var E=a.require("./1.js").STATE,
y=a.require("./1.js").Value,t=a.require("./1.js").Object,v=a.require("./1.js").Dataset,u=a.require("./3.js").Expression,d=a.require("./f.js").Split;a.require("./f.js");var m=a.require("./d.js").Node,l=a.require("./h.js").time,f=a.require("./s.js"),c=a.require("./j.js"),q=a.require("./l.js"),e=function(){},F=m.subclass({className:"AbstractTest",name:"",envRunner:null,hasOwnEnvironment:function(){return Boolean(this.data.init||this.data.html||!this.parentNode)},getHtml:function(){for(var a=this;!a.data.html&&
a.parentNode;)a=a.parentNode;return a.data.html},getEnvRunner:function(a){if(this.envRunner)return this.envRunner;var d;this.data.init||(d=this.parentNode&&this.parentNode.getEnvRunner(a));(this.data.init||this.data.html||!d)&&a&&(d=c.create(this.data.init,this.getHtml()),d.addHandler({destroy:function(){this.envRunner=null;this.reset()}},this),this.envRunner=d);return d},reset:function(){this.envRunner&&(this.envRunner.destroy(),this.envRunner=null)},destroy:function(){m.prototype.destroy.call(this);
this.envRunner&&(this.envRunner.destroy(),this.envRunner=null)}}),I=F.subclass({className:"TestCase",name:"",testSource:null,testWrappedSources:null,beforeEach:null,afterEach:null,childClass:null,emit_update:function(a){F.prototype.init.call(this,a);"test"in a&&(this.beforeAfterInfo=this.testWrappedSources=this.testSource=null)},getSourceCode:function(){if(null!=this.testSource)return this.testSource;var a=this.beforeEach.map(function(a){return q.getFunctionInfo(a).body}),c=this.afterEach.map(function(a){return q.getFunctionInfo(a).body}),
d=0,e=0,f=0,l=0,m=q.getFunctionInfo(this.data.test).body;a.length&&(e=a.length,a=a.join("\n")+"\n// ----- before each end\n\n",d=a.match(/\n/g).length,m=a+m);c.length&&(l=c.length,c="\n\n// ----- after each start\n"+c.join("\n"),f=c.match(/\n/g).length,m+=c);this.testSource=m;this.beforeAfterInfo={beforeLines:d,beforeCount:e,afterLines:f,afterCount:l};return m},getWrappedSourceCode:function(a){var c=this.getSourceCode();"number"!=typeof a&&(a="none");null===this.testWrappedSources&&(this.testWrappedSources=
{});this.testWrappedSources[a]||(this.testWrappedSources[a]="function("+q.getFunctionInfo(this.data.test).args.concat("assert","__isFor","__enterLine","__exception","__wrapFunctionExpression","__actual","__expected").join(", ")+"){\n"+q.getWrappedSource(c,a)+"\n}");return this.testWrappedSources[a]},getBeforeAfterInfo:function(){this.beforeAfterInfo||this.getSourceCode();return this.beforeAfterInfo},reset:function(){F.prototype.reset.call(this);this.setState(E.UNDEFINED)},run:function(){var c=[],
d=[],m=NaN,g,u,F=this.data.async?1:0,v=null,h=this.getSourceCode(),I=this.getBeforeAfterInfo(),J,y,H,T={test:null,beforeLines:I.beforeLines,beforeCount:I.beforeCount,testSource:h,afterLines:I.afterLines,afterCount:I.afterCount,time:m,lastLine:0,pending:!1,successCount:0,testCount:0,error:null,exception:null,errorLines:{},warns:null},w={async:function(b){F++;a.nextTick(function(){if(0<F)try{b.call(this)}catch(a){x(a)}finally{0<F&&(--F||A())}}.bind(this))},is:function(a,b,c){var d;1==arguments.length?
(d=f.isTruthy(a),J?(b=y,a=H):(b=a,a=!0)):d=f.compareValues(a,b,c);if(d&&v){var e=v.line,h=T.errorLines[e];h||(h=T.errorLines[e]=[]);h.push({num:T.testCount,node:v,error:d,expected:f.makeStaticCopy(a),expectedStr:f.value2string(a,!1,c),actual:f.makeStaticCopy(b),actualStr:f.value2string(b,!1,c)})}J=!1;H=y=void 0;T.successCount+=!d;T.testCount++},report:T},D=function(a,b){J=a;return y=b},oa=function(a){return H=a},C=function(a,b,c){T.lastLine=c;v={range:[a,b],line:c}},b=function(a){T.lastLine=a},n=
function(a,b){var c=function(){try{return a.apply(this,arguments)}catch(b){throw x(b),40;}};c.originalFn_=b;return c},x=function(a){T.exception||(T.exception=a,T.testCount=0,T.successCount=0,A("ERROR_TEST_CRASH"))},$=F?a.fn.runOnce(function(){0<F&&F--;F||A()}):e,A=function(b){m=l(g);u=clearTimeout(u);F=0;b||T.testCount==T.successCount||(b="ERROR_TEST_FAULT");a.object.extend(T,{test:this,time:m,error:b,pending:!b&&!T.testCount,warns:c.length?c:null});this.setState(b||d.length?E.ERROR:E.READY,new t({data:T}))}.bind(this);
this.setState(E.PROCESSING);if(this.data.pending)return A();this.getEnvRunner(!0).run(this.getWrappedSourceCode(),this,function(a){g=l();var c=w.is.bind(w);c.exception=c["throws"]=function(a){try{T.exception=!0,a(),c(!1)}catch(b){c(!0)}finally{T.exception=!1}};c.deep=function(a,b){c(a,b,!0)};var d=Array(q.getFunctionInfo(this.data.test).args.length);d.length&&(d[0]=$);d.push(c,C,b,x,n,D,oa);try{a.apply(w,d)}catch(e){return x(e)}F?u=setTimeout(function(){A("ERROR_TIMEOUT")},this.data.timeout||250):
A()})}}),T=F.subclass({className:"TestSuite",childFactory:D,childClass:F,init:function(){F.prototype.init.call(this);this.nestedTests_=new v({items:this.childNodes.reduce(function(a,c){return a.concat(c instanceof T?c.nestedTests_.getItems():c)},[])});this.testByState_=new d({source:this.nestedTests_,ruleEvents:"stateChanged",rule:function(a){return a.state==E.READY&&a.state.data.data.pending?"pending":String(a.state)}});this.state_=new u(y.from(this.nestedTests_,"itemsChanged","itemCount"),y.from(this.testByState_.getSubset("processing",
!0),"itemsChanged","itemCount"),y.from(this.testByState_.getSubset("error",!0),"itemsChanged","itemCount"),y.from(this.testByState_.getSubset("ready",!0),"itemsChanged","itemCount"),y.from(this.testByState_.getSubset("pending",!0),"itemsChanged","itemCount"),function(a,c,d,e,f){return a?0==c+d+e+f?[E.UNDEFINED]:c||d+e+f<a?[E.PROCESSING,(d+e)/a]:[d?E.ERROR:E.READY,new t({data:{pending:f==a,error:d?"ERROR_TEST_FAULT":null,testCount:a,successCount:e+f}})]:[E.READY,new t({data:{pending:!0,testCount:a,
successCount:e}})]});this.state_.link(this,function(a){this.setState.apply(this,a)})},reset:function(){F.prototype.reset.call(this);this.childNodes.forEach(function(a){a.reset()})},destroy:function(){this.testByState_.destroy();this.testByState_=null;this.nestedTests_.destroy();this.nestedTests_=null;this.state_.destroy();this.state_=null;F.prototype.destroy.call(this)}});O.exports={AbstractTest:F,TestCase:I,TestSuite:T,create:D}},"s.js":function(g,O,a,w,C,L,A,V,ba){function D(a){var m={},l;for(l in a)a.hasOwnProperty(l)&&
(m[l]=a[l]);return m}function E(a,m,l){switch(typeof a){case "boolean":case "number":case "undefined":return String(a);case "string":return"'"+a.replace(/\'/g,"\\'")+"'";case "function":return a.originalFn_&&(a=a.originalFn_),a=String(a),m?a.replace(/\{([\r\n]|.)*\}/,"{..}"):a;case "object":if(null===a)return"null";if(Array.isArray(a))return"["+a.map(function(a){return E(a,!l,l)}).join(", ")+"]";if("[object Date]"===v.call(a)||"[object RegExp]"===v.call(a))return String(a);if(a&&a.constructor===Number)debugger;
if(m)return"{object}";m=[];for(var f=Object.keys(a).sort(),c=0,q;c<f.length;c++)q=f[c],a.hasOwnProperty(q)&&m.push(q+": "+E(a[q],!l,l));return!m.length&&a.valueOf()!==a&&a.constructor.toString().match(/function (Number|String|Boolean)/)?"new Object("+E(a.valueOf())+")":"{ "+(m.length?m.join(", ")+" ":"")+"}";default:return"unknown type `"+typeof a+"`"}}function y(a,m,l){var f;if(a!==m){if(typeof a!=typeof m||null!=a&&null!=m&&a.constructor!==m.constructor)return"ERROR_TYPE_MISSMATCH";if(a!=m)switch(typeof a){case "string":case "boolean":case "undefined":return"ERROR_WRONG_ANSWER";
case "number":if(a!==a&&m!==m)break;return"ERROR_WRONG_ANSWER";case "function":m.originalFn_&&(m=m.originalFn_);a.originalFn_&&(a=a.originalFn_);if(String(m)==String(a))break;return"ERROR_WRONG_ANSWER";default:if(!m&&a||m&&!a||String(m)!=String(a))return"ERROR_WRONG_ANSWER";if(a&&"length"in a){if(a.length!=m.length)return"ERROR_WRONG_ANSWER";for(var c=0;c<a.length;c++)if(a[c]!==m[c])if(l&&!a.__antirecursion__){if(a.__antirecursion__=!0,f=y(a[c],m[c],l),delete a.__antirecursion__,f)return f}else return"ERROR_WRONG_ANSWER"}else{for(c in a)if(0==
c in m||a[c]!==m[c])if(l&&c in m&&!a.__antirecursion__){if(a.__antirecursion__=!0,f=y(a[c],m[c],l),delete a.__antirecursion__,f)return f}else return"ERROR_WRONG_ANSWER";for(c in m)if(0==c in a)return"ERROR_WRONG_ANSWER"}}}}var t=a.array.from,v=Object.prototype.toString,u=a.require("./t.js");O.exports={sliceOwnOnly:D,makeStaticCopy:function(a){return a&&"object"==typeof a?Array.isArray(a)?t(a):D(a):a},value2string:E,compareValues:y,isTruthy:function(a){if(!a)return"ERROR_WRONG_ANSWER"},getFnInfo:function(a){return u(a.toString())}}},
"t.js":function(g,O,a,w,C,L,A,V,ba){g=function(){function a(g){function y(a,c){2!=arguments.length&&(c=m);u!=c&&(v.push([a||"content",g.substring(u,c)]),u=c)}for(var t=g.split(""),v=[],u=0,d,m=0;m<t.length;m++)a:{var l=t[m];switch(l){case "/":y();d=m;if("/"===t[d+1]){for(d+=2;d<t.length&&"\n"!==t[d]&&"\r"!==t[d];)d++;y("comment",d);m=u-1;break}if("*"==t[d+1]){for(d+=2;d<t.length&&("*"!==t[d]||"/"!==t[d+1]);)d++;y("comment",d+2);m=u-1;break}for(;d<t.length;){d++;if("\n"==t[d])break a;if("\\"==t[d])d++;
else if(t[d]==l)break}y("regexp",d+1);m=u-1;break;case '"':case "'":y();for(d=m;d<t.length;)if(d++,"\\"==t[d])d++;else if(t[d]==l)break;y("string",d+1);m=u-1;break;case "(":case "{":y();u=m+1;v.push(["open",l]);break;case ")":case "}":y();u=m+1;v.push(["close",l]);break;default:if(/\s/.test(l)){y();for(d=m+1;d<t.length&&/\s/.test(t[d]);)d++;y("space",d);m=u-1}}}y();return v}return function(g){for(var y=a(g),t="anonymous",v=!1,u=!0,d=[],m;(m=y.shift())&&"{"!=m[1];)"content"==m[0]?(u=!0,v?d.push(m[1]):
"function"!=m[1]&&(t=m[1])):v||(v=u&&"("==m[1]);for(;(m=y.pop())&&"}"!=m[1];);for(v=0;v<y.length;v++)y[v]=y[v][1];d=(d=d.join("").trim().replace(/\s*,\s*/g,", "))?d.split(/\s*,\s*/):[];y=y.join("").replace(/([\r\n]|\s)*\"use strict\";/,"").replace(/\r/g,"").replace(/^(\s*\n)+|(\n\s*)*$/g,"");v=y.split(/\n+/).map(function(a){return a.match(/^(\s*)/)[0]}).sort()[0];return{source:g,name:t,fullname:t+"("+d+")",args:d,body:y.replace(new RegExp("(^|\\n)"+v,"g"),"$1")||"// no source code"}}}();"undefined"!=
typeof O&&(O.exports=g)},"1.js":function(g,O,a,w,C,L,A,V,ba){function D(a,b){return function(){a.apply(this,arguments);b.apply(this,arguments)}}function E(a){var b=H[a];if(!b)for(var c=[],d={},e=1,b=H[a]={actions:c,handler:d};a;){if(a&1){var h=na[e];c.push(h.action);for(var p in h.handler)d[p]=d[p]?D(d[p],h.handler[p]):h.handler[p]}e<<=1;a>>=1}return b}function y(a,b){var c=this,d=function(d){return(d=c(d))?d.pipe(a,b):d};d.factory=R;d.pipe=y;return d}function t(a,b){for(;b&&b!==a&&b!==b.delegate;)b=
b.delegate;return b===a}function v(a,b,c){var d=a.delegate;d&&(a.root=d.root,a.target=d.target,a.data=d.data,a.state=d.state);if(a.root!==b){if(d=a.listen.root)b&&b!==a&&b.removeHandler(d,a),a.root&&a.root!==a&&a.root.addHandler(d,a);a.emit_rootChanged(b)}if(a.target!==c){if(d=a.listen.target)c&&c!==a&&c.removeHandler(d,a),a.target&&a.target!==a&&a.target.addHandler(d,a);a.emit_targetChanged(c)}for(a=a.delegates_;a;)a.delegate&&v(a.delegate,b,c),a=a.next}function u(a,b){var c={},d;a&&a.length&&(d=
c.inserted=a);b&&b.length&&(d=c.deleted=b);if(d)return c}function d(a,b){if(a&&a.itemCount){if(b&&b.itemCount){var c=[],d=[],e;for(e in a.items_){var h=a.items_[e];0==h.basisObjectId in b.items_&&d.push(h)}for(e in b.items_)h=b.items_[e],0==h.basisObjectId in a.items_&&c.push(h);return u(c,d)}if(a.itemCount)return{deleted:a.getItems()}}else if(b&&b.itemCount)return{inserted:b.getItems()}}function m(){this.fn.call(this.context,this.source)}function l(a,b,c,d,e){var h=a[d]||null,p=null;b!==m&&"function"==
typeof c&&(c=c.call(e||a,e||a));c&&(e=p=h&&h.source===c?h:null,c instanceof qa?(p=e||new ca(a,b,c,Ea),c=c.dataset):c.bindingBridge&&(p=e||new Z(a,b,c,W),c=l(p,m,c.value,"next")));0==c instanceof Fa&&(c=null);d&&h!==p&&(h&&(h.detach(),h.next&&l(h,null,null,"next")),p&&p.attach(da),a[d]=p);return c}function f(a,b,c,d,e){var h=a[d]||null,p=null;b!==m&&"function"==typeof c&&(c=c.call(e||a,e||a));c&&c.bindingBridge&&(p=h&&h.source===c?h:new Z(a,b,c,W),c=f(p,m,c.bindingBridge.get(c),"next"));0==c instanceof
wa&&(c=null);d&&h!==p&&(h&&(h.detach(),h.next&&f(h,null,null,"next")),p&&p.attach(da),a[d]=p);return c}function c(a,b,d,e,h){var f=a[e]||null,p=null;d&&b!==m&&"function"==typeof d&&d.factory===R&&(d=d.call(h||a,h||a));d&&d.bindingBridge&&(p=f&&f.source===d?f:new Z(a,b,d,W),d=c(p,m,d.bindingBridge.get(d),"next"));e&&f!==p&&(f&&(f.detach(),f.next&&c(f,null,null,"next")),p&&p.attach(va),a[e]=p);return d}function q(a){return Array.isArray(a)?a.map(function(a){return{data:a}}):{data:a}}function e(a){a&&
a.constructor===Object||(a={value:a});return new wa({data:a})}g=this.path;w=a.Class;var F=Array.prototype.slice,I=a.object.values,T=a.fn.$self;L=a.require("./2.js");var k=L.Emitter;C=L.create;var N=L.createHandler,P=L.events,z={},G=[],R={},K={},h={priority:[],values:{},add:function(a,b){var c=a.toLowerCase();h[a]=c;K[c]=a;this.values[c]=a;b=b?this.priority.indexOf(b):-1;-1==b?this.priority.push(c):this.priority.splice(b,0,c)},getList:function(){return I(K)},factory:function(b,c){return $.factory(b,
a.getter(c).as(h.from))},from:function(a){return $.from(a,"stateChanged","state")||h.UNDEFINED}};h.add("READY");h.add("DEPRECATED");h.add("UNDEFINED");h.add("ERROR");h.add("PROCESSING");var na={},J=1,ja={NONE:0,ALL:0,link:function(a,b,c){a+=b.basisObjectId;var d=c.subscribers_;d||(d=c.subscribers_={});d[a]||(d[a]=b,1==(c.subscriberCount+=1)&&c.emit_subscribersChanged(1))},unlink:function(a,b,c){a+=b.basisObjectId;(b=c.subscribers_)&&b[a]&&(delete b[a],0==--c.subscriberCount&&(c.emit_subscribersChanged(-1),
c.subscribers_=null))},add:function(a,b,c){na[J]={handler:b,action:c};ja[a]=J;ja.ALL|=J;J<<=1},addProperty:function(a,b){var c={};c[b||a+"Changed"]=function(b,c){c instanceof fa&&ja.unlink(a,b,c);b[a]instanceof fa&&ja.link(a,b,b[a])};this.add(a.toUpperCase(),c,function(b,c){c[a]&&b(a,c,c[a])})}},H={};ja.addProperty("delegate");ja.addProperty("target");ja.addProperty("dataset");ja.addProperty("value","change");var fa=w(k,{className:g+".AbstractData",state:h.UNDEFINED,stateRA_:null,emit_stateChanged:C("stateChanged",
"oldState"),active:!1,activeRA_:null,emit_activeChanged:C("activeChanged"),subscribeTo:ja.NONE,subscriberCount:0,subscribers_:null,emit_subscribersChanged:C("subscribersChanged","delta"),syncEvents:w.oneFunctionProperty(function(){this.isSyncRequired()&&this.syncAction()},{stateChanged:!0,subscribersChanged:!0}),syncAction:null,init:function(){k.prototype.init.call(this);this.active&&(this.active=!!c(this,this.setActive,this.active,"activeRA_"))&&this.addHandler(E(this.subscribeTo).handler);"string"!=
typeof this.state&&(this.state=String(c(this,this.setState,this.state,"stateRA_")));var a=this.syncAction;a&&(this.syncAction=null,this.setSyncAction(a))},setState:function(a,b){a=c(this,this.setState,a,"stateRA_");var d=String(a);if(!K[d])throw 3;this.stateRA_&&void 0===b&&(b=a.data);if(this.state!=d||this.state.data!=b){var e=this.state;this.state=Object(d);this.state.data=b;this.emit_stateChanged(e);return!0}return!1},deprecate:function(){this.state!=h.PROCESSING&&this.setState(h.DEPRECATED)},
setActive:function(a){a=!!c(this,this.setActive,a,"activeRA_");if(this.active!=a){this.active=a;this.emit_activeChanged();if(a){a=E(this.subscribeTo);for(var b=0,d;d=a.actions[b];b++)d(ja.link,this);this.addHandler(a.handler)}else{a=E(this.subscribeTo);for(b=0;d=a.actions[b++];)d(ja.unlink,this);this.removeHandler(a.handler)}return!0}return!1},setSubscription:function(a){var b=this.subscribeTo,c=a&ja.ALL;if(a=b^c){this.subscribeTo=c;if(this.active){var d=E(b),c=E(c);this.removeHandler(d.handler);
this.addHandler(c.handler);for(d=1;a;)a&1&&(c=na[d],b&d?c.action(ja.unlink,this):c.action(ja.link,this)),d<<=1,a>>=1}return!0}return!1},isSyncRequired:function(){return 0<this.subscriberCount&&(this.state==h.UNDEFINED||this.state==h.DEPRECATED)},setSyncAction:function(a){var b=this.syncAction;"function"!=typeof a&&(a=null);(this.syncAction=a)?(b||this.addHandler(this.syncEvents),this.isSyncRequired()&&this.syncAction()):b&&this.removeHandler(this.syncEvents)},destroy:function(){k.prototype.destroy.call(this);
if(this.active)for(var a=E(this.subscribeTo),b=0,d;d=a.actions[b];b++)d(ja.unlink,this);this.activeRA_&&c(this,!1,!1,"activeRA_");this.stateRA_&&c(this,!1,!1,"stateRA_");this.state=h.UNDEFINED}}),ga=a.getter.ID,la={destroy:function(a){this.value.unlink(a,this.fn)}},oa={destroy:function(a){this.set(null)}},pa={},b={},n=function(a){this.set(this.fn(a))},x=function(a,b){var c=null;b instanceof k&&b.removeHandler(this.pipeHandler,this);a instanceof k&&(a.addHandler(this.pipeHandler,this),c=a);$.prototype.set.call(this,
c)},$=w(fa,{className:g+".Value",subscribeTo:ja.VALUE,emit_change:C("change","oldValue")&&function(a){P.change.call(this,a);for(var b=this;b=b.links_;)b.fn.call(b.context,this.value,a)},value:null,initValue:null,proxy:null,locked:0,lockedValue_:null,links_:null,pipes_:null,setNullOnEmitterDestroy:!0,bindingBridge:{attach:function(a,b,c,d){a.link(c,b,!0,d)},detach:function(a,b,c){a.unlink(c,b)},get:function(a){return a.value}},init:function(){fa.prototype.init.call(this);this.proxy&&(this.value=this.proxy(this.value));
this.setNullOnEmitterDestroy&&this.value instanceof k&&this.value.addHandler(oa,this);this.initValue=this.value},set:function(a){var b=this.value;a=this.proxy?this.proxy(a):a;var c=a!==b;c&&(this.setNullOnEmitterDestroy&&(b instanceof k&&b.removeHandler(oa,this),a instanceof k&&a.addHandler(oa,this)),this.value=a,this.locked||this.emit_change(b));return c},reset:function(){this.set(this.initValue)},isLocked:function(){return 0<this.locked},lock:function(){this.locked++;1==this.locked&&(this.lockedValue_=
this.value)},unlock:function(){if(this.locked&&(this.locked--,!this.locked)){var a=this.lockedValue_;this.lockedValue_=null;this.value!==a&&this.emit_change(a)}},compute:function(b,c){c||(c=b,b=null);c||(c=T);var d=this,e=N(b,function(a){this.set(c(a,d.value))}),h=e.events.concat(c[ga]||String(c),this.basisObjectId).join("_"),f=pa[h];if(!f){var p={};e.destroy=function(a){delete p[a.basisObjectId];this.destroy()};this.addHandler({change:function(){for(var a in p){var b=p[a];b.token.set(c(b.object,
this.value))}},destroy:function(){for(var a in p){var b=p[a];b.object.removeHandler(e,b.token);b.token.destroy()}d=p=null}});f=pa[h]=function(b){var h=b.basisObjectId,f=p[h],l=c(b,d.value);f?f.token.set(l):(f=new a.Token(l),b.addHandler(e,f),f=p[h]={token:f,object:b});return f.token};f.factory=R;f.deferred=function(){return function(a){return f(a).deferred()}}}return f},pipe:function(b,c){var d=N(b,r),e=c[ga]||String(c),h=d.events.join("_")+"_"+e,e=this.pipes_,f;e?f=e[h]:e=this.pipes_={};f||(f=new $({parent:this,
pipeHandler:d,proxy:a.getter(c),set:a.fn.$undef,destroy:function(){var a=this.parent,b=a.value;b instanceof k&&b.removeHandler(this.pipeHandler,this);this.parent=a.pipes_[h]=null;$.prototype.destroy.call(this)}}),e[h]=f,this.link(f,x,!1,f.destroy));return f},as:function(b,c){b||(b=T);if(this.links_)for(var d=this,e=b[ga]||String(b);d=d.links_;){var h=d.context;if(h instanceof a.Token&&(h.fn[ga]||String(h.fn))==e)return c?h.deferred():h}d=new a.Token;d.fn=b;this.link(d,n);return c?d.deferred():d},
deferred:function(a){return this.as(a,!0)},link:function(a,c,d,e){if("function"!=typeof c){var h=String(c);(c=b[h])||(c=b[h]=function(a){this[h]=a})}this.links_={value:this,context:a,fn:c,destroy:e||null,links_:this.links_};a instanceof k&&a.addHandler(la,this.links_);d||c.call(a,this.value);return a},unlink:function(b,c){for(var d=this,e;e=d,d=d.links_;)d.context!==b||c&&d.fn!==c||(d.fn=a.fn.$undef,e.links_=d.links_,d.context instanceof k&&d.context.removeHandler(la,d))},destroy:function(){fa.prototype.destroy.call(this);
this.setNullOnEmitterDestroy&&this.value instanceof k&&this.value.removeHandler(oa,this);var a=this.links_;for(this.links_=null;a;)a.context instanceof k&&a.context.removeHandler(la,a),a.destroy&&a.destroy.call(a.context),a=a.links_;this.pipes_=this.lockedValue_=this.value=this.initValue=this.proxy=null}}),aa={},r=function(a){$.prototype.set.call(this,a)};$.from=function(b,c,d){var e;if(!b)return null;if(b instanceof k){d||(d=c,c=null);d||(d=T);var h=N(c,r),f=h.events.concat(d[ga]||String(d),b.basisObjectId).join("_");
e=aa[f];e||(e=aa[f]=new $({value:b,proxy:a.getter(d),set:a.fn.$undef,handler:{destroy:function(){aa[f]=null;b.removeHandler(h,this)}}}),h.destroy=function(a){aa[f]=null;this.destroy()},b.addHandler(h,e))}if(!e){var f=b.basisObjectId,p=b.bindingBridge;f&&p&&(e=aa[f],e||(e=aa[f]=new $({value:p.get(b),set:a.fn.$undef,handler:{destroy:function(){aa[f]=null;p.detach(b,$.prototype.set,e)}}}),p.attach(b,$.prototype.set,e,e.destroy)))}if(!e)throw 4;return e};$.factory=function(a,b){var c=function(c){return $.from(c,
a,b)};c.factory=R;c.pipe=y;return c};var za={},wa=w(fa,{className:g+".Object",subscribeTo:ja.DELEGATE+ja.TARGET,data:null,emit_update:C("update","delta")&&function(a){var b=this.delegates_;for(P.update.call(this,a);b;)b.delegate&&b.delegate.emit_update(a),b=b.next},emit_stateChanged:function(a){var b=this.delegates_;for(fa.prototype.emit_stateChanged.call(this,a);b;)b.delegate&&(b.delegate.state=this.state,b.delegate.emit_stateChanged(a)),b=b.next},delegate:null,delegateRA_:null,delegates_:null,emit_delegateChanged:C("delegateChanged",
"oldDelegate"),target:null,emit_targetChanged:C("targetChanged","oldTarget"),root:null,emit_rootChanged:C("rootChanged","oldRoot"),init:function(){this.root=this;fa.prototype.init.call(this);var a=this.delegate,b=this.data;a?(this.target=this.delegate=null,this.data=za,this.setDelegate(a),this.data===za&&(this.data=b||{})):(b||(this.data={}),null!==this.target&&(this.target=this))},setDelegate:function(a){if((a=f(this,this.setDelegate,a,"delegateRA_"))&&a instanceof wa){if(a.delegate&&t(this,a))return!1}else a=
null;if(this.delegate!==a){var b=this.state,c=this.data,d=this.delegate,e=this.target,h=this.root,p=this.listen.delegate,l=!1,k;if(d){p&&d.removeHandler(p,this);for(var r=d.delegates_,n=d;r;){if(r.delegate===this){r.delegate=null;n===d?d.delegates_=r.next:n.next=r.next;break}n=r;r=r.next}}if(a){if(this.delegate=a,p&&a.addHandler(p,this),a.delegates_={delegate:this,next:a.delegates_},this.data!==za){k={};for(var q in a.data)!1===q in c&&(l=!0,k[q]=void 0);for(q in c)c[q]!==a.data[q]&&(l=!0,k[q]=c[q])}}else for(q in this.target=
this.delegate=null,this.root=this,this.data={},c)this.data[q]=c[q];v(this,h,e);l&&this.emit_update(k);!k||b===this.state||String(b)==this.state&&b.data===this.state.data||this.emit_stateChanged(b);this.emit_delegateChanged(d);return!0}return!1},setState:function(a,b){return this.delegate?this.root.setState(a,b):fa.prototype.setState.call(this,a,b)},update:function(a){if(this.delegate)return this.root.update(a);if(a){var b={},c=!1,d;for(d in a)this.data[d]!==a[d]&&(c=!0,b[d]=this.data[d],this.data[d]=
a[d]);if(c)return this.emit_update(b),b}return!1},destroy:function(){fa.prototype.destroy.call(this);var a=this.delegates_;for(this.delegates_=null;a;)a.delegate.setDelegate(),a=a.next;this.delegate&&this.setDelegate();this.delegateRA_&&f(this,!1,!1,"delegateRA_");this.data=z;this.target=this.root=null}});L=w(wa,{className:g+".Slot"});var La={destroy:function(){delete this.map[this.id]}};A=w(fa,{className:g+".KeyObjectMap",itemClass:wa,keyGetter:a.getter(T),autoDestroyMembers:!0,map_:null,extendConstructor_:!0,
init:function(){this.map_={};fa.prototype.init.call(this)},resolve:function(a){return this.get(this.keyGetter(a),a)},create:function(a,b){return new this.itemClass(a instanceof wa?{delegate:a}:{data:{id:a,title:a}})},get:function(a,b){var c=a instanceof wa?a.basisObjectId:a,d=this.map_[c];!d&&b&&(d=this.map_[c]={map:this.map_,id:c,item:this.create(a,b)},d.item.addHandler(La,d));if(d)return d.item},destroy:function(){fa.prototype.destroy.call(this);var a=this.map_;this.map_=null;for(var b in a){var c=
a[b];this.autoDestroyMembers?c.item.destroy():c.item.removeHandler(La,c)}}});var qa=w(wa,{className:g+".DatasetWrapper",subscribeTo:wa.prototype.subscribeTo+ja.DATASET,listen:{dataset:{itemsChanged:function(a,b){this.itemCount=a.itemCount;this.emit_itemsChanged(b)},destroy:function(){this.setDataset()}}},dataset:null,datasetRA_:null,emit_datasetChanged:C("datasetChanged","oldDataset"),emit_itemsChanged:C("itemsChanged","delta"),init:function(){wa.prototype.init.call(this);var a=this.dataset;a&&(this.dataset=
null,this.setDataset(a))},setDataset:function(a){a=l(this,this.setDataset,a,"datasetRA_");if(this.dataset!==a){var b=this.listen.dataset,c=this.dataset,e;b&&(c&&c.removeHandler(b,this),a&&a.addHandler(b,this));this.itemCount=a?a.itemCount:0;this.dataset=a;(e=d(c,a))&&this.emit_itemsChanged(e);this.emit_datasetChanged(c)}},has:function(a){return this.dataset?this.dataset.has(a):null},getItems:function(){return this.dataset?this.dataset.getItems():[]},getValues:function(a){return this.dataset?this.dataset.getValues(a):
[]},pick:function(){return this.dataset?this.dataset.pick():null},top:function(a){return this.dataset?this.dataset.top(a):[]},forEach:function(a){if(this.dataset)return this.dataset.forEach(a)},destroy:function(){(this.dataset||this.datasetRA_)&&this.setDataset();wa.prototype.destroy.call(this)}}),Fa=w(fa,{className:g+".ReadOnlyDataset",itemCount:0,items_:null,members_:null,cache_:null,emit_itemsChanged:C("itemsChanged","delta")&&function(a){var b,c=0,d=0,e;if(b=a.inserted)for(;e=b[c];)this.items_[e.basisObjectId]=
e,c++;if(b=a.deleted)for(;e=b[d];)delete this.items_[e.basisObjectId],d++;this.itemCount+=c-d;this.cache_=c==this.itemCount?a.inserted:null;P.itemsChanged.call(this,a)},init:function(){fa.prototype.init.call(this);this.members_={};this.items_={}},has:function(a){return!(!a||!this.items_[a.basisObjectId])},getItems:function(){this.cache_||(this.cache_=I(this.items_));return this.cache_},getValues:function(b){return this.getItems().map(a.getter(b||T))},pick:function(){for(var a in this.items_)return this.items_[a];
return null},top:function(a){var b=[];if(a)for(var c in this.items_)if(b.push(this.items_[c])>=a)break;return b},forEach:function(a){for(var b=this.getItems(),c=0;c<b.length;c++)a(b[c])},destroy:function(){fa.prototype.destroy.call(this);this.cache_=G;this.itemCount=0;this.items_=this.members_=null}}),Da=w(Fa,{className:g+".Dataset",listen:{item:{destroy:function(a){this.remove([a])}}},init:function(){Fa.prototype.init.call(this);var a=this.items;a&&(this.items=null,this.set(a))},add:function(a){var b=
this.members_,c=this.listen.item,d=[],e;a&&!Array.isArray(a)&&(a=[a]);for(var h=0;h<a.length;h++){var p=a[h];if(p instanceof wa){var f=p.basisObjectId;b[f]||(b[f]=p,c&&p.addHandler(c,this),d.push(p))}}d.length&&this.emit_itemsChanged(e={inserted:d});return e},remove:function(a){var b=this.members_,c=this.listen.item,d=[],e;a&&!Array.isArray(a)&&(a=[a]);for(var h=0;h<a.length;h++){var p=a[h];if(p instanceof wa){var f=p.basisObjectId;b[f]&&(c&&p.removeHandler(c,this),delete b[f],d.push(p))}}d.length&&
this.emit_itemsChanged(e={deleted:d});return e},set:function(a){if(!this.itemCount)return this.add(a);if(!a||!a.length)return this.clear();for(var b=this.members_,c=this.listen.item,d={},e=[],h=[],p,f,l,k=0;k<a.length;k++)p=a[k],p instanceof wa&&(f=p.basisObjectId,d[f]=p,b[f]||(b[f]=p,c&&p.addHandler(c,this),h.push(p)));for(f in b)d[f]||(p=b[f],c&&p.removeHandler(c,this),delete b[f],e.push(p));(l=u(h,e))&&this.emit_itemsChanged(l);return l},sync:function(a){a=this.set(a)||{};var b=a.deleted;Da.setAccumulateState(!0);
if(b)for(var c=0,d;d=b[c];c++)d.destroy();Da.setAccumulateState(!1);return a.inserted},clear:function(){var a=this.getItems(),b=this.listen.item,c;if(a.length){if(b)for(c=0;c<a.length;c++)a[c].removeHandler(b,this);this.emit_itemsChanged(c={deleted:a});this.members_={}}return c},destroy:function(){this.clear();Fa.prototype.destroy.call(this)}}),ca=function(a,b,c,d){this.context=a;this.fn=b;this.source=c;this.handler=d};ca.prototype={context:null,fn:null,source:null,handler:null,next:null,attach:function(){this.source.addHandler(this.handler,
this)},detach:function(){this.source.removeHandler(this.handler,this)}};var Z=function(){ca.apply(this,arguments)};Z.prototype=new ca;Z.prototype.attach=function(a){this.source.bindingBridge.attach(this.source,this.handler,this,a)};Z.prototype.detach=function(){this.source.bindingBridge.detach(this.source,this.handler,this)};var W=function(){this.fn.call(this.context,this.source)},da=function(){this.fn.call(this.context,null)},va=function(){this.fn.call(this.context,c(z,null,this.source.bindingBridge.get(this.source)))},
Ea={datasetChanged:W,destroy:da};Da.setAccumulateState=function(){function b(){var a=h;h={};for(var c in a){var d=a[c];d&&l.call(d.dataset,d)}}function c(a){var b=this.basisObjectId,d=a.inserted,e=a.deleted,p=h[b];if(d&&e||p&&p.mixed)p&&(h[b]=null,l.call(p.dataset,p)),l.call(this,a);else if(p){a=d?"inserted":"deleted";var f=p[a];if(f)f.push.apply(f,d||e);else{for(var f=d?"deleted":"inserted",k=p[f],r={},d=d||e,e=[],n=0,q=0;q<k.length;q++)r[k[q].basisObjectId]=q;for(q=0;q<d.length;q++){var m=d[q].basisObjectId;
0==m in r?e.push(d[q]):(n||(k=F.call(k)),n++,k[r[m]]=null)}n&&(k=n<k.length?k.filter(Boolean):null,p[f]=k);e.length?(p[a]=e,k&&(p.mixed=!0)):k||(h[b]=null)}}else h[b]={inserted:d,deleted:e,dataset:this,mixed:!1}}function d(){p=null;f&&(f=0,e.emit_itemsChanged=l,b())}var e=Fa.prototype,h={},f=0,p,l;return function(h){h?(0==f&&(l=e.emit_itemsChanged,e.emit_itemsChanged=c,p||(p=a.setImmediate(d))),f++):(f-=0<f,0==f&&(e.emit_itemsChanged=l,b()))}}();O.exports={STATE:h,SUBSCRIPTION:ja,FACTORY:R,PROXY:$.factory("subscribersChanged",
"subscriberCount"),AbstractData:fa,Value:$,Object:wa,Slot:L,KeyObjectMap:A,ReadOnlyDataset:Fa,Dataset:Da,DatasetWrapper:qa,isConnected:t,getDatasetDelta:d,ResolveAdapter:ca,resolveDataset:l,resolveObject:f,resolveValue:c,wrapData:q,wrapObject:e,wrap:function(a,b){var c=b?e:q;return Array.isArray(a)?a.map(c):c(a)}}},"u.js":function(g,O,a,w,C,L,A,V,ba){function D(a,g){(a.execScript||function(g){a.eval.call(a,g)})(g)}var E=a.require("./k.js").fn,y=a.require("./4.js").Node;g=y.subclass({applyEnvironment:null,
initEnv:null,html:null,postInit:function(){y.prototype.postInit.call(this);a.doc.body.add(this.element)},template:a.template.get("#1"),binding:{src:function(a){return a.html&&"default"!=a.html?a.html:"res/_OXc_YC-JNYkD4Cy89EBCg.html"}},action:{ready:function(){var g=this.element.contentWindow,v="",u=a.require("./0.code");"function"==typeof u&&(u=E(u).body);D(g,u);"function"==typeof this.initEnv&&(v=E(this.initEnv).body);this.applyEnvironment=g.__initTestEnvironment(v,function(){this.destroy()}.bind(this));
this.runArgs&&(this.run.apply(this,this.runArgs),this.runArgs=null)}},run:function(a,g,u){this.applyEnvironment?u.call(g,this.applyEnvironment(a)):this.runArgs=arguments},destroy:function(){y.prototype.destroy.call(this);this.runArgs=this.applyEnvironment=null}});O.exports=g},"k.js":function(g,O,a,w,C,L,A,V,ba){function D(a){var g=a.split(/\n/);if(2>g.length)return a;var d=g.map(function(a){return a.match(/^(\s*)/)[0].length}),m=d.shift(),d=Math.min.apply(null,d),l=m?Math.min(m,d):d;l&&(a=g.map(function(a,
c){return c||m?a.substr(l):a}).join("\n"));return a}function E(a){var g="function"==typeof a?Function:Object;a=g.prototype.toString.call(a);g===Function&&(a=D(a));return a}function y(g){if(g===a.fn.nullGetter)return"basis.fn.nullGetter";if(g[a.getter.ID]){var u=g[a.getter.PARENT],u=u?y(u)+".as(":"basis.getter(",d=g[a.getter.SOURCE];if("string"==typeof d)u+='"'+d.replace(/"/g,'\\"')+'"';else if(g.mod)u+=y(d);else if("function"==typeof d)u+=E(d);else if("undefined"!==typeof JSON)try{u+=JSON.stringify(d)}catch(m){u+=
E(d)}else u+=E(d);g.mod&&(u="string"==typeof g.mod?u+(', "'+g.mod.replace(/"/g,'\\"')+'"'):u+(", "+y(g.mod)));return u+")"}return E(g)}function t(a){function g(d,f){2!=arguments.length&&(f=c);l!=f&&(m.push([d||"content",a.substring(l,f)]),l=f)}for(var d=a.split(""),m=[],l=0,f,c=0;c<d.length;c++)a:{var q=d[c];switch(q){case "/":g();f=c;if("/"===d[f+1]){for(f+=2;f<d.length&&"\n"!==d[f]&&"\r"!==d[f];)f++;g("comment",f);c=l-1;break}if("*"==d[f+1]){for(f+=2;f<d.length&&("*"!==d[f]||"/"!==d[f+1]);)f++;
g("comment",f+2);c=l-1;break}for(;f<d.length;){f++;if("\n"==d[f])break a;if("\\"==d[f])f++;else if(d[f]==q)break}g("regexp",f+1);c=l-1;break;case '"':case "'":g();for(f=c;f<d.length;)if(f++,"\\"==d[f])f++;else if(d[f]==q)break;g("string",f+1);c=l-1;break;case "(":case "{":g();l=c+1;m.push(["open",q]);break;case ")":case "}":g();l=c+1;m.push(["close",q]);break;default:if(/\s/.test(q)){g();for(f=c+1;f<d.length&&/\s/.test(d[f]);)f++;g("space",f);c=l-1}}}g();return m}O.exports={fn:function(a){var g=y(a);
a=E(a);for(var d=t(a),m="anonymous",l=!1,f=!0,c=[],q;(q=d.shift())&&"{"!=q[1];)"content"==q[0]?(f=!0,l?c.push(q[1]):"function"!=q[1]&&(m=q[1])):l||(l=f&&"("==q[1]);for(;(q=d.pop())&&"}"!=q[1];);for(l=0;l<d.length;l++)d[l]=d[l][1];c=c.join("").trim().replace(/\s*,\s*/g,", ");return{source:a,name:m,fullname:m+"("+c+")",args:c,body:d.join(""),getter:g!=a?g:!1}},normalizeOffset:D}},"0.js":function(g,O,a,w,C,L,A,V,ba){function D(a,d){if(a.data.filename_===d)return a;if(a.childNodes)for(var m=0,l;l=a.childNodes[m];m++)if(l=
D(l,d))return l}g=a.require("./1.js").Value;C=a.require("./3.js").Expression;L=a.require("./1.js").Object;A=a.require("./4.js").Node;var E=a.require("./e.js"),y=a.require("./w.js");V=a.require("./x.js");var t=new L({getChildNodesDataset:function(){}});y.addHandler({delegateChanged:function(){for(var a=this;!a.data.filename_&&a.root.parentNode;)a=a.root.parentNode;location.hash="#"+(a.root.parentNode&&a.data.filename_?a.data.filename_:"")},childNodesModified:function(){E.loadTests(a.array(this.childNodes))}});
y.selection.addHandler({itemsChanged:function(a){this.setDelegate(a.pick())}},V);V.selection.addHandler({itemsChanged:function(a){(a=a.pick())&&this.setDelegate(a.root)}},y);var v=new A({template:a.template.get("#9"),action:{reset:function(){y.setDelegate(t)},run:function(){E.run()}},binding:{toc:y,tests:V,runnerState:new C(E.state,E.count.total,E.count.fault,E.count.left,function(a,d,m,l){return m?"fault":"running"!=a&&d&&!l?"ok":a}),name:g.from(t,"update","data.name"),time:E.time.as(function(a){return(a/
1E3).toFixed(1)}),total:E.count.total,assert:E.count.assert,left:E.count.left,done:E.count.done}});O.exports={loadTests:function(g,d){Array.isArray(g)&&(g={test:g});var m=a.require("./i.js").create(g),l=location.hash.substr(1),f;l&&(f=D(m,l));y.setDelegate(f||t);t.setDelegate(m);d&&setTimeout(function(){E.run()},100)}};a.config.exports?w.basisjsTestRunner=a.object.extend(O.exports,{setup:function(g){for(var d in g){var m=g[d];switch(d){case "element":"string"==typeof m&&(m=document.getElementById(m));
a.nextTick(function(){this.appendChild(v.element)}.bind(m));break;case "baseURI":a.require("./j.js").baseURI=m}}},run:function(){E.run()}}):a.ready(function(){a.doc.body.add(v.element)})},"2.js":function(g,O,a,w,C,L,A,V,ba){function D(a){var g=y[a];g||(g=function(){for(var d=this,g,l;d=d.handler;){l=d.callbacks[a];if("function"==typeof l){if(!g){g=[this];for(var f=0;f<arguments.length;f++)g.push(arguments[f])}l.apply(d.context||this,g)}l=d.callbacks["*"];if("function"==typeof l){if(!g)for(g=[this],
f=0;f<arguments.length;f++)g.push(arguments[f]);l.call(d.context||this,{sender:this,type:a,args:g})}}},y[a]=g);return g}g=a.Class;var E={},y={},t=function(){};g=g(null,{className:this.path+".Emitter",extendConstructor_:!0,handler:null,emit_destroy:D("destroy"),listen:g.nestedExtendProperty(),init:function(){this.handler&&!this.handler.callbacks&&(this.handler={callbacks:this.handler,context:this,handler:null})},addHandler:function(a,g){this.handler={callbacks:a,context:g||this,handler:this.handler}},
removeHandler:function(a,g){var d=this,m;for(g=g||this;m=d,d=d.handler;)if(d.callbacks===a&&d.context===g){d.callbacks=E;m.handler=d.handler;break}},destroy:function(){this.destroy=t;this.emit_destroy();this.handler=null}});O.exports={create:D,createHandler:function(a,g){var d={events:[]};if(a){a=String(a).trim().split(/\s+|\s*,\s*/).sort();for(var d={events:a},m=0,l;l=a[m];m++)"destroy"!=l&&(d[l]=g)}return d},events:y,Emitter:g}},"l.js":function(g,O,a,w,C,L,A,V,ba){function D(){for(var f=a.array.create(t,
function(){return[]}),c=0,l;l=u[c];c++){var e=c%t,g=f[e];20==g.push(l)&&(v[e].postMessage(g),f[e]=[])}f.forEach(function(a,c){a.length&&v[c].postMessage(a)});u=[];d=!1}var E=a.require("./t.js"),y=a.require("./v.js"),t=w.navigator.hardwareConcurrency||4,v=[],u=[],d=!1,m={},l={};if(w.Worker)for(g=0;g<t;g++)w=new Worker("res/E6P4bhb55znfCzAa1Pbfbw.js"),w.onmessage=function(a){a.data.forEach(function(a){l[a.body]=a.wrapped;m[a.source].info_={args:a.args,body:a.body}})},v.push(w);O.exports={regFunction:function(f){var c=
f.toString();if(c in m)return m[c];m[c]=f;v.length&&(d||(d=a.asap(D)),u.push({source:c,breakPointAt:"none"}));return f},getFunctionInfo:function(a){if(!a.info_){var c=E(a.toString());a.info_={args:c.args,body:c.body}}return a.info_},getWrappedSource:function(a){l.hasOwnProperty(a)||(l[a]=y.wrapSource(a,"none"));return l[a]}}},"v.js":function(g,O,a,w,C,L,A,V,ba){function D(a){function c(a){for(var f=l[a.type],g=0,m;m=f[g];g++){var k=a[m];"object"==typeof k&&null!==k&&(Array.isArray(k)?k.forEach(function(f){c(f);
f.root=d;f.parentNode=a;f.parentCollection=k}):(c(k),k.root=d,k.parentNode=a))}}var d=m.parse(a,{loc:!0,range:!0,comment:!0,tokens:!0});c(d);d.source=a;return d.root=d}function E(a,c){var d=c.call(null,a);if(d)return 1==d?d:!1;for(var d=l[a.type],e=0,g;g=d[e];e++)if(g=a[g],"object"==typeof g&&null!==g)if(Array.isArray(g))for(var m=0,u;u=g[m];m++){if(E(u,c)&1)return 1}else if(E(g,c)&1)return 1}function y(a,c,d){for(var e,l=0,g,m;l<a.tokens.length;l++)if(m=a.tokens[l],!(m.range[0]<c)){if(m.range[1]>
d){m=g;break}e||(e=m);g=m}return[e,m]}function t(a){return y(a.root,a.range[0],a.range[1])}function v(a,c,d){for(var e=a.source,l=[],g=0,m,k;g<a.tokens.length;g++)if(k=a.tokens[g],!(k.range[0]<c)){if(k.range[1]>d){k=m;break}(m=e.substring(m?m.range[1]:c,k.range[0]))&&l.push(m);l.push(k.value);m=k}l.push(e.substring(k?k.range[1]:c,d));return l.join("")}function u(a){return v(a.root,a.range[0],a.range[1])}function d(a,c){var d=D(a);"none"==c&&E(d,function(a){if("Program"!=a.type){if("FunctionExpression"==
a.type){var c=t(a),f=v(d,c[0].range[0],c[1].range[1]);c[0].value="__wrapFunctionExpression("+c[0].value;c[1].value+=", "+f+")"}"FunctionDeclaration"==a.type&&(c=t(a.body),c[0].value+="\ntry {\n",c[1].value="\n} catch(e) {__exception(e);throw e;}\n"+c[1].value);if("CallExpression"==a.type&&"ExpressionStatement"==a.parentNode.type){var c=t(a)[0],f=1==a.arguments.length?a.arguments[0]:null,l="__isFor("+a.range+","+(a.loc.end.line-1)+")",k=c.value.replace(/^__enterLine\(\d+\)/,l);c.value=k!=c.value?k:
l+" || "+c.value;f&&"BinaryExpression"==f.type&&f.operator.match(/^(===?)$/)&&(c=a.arguments[0],f=t(c.left),l=t(c.right),f[0].value='__actual("'+c.operator+'",'+f[0].value,f[1].value+=")",l[0].value="__expected("+l[0].value,l[1].value+=")")}if("BlockStatement"==a.parentNode.type||"Program"==a.parentNode.type)a=t(a)[0],a.value="__enterLine("+(a.loc.start.line-1)+"); "+a.value}});return v(d,0,d.source.length)}var m;"function"==typeof importScripts?importScripts("A7O0IacRSqMVuogY-Ca7GA.js"):m=a.require("./m.js");
var l={ArrayExpression:["elements"],AssignmentExpression:["left","right"],BinaryExpression:["left","right"],BlockStatement:["body"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DoWhileStatement:["test","body"],EmptyStatement:[],ExpressionStatement:["expression"],ForInStatement:["left","right","body"],ForStatement:["init","test","update","body"],FunctionDeclaration:["id",
"params","body"],FunctionExpression:["id","params","defaults","body"],Identifier:[],IfStatement:["test","consequent","alternate"],LabeledStatement:["label","body"],Literal:[],LogicalExpression:["left","right"],MemberExpression:["object","property"],NewExpression:["callee","arguments"],ObjectExpression:["properties"],Program:["body"],Property:["key","value"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SwitchCase:["test","consequent"],SwitchStatement:["discriminant","cases"],ThisExpression:[],
ThrowStatement:["argument"],TryStatement:["block","handlers","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"]};"undefined"!=typeof O&&(O.exports={TRAVERSE_ABORT:1,TRAVERSE_STOP_DEEP:2,parse:D,traverseAst:E,translateAst:v,translateNode:u,getRangeTokens:y,getNodeRangeTokens:t,wrapSource:d})},"m.js":function(g,O,a,w,C,L,A,V,ba){(function(a,w){"function"===
typeof define&&define.amd?define(["exports"],w):"undefined"!==typeof g?w(g):w(a.esprima={})})(this,function(a){function g(a,b){return U.slice(a,b)}function y(a){return 0<="0123456789".indexOf(a)}function t(a){return 0<="01234567".indexOf(a)}function v(a){return" "===a||"\t"===a||"\x0B"===a||"\f"===a||" "===a||5760<=a.charCodeAt(0)&&0<=" ᠎             　﻿".indexOf(a)}function u(a){return"\n"===a||"\r"===a||"\u2028"===a||"\u2029"===a}function d(a){return"$"===a||"_"===a||"\\"===a||"a"<=a&&"z">=a||"A"<=
a&&"Z">=a||128<=a.charCodeAt(0)&&Za.NonAsciiIdentifierStart.test(a)}function m(a){return"$"===a||"_"===a||"\\"===a||"a"<=a&&"z">=a||"A"<=a&&"Z">=a||"0"<=a&&"9">=a||128<=a.charCodeAt(0)&&Za.NonAsciiIdentifierPart.test(a)}function l(a){switch(a){case "class":case "enum":case "export":case "extends":case "import":case "super":return!0}return!1}function f(a){switch(a){case "implements":case "interface":case "package":case "private":case "protected":case "public":case "static":case "yield":case "let":return!0}return!1}
function c(a){return"eval"===a||"arguments"===a}function q(a){var b=!1;switch(a.length){case 2:b="if"===a||"in"===a||"do"===a;break;case 3:b="var"===a||"for"===a||"new"===a||"try"===a;break;case 4:b="this"===a||"else"===a||"case"===a||"void"===a||"with"===a;break;case 5:b="while"===a||"break"===a||"catch"===a||"throw"===a;break;case 6:b="return"===a||"typeof"===a||"delete"===a||"switch"===a;break;case 7:b="default"===a||"finally"===a;break;case 8:b="function"===a||"continue"===a||"debugger"===a;break;
case 10:b="instanceof"===a}if(b)return!0;switch(a){case "const":return!0;case "yield":case "let":return!0}return Aa&&f(a)?!0:l(a)}function e(){var a,b,c;for(c=b=!1;s<sa;)if(a=U[s],c)a=U[s++],u(a)&&(c=!1,"\r"===a&&"\n"===U[s]&&++s,++ea,ka=s);else if(b)u(a)?("\r"===a&&"\n"===U[s+1]&&++s,++ea,++s,ka=s,s>=sa&&K({},X.UnexpectedToken,"ILLEGAL")):(a=U[s++],s>=sa&&K({},X.UnexpectedToken,"ILLEGAL"),"*"===a&&(a=U[s],"/"===a&&(++s,b=!1)));else if("/"===a)if(a=U[s+1],"/"===a)s+=2,c=!0;else if("*"===a)s+=2,b=
!0,s>=sa&&K({},X.UnexpectedToken,"ILLEGAL");else break;else if(v(a))++s;else if(u(a))++s,"\r"===a&&"\n"===U[s]&&++s,++ea,ka=s;else break}function F(a){var b,c,d=0;b="u"===a?4:2;for(a=0;a<b;++a)if(s<sa&&0<="0123456789abcdefABCDEF".indexOf(U[s]))c=U[s++],d=16*d+"0123456789abcdef".indexOf(c.toLowerCase());else return"";return String.fromCharCode(d)}function I(){var a,b,c,e;a=U[s];if(d(a)){b=s;if("\\"===a){++s;if("u"!==U[s])return;++s;e=s;if(a=F("u")){if("\\"===a||!d(a))return;c=a}else s=e,c="u"}else c=
U[s++];for(;s<sa;){a=U[s];if(!m(a))break;if("\\"===a){++s;if("u"!==U[s])return;++s;e=s;if(a=F("u")){if("\\"===a||!m(a))return;c+=a}else s=e,c+="u"}else c+=U[s++]}return 1===c.length?{type:Y.Identifier,value:c,lineNumber:ea,lineStart:ka,range:[b,s]}:q(c)?{type:Y.Keyword,value:c,lineNumber:ea,lineStart:ka,range:[b,s]}:"null"===c?{type:Y.NullLiteral,value:c,lineNumber:ea,lineStart:ka,range:[b,s]}:"true"===c||"false"===c?{type:Y.BooleanLiteral,value:c,lineNumber:ea,lineStart:ka,range:[b,s]}:{type:Y.Identifier,
value:c,lineNumber:ea,lineStart:ka,range:[b,s]}}}function w(){var a=s,b=U[s],c,d,e;if(";"===b||"{"===b||"}"===b||","===b||"("===b||")"===b)return++s,{type:Y.Punctuator,value:b,lineNumber:ea,lineStart:ka,range:[a,s]};c=U[s+1];if("."===b&&!y(c))return{type:Y.Punctuator,value:U[s++],lineNumber:ea,lineStart:ka,range:[a,s]};d=U[s+2];e=U[s+3];if(">"===b&&">"===c&&">"===d&&"="===e)return s+=4,{type:Y.Punctuator,value:">>>=",lineNumber:ea,lineStart:ka,range:[a,s]};if("="===b&&"="===c&&"="===d)return s+=3,
{type:Y.Punctuator,value:"===",lineNumber:ea,lineStart:ka,range:[a,s]};if("!"===b&&"="===c&&"="===d)return s+=3,{type:Y.Punctuator,value:"!==",lineNumber:ea,lineStart:ka,range:[a,s]};if(">"===b&&">"===c&&">"===d)return s+=3,{type:Y.Punctuator,value:">>>",lineNumber:ea,lineStart:ka,range:[a,s]};if("<"===b&&"<"===c&&"="===d)return s+=3,{type:Y.Punctuator,value:"<<=",lineNumber:ea,lineStart:ka,range:[a,s]};if(">"===b&&">"===c&&"="===d)return s+=3,{type:Y.Punctuator,value:">>=",lineNumber:ea,lineStart:ka,
range:[a,s]};if("="===c&&0<="<>=!+-*%&|^/".indexOf(b)||b===c&&0<="+-<>&|".indexOf(b)&&0<="+-<>&|".indexOf(c))return s+=2,{type:Y.Punctuator,value:b+c,lineNumber:ea,lineStart:ka,range:[a,s]};if(0<="[]<>+-*%&|^!~?:=/".indexOf(b))return{type:Y.Punctuator,value:U[s++],lineNumber:ea,lineStart:ka,range:[a,s]}}function k(){var a,b,c;c=U[s];if(!y(c)&&"."!==c)throw 41;b=s;a="";if("."!==c){a=U[s++];c=U[s];if("0"===a){if("x"===c||"X"===c){for(a+=U[s++];s<sa;){c=U[s];if(!(0<="0123456789abcdefABCDEF".indexOf(c)))break;
a+=U[s++]}2>=a.length&&K({},X.UnexpectedToken,"ILLEGAL");s<sa&&(c=U[s],d(c)&&K({},X.UnexpectedToken,"ILLEGAL"));return{type:Y.NumericLiteral,value:parseInt(a,16),lineNumber:ea,lineStart:ka,range:[b,s]}}if(t(c)){for(a+=U[s++];s<sa;){c=U[s];if(!t(c))break;a+=U[s++]}s<sa&&(c=U[s],(d(c)||y(c))&&K({},X.UnexpectedToken,"ILLEGAL"));return{type:Y.NumericLiteral,value:parseInt(a,8),octal:!0,lineNumber:ea,lineStart:ka,range:[b,s]}}y(c)&&K({},X.UnexpectedToken,"ILLEGAL")}for(;s<sa;){c=U[s];if(!y(c))break;a+=
U[s++]}}if("."===c)for(a+=U[s++];s<sa;){c=U[s];if(!y(c))break;a+=U[s++]}if("e"===c||"E"===c){a+=U[s++];c=U[s];if("+"===c||"-"===c)a+=U[s++];c=U[s];if(y(c))for(a+=U[s++];s<sa;){c=U[s];if(!y(c))break;a+=U[s++]}else K({},X.UnexpectedToken,"ILLEGAL")}s<sa&&(c=U[s],d(c)&&K({},X.UnexpectedToken,"ILLEGAL"));return{type:Y.NumericLiteral,value:parseFloat(a),lineNumber:ea,lineStart:ka,range:[b,s]}}function N(){var a,b,c,d,p,h;d=!1;var f;p=!1;Ka=null;e();c=s;b=U[s];if("/"!==b)throw 41;for(a=U[s++];s<sa;)if(b=
U[s++],a+=b,"\\"===b)b=U[s++],u(b)&&K({},X.UnterminatedRegExp),a+=b;else if(d)"]"===b&&(d=!1);else if("/"===b){p=!0;break}else"["===b?d=!0:u(b)&&K({},X.UnterminatedRegExp);p||K({},X.UnterminatedRegExp);d=a.substr(1,a.length-2);for(p="";s<sa;){b=U[s];if(!m(b))break;++s;if("\\"===b&&s<sa)if(b=U[s],"u"===b)if(++s,f=s,b=F("u"))for(p+=b,a+="\\u";f<s;++f)a+=U[f];else s=f,p+="u",a+="\\u";else a+="\\";else p+=b,a+=b}try{h=new RegExp(d,p)}catch(l){K({},X.InvalidRegExp)}return{literal:a,value:h,range:[c,s]}}
function P(){var a;e();if(s>=sa)return{type:Y.EOF,lineNumber:ea,lineStart:ka,range:[s,s]};a=w();if("undefined"!==typeof a)return a;a=U[s];if("'"===a||'"'===a){a="";var b,c,d,p,h,f=!1;b=U[s];if("'"!==b&&'"'!==b)throw 41;c=s;for(++s;s<sa;)if(d=U[s++],d===b){b="";break}else if("\\"===d)if(d=U[s++],u(d))++ea,"\r"===d&&"\n"===U[s]&&++s;else switch(d){case "n":a+="\n";break;case "r":a+="\r";break;case "t":a+="\t";break;case "u":case "x":h=s;(p=F(d))?a+=p:(s=h,a+=d);break;case "b":a+="\b";break;case "f":a+=
"\f";break;case "v":a+="\x0B";break;default:t(d)?(p="01234567".indexOf(d),0!==p&&(f=!0),s<sa&&t(U[s])&&(f=!0,p=8*p+"01234567".indexOf(U[s++]),0<="0123".indexOf(d)&&s<sa&&t(U[s])&&(p=8*p+"01234567".indexOf(U[s++]))),a+=String.fromCharCode(p)):a+=d}else if(u(d))break;else a+=d;""!==b&&K({},X.UnexpectedToken,"ILLEGAL");return{type:Y.StringLiteral,value:a,octal:f,lineNumber:ea,lineStart:ka,range:[c,s]}}if("."===a||y(a))return k();a=I();if("undefined"!==typeof a)return a;K({},X.UnexpectedToken,"ILLEGAL")}
function z(){var a;if(Ka)return s=Ka.range[1],ea=Ka.lineNumber,ka=Ka.lineStart,a=Ka,Ka=null,a;Ka=null;return P()}function G(){var a,b,c;if(null!==Ka)return Ka;a=s;b=ea;c=ka;Ka=P();s=a;ea=b;ka=c;return Ka}function R(){var a,b,c,d;a=s;b=ea;c=ka;e();d=ea!==b;s=a;ea=b;ka=c;return d}function K(a,b){var c,d=Array.prototype.slice.call(arguments,2);c=b.replace(/%(\d)/g,function(a,b){return d[b]||""});"number"===typeof a.lineNumber?(c=Error("Line "+a.lineNumber+": "+c),c.index=a.range[0],c.lineNumber=a.lineNumber,
c.column=a.range[0]-ka+1):(c=Error("Line "+ea+": "+c),c.index=s,c.lineNumber=ea,c.column=s-ka+1);throw 42;}function h(){try{K.apply(null,arguments)}catch(a){if(B.errors)B.errors.push(a);else throw 43;}}function na(a){a.type===Y.EOF&&K(a,X.UnexpectedEOS);a.type===Y.NumericLiteral&&K(a,X.UnexpectedNumber);a.type===Y.StringLiteral&&K(a,X.UnexpectedString);a.type===Y.Identifier&&K(a,X.UnexpectedIdentifier);if(a.type===Y.Keyword){if(l(a.value))K(a,X.UnexpectedReserved);else if(Aa&&f(a.value)){h(a,X.StrictReservedWord);
return}K(a,X.UnexpectedToken,a.value)}K(a,X.UnexpectedToken,a.value)}function J(a){var b=z();b.type===Y.Punctuator&&b.value===a||na(b)}function C(a){var b=z();b.type===Y.Keyword&&b.value===a||na(b)}function H(a){var b=G();return b.type===Y.Punctuator&&b.value===a}function A(a){var b=G();return b.type===Y.Keyword&&b.value===a}function ga(){var a;";"===U[s]?z():(a=ea,e(),ea===a&&(H(";")?z():(a=G(),a.type===Y.EOF||H("}")||na(a))))}function la(a){return a.type===Q.Identifier||a.type===Q.MemberExpression}
function oa(a,b){var d,e;d=Aa;e=Qa();b&&Aa&&c(a[0].name)&&h(b,X.StrictParamName);Aa=d;return{type:Q.FunctionExpression,id:null,params:a,defaults:[],body:e,rest:null,generator:!1,expression:!1}}function pa(){var a=z();return a.type===Y.StringLiteral||a.type===Y.NumericLiteral?(Aa&&a.octal&&h(a,X.StrictOctalLiteral),Oa(a)):{type:Q.Identifier,name:a.value}}function b(){var a,b,c;a=G();if(a.type===Y.Identifier){b=pa();if("get"!==a.value||H(":")){if("set"!==a.value||H(":"))return J(":"),{type:Q.Property,
key:b,value:ya(),kind:"init"};b=pa();J("(");a=G();if(a.type!==Y.Identifier)return J(")"),h(a,X.UnexpectedToken,a.value),{type:Q.Property,key:b,value:oa([]),kind:"set"};c=[M()];J(")");return{type:Q.Property,key:b,value:oa(c,a),kind:"set"}}b=pa();J("(");J(")");return{type:Q.Property,key:b,value:oa([]),kind:"get"}}if(a.type===Y.EOF||a.type===Y.Punctuator)na(a);else return b=pa(),J(":"),{type:Q.Property,key:b,value:ya(),kind:"init"}}function n(){var a;J("(");a=p();J(")");return a}function x(){var a=G(),
c=a.type;if(c===Y.Identifier)return{type:Q.Identifier,name:z().value};if(c===Y.StringLiteral||c===Y.NumericLiteral)return Aa&&a.octal&&h(a,X.StrictOctalLiteral),Oa(z());if(c===Y.Keyword){if(A("this"))return z(),{type:Q.ThisExpression};if(A("function"))return V()}if(c===Y.BooleanLiteral)return z(),a.value="true"===a.value,Oa(a);if(c===Y.NullLiteral)return z(),a.value=null,Oa(a);if(H("[")){a=[];for(J("[");!H("]");)H(",")?(z(),a.push(null)):(a.push(ya()),H("]")||J(","));J("]");return{type:Q.ArrayExpression,
elements:a}}if(H("{")){var a=[],d,e,p={},f=String;for(J("{");!H("}");)c=b(),d=c.key.type===Q.Identifier?c.key.name:f(c.key.value),e="init"===c.kind?Pa.Data:"get"===c.kind?Pa.Get:Pa.Set,Object.prototype.hasOwnProperty.call(p,d)?(p[d]===Pa.Data?Aa&&e===Pa.Data?h({},X.StrictDuplicateProperty):e!==Pa.Data&&h({},X.AccessorDataProperty):e===Pa.Data?h({},X.AccessorDataProperty):p[d]&e&&h({},X.AccessorGetSet),p[d]|=e):p[d]=e,a.push(c),H("}")||J(",");J("}");return{type:Q.ObjectExpression,properties:a}}return H("(")?
n():H("/")||H("/=")?Oa(N()):na(z())}function $(){var a=[];J("(");if(!H(")"))for(;s<sa;){a.push(ya());if(H(")"))break;J(",")}J(")");return a}function aa(){var a=z();a.type!==Y.Identifier&&a.type!==Y.Keyword&&a.type!==Y.BooleanLiteral&&a.type!==Y.NullLiteral&&na(a);return{type:Q.Identifier,name:a.value}}function r(){J(".");return aa()}function za(){var a;J("[");a=p();J("]");return a}function wa(){var a;C("new");a={type:Q.NewExpression,callee:qa(),arguments:[]};H("(")&&(a.arguments=$());return a}function O(){var a;
for(a=A("new")?wa():x();H(".")||H("[")||H("(");)a=H("(")?{type:Q.CallExpression,callee:a,arguments:$()}:H("[")?{type:Q.MemberExpression,computed:!0,object:a,property:za()}:{type:Q.MemberExpression,computed:!1,object:a,property:r()};return a}function qa(){var a;for(a=A("new")?wa():x();H(".")||H("[");)a=H("[")?{type:Q.MemberExpression,computed:!0,object:a,property:za()}:{type:Q.MemberExpression,computed:!1,object:a,property:r()};return a}function L(){var a=O();if(G().type!==Y.Punctuator)return a;!H("++")&&
!H("--")||R()||(Aa&&a.type===Q.Identifier&&c(a.name)&&h({},X.StrictLHSPostfix),la(a)||h({},X.InvalidLHSInAssignment),a={type:Q.UpdateExpression,operator:z().value,argument:a,prefix:!1});return a}function Da(){var a,b;a=G();return a.type!==Y.Punctuator&&a.type!==Y.Keyword?L():H("++")||H("--")?(a=z(),b=Da(),Aa&&b.type===Q.Identifier&&c(b.name)&&h({},X.StrictLHSPrefix),la(b)||h({},X.InvalidLHSInAssignment),b={type:Q.UpdateExpression,operator:a.value,argument:b,prefix:!0}):H("+")||H("-")||H("~")||H("!")?
b={type:Q.UnaryExpression,operator:z().value,argument:Da(),prefix:!0}:A("delete")||A("void")||A("typeof")?(b={type:Q.UnaryExpression,operator:z().value,argument:Da(),prefix:!0},Aa&&"delete"===b.operator&&b.argument.type===Q.Identifier&&h({},X.StrictDelete),b):L()}function ca(){for(var a=Da();H("*")||H("/")||H("%");)a={type:Q.BinaryExpression,operator:z().value,left:a,right:Da()};return a}function Z(){for(var a=ca();H("+")||H("-");)a={type:Q.BinaryExpression,operator:z().value,left:a,right:ca()};return a}
function W(){for(var a=Z();H("<<")||H(">>")||H(">>>");)a={type:Q.BinaryExpression,operator:z().value,left:a,right:Z()};return a}function da(){var a,b;b=ia.allowIn;ia.allowIn=!0;for(a=W();H("<")||H(">")||H("<=")||H(">=")||b&&A("in")||A("instanceof");)a={type:Q.BinaryExpression,operator:z().value,left:a,right:W()};ia.allowIn=b;return a}function va(){for(var a=da();H("==")||H("!=")||H("===")||H("!==");)a={type:Q.BinaryExpression,operator:z().value,left:a,right:da()};return a}function Ea(){for(var a=
va();H("&");)z(),a={type:Q.BinaryExpression,operator:"&",left:a,right:va()};return a}function ma(){for(var a=Ea();H("^");)z(),a={type:Q.BinaryExpression,operator:"^",left:a,right:Ea()};return a}function ua(){for(var a=ma();H("|");)z(),a={type:Q.BinaryExpression,operator:"|",left:a,right:ma()};return a}function xa(){for(var a=ua();H("&&");)z(),a={type:Q.LogicalExpression,operator:"&&",left:a,right:ua()};return a}function Ba(){for(var a=xa();H("||");)z(),a={type:Q.LogicalExpression,operator:"||",left:a,
right:xa()};return a}function ha(){var a,b,c;a=Ba();H("?")&&(z(),b=ia.allowIn,ia.allowIn=!0,c=ya(),ia.allowIn=b,J(":"),a={type:Q.ConditionalExpression,test:a,consequent:c,alternate:ya()});return a}function ya(){var a,b;a=G();b=ha();var d;d=G();var e=d.value;d=d.type!==Y.Punctuator?!1:"="===e||"*="===e||"/="===e||"%="===e||"+="===e||"-="===e||"<<="===e||">>="===e||">>>="===e||"&="===e||"^="===e||"|="===e;d&&(la(b)||h({},X.InvalidLHSInAssignment),Aa&&b.type===Q.Identifier&&c(b.name)&&h(a,X.StrictLHSAssignment),
b={type:Q.AssignmentExpression,operator:z().value,left:b,right:ya()});return b}function p(){var a=ya();if(H(","))for(a={type:Q.SequenceExpression,expressions:[a]};s<sa&&H(",");)z(),a.expressions.push(ya());return a}function S(){J("{");for(var a=[],b;s<sa&&!H("}");){b=ba();if("undefined"===typeof b)break;a.push(b)}J("}");return{type:Q.BlockStatement,body:a}}function M(){var a=z();a.type!==Y.Identifier&&na(a);return{type:Q.Identifier,name:a.value}}function ta(a){var b=M(),d=null;Aa&&c(b.name)&&h({},
X.StrictVarName);"const"===a?(J("="),d=ya()):H("=")&&(z(),d=ya());return{type:Q.VariableDeclarator,id:b,init:d}}function ra(a){var b=[];do{b.push(ta(a));if(!H(","))break;z()}while(s<sa);return b}function Na(a){var b;C(a);b=ra(a);ga();return{type:Q.VariableDeclaration,declarations:b,kind:a}}function Ha(){var a=z();return{type:Q.VariableDeclaration,declarations:ra(),kind:a.value}}function Ga(){var a=null;C("continue");if(";"===U[s])return z(),ia.inIteration||K({},X.IllegalContinue),{type:Q.ContinueStatement,
label:null};if(R())return ia.inIteration||K({},X.IllegalContinue),{type:Q.ContinueStatement,label:null};G().type===Y.Identifier&&(a=M(),Object.prototype.hasOwnProperty.call(ia.labelSet,a.name)||K({},X.UnknownLabel,a.name));ga();null!==a||ia.inIteration||K({},X.IllegalContinue);return{type:Q.ContinueStatement,label:a}}function Ia(){var a=null;C("break");if(";"===U[s])return z(),ia.inIteration||ia.inSwitch||K({},X.IllegalBreak),{type:Q.BreakStatement,label:null};if(R())return ia.inIteration||ia.inSwitch||
K({},X.IllegalBreak),{type:Q.BreakStatement,label:null};G().type===Y.Identifier&&(a=M(),Object.prototype.hasOwnProperty.call(ia.labelSet,a.name)||K({},X.UnknownLabel,a.name));ga();null!==a||ia.inIteration||ia.inSwitch||K({},X.IllegalBreak);return{type:Q.BreakStatement,label:a}}function Ca(){var a,b=null;C("return");ia.inFunctionBody||h({},X.IllegalReturn);if(" "===U[s]&&d(U[s+1]))return b=p(),ga(),{type:Q.ReturnStatement,argument:b};if(R())return{type:Q.ReturnStatement,argument:null};H(";")||(a=G(),
H("}")||a.type===Y.EOF||(b=p()));ga();return{type:Q.ReturnStatement,argument:b}}function Ta(){var a,b=[],c;A("default")?(z(),a=null):(C("case"),a=p());for(J(":");s<sa&&!(H("}")||A("default")||A("case"));){c=Ja();if("undefined"===typeof c)break;b.push(c)}return{type:Q.SwitchCase,test:a,consequent:b}}function Ua(){var a;C("catch");J("(");H(")")&&na(G());a=M();Aa&&c(a.name)&&h({},X.StrictCatchVariable);J(")");return{type:Q.CatchClause,param:a,body:S()}}function Ja(){var a=G(),b,c;a.type===Y.EOF&&na(a);
if(a.type===Y.Punctuator)switch(a.value){case ";":return J(";"),{type:Q.EmptyStatement};case "{":return S();case "(":return b=p(),ga(),{type:Q.ExpressionStatement,expression:b}}if(a.type===Y.Keyword)switch(a.value){case "break":return Ia();case "continue":return Ga();case "debugger":return C("debugger"),ga(),{type:Q.DebuggerStatement};case "do":return C("do"),c=ia.inIteration,ia.inIteration=!0,b=Ja(),ia.inIteration=c,C("while"),J("("),c=p(),J(")"),H(";")&&z(),{type:Q.DoWhileStatement,body:b,test:c};
case "for":var d,e,f,l,a=d=e=null;C("for");J("(");H(";")?z():(A("var")||A("let")?(ia.allowIn=!1,a=Ha(),ia.allowIn=!0,1===a.declarations.length&&A("in")&&(z(),b=a,c=p(),a=null)):(ia.allowIn=!1,a=p(),ia.allowIn=!0,A("in")&&(la(a)||h({},X.InvalidLHSInForIn),z(),b=a,c=p(),a=null)),"undefined"===typeof b&&J(";"));"undefined"===typeof b&&(H(";")||(d=p()),J(";"),H(")")||(e=p()));J(")");l=ia.inIteration;ia.inIteration=!0;f=Ja();ia.inIteration=l;b="undefined"===typeof b?{type:Q.ForStatement,init:a,test:d,
update:e,body:f}:{type:Q.ForInStatement,left:b,right:c,body:f,each:!1};return b;case "function":return Ra();case "if":return C("if"),J("("),b=p(),J(")"),c=Ja(),A("else")?(z(),a=Ja()):a=null,{type:Q.IfStatement,test:b,consequent:c,alternate:a};case "return":return Ca();case "switch":C("switch");J("(");b=p();J(")");J("{");c=[];if(H("}"))z();else{d=ia.inSwitch;ia.inSwitch=!0;for(e=!1;s<sa&&!H("}");)a=Ta(),null===a.test&&(e&&K({},X.MultipleDefaultsInSwitch),e=!0),c.push(a);ia.inSwitch=d;J("}")}b={type:Q.SwitchStatement,
discriminant:b,cases:c};return b;case "throw":return C("throw"),R()&&K({},X.NewlineAfterThrow),b=p(),ga(),{type:Q.ThrowStatement,argument:b};case "try":return c=[],a=null,C("try"),b=S(),A("catch")&&c.push(Ua()),A("finally")&&(z(),a=S()),0!==c.length||a||K({},X.NoCatchOrFinally),{type:Q.TryStatement,block:b,guardedHandlers:[],handlers:c,finalizer:a};case "var":return C("var"),b=ra(),ga(),{type:Q.VariableDeclaration,declarations:b,kind:"var"};case "while":return C("while"),J("("),b=p(),J(")"),a=ia.inIteration,
ia.inIteration=!0,c=Ja(),ia.inIteration=a,{type:Q.WhileStatement,test:b,body:c};case "with":return Aa&&h({},X.StrictModeWith),C("with"),J("("),b=p(),J(")"),c=Ja(),{type:Q.WithStatement,object:b,body:c}}b=p();if(b.type===Q.Identifier&&H(":"))return z(),Object.prototype.hasOwnProperty.call(ia.labelSet,b.name)&&K({},X.Redeclaration,"Label",b.name),ia.labelSet[b.name]=!0,c=Ja(),delete ia.labelSet[b.name],{type:Q.LabeledStatement,label:b,body:c};ga();return{type:Q.ExpressionStatement,expression:b}}function Qa(){var a,
b=[],c,d,e,p;for(J("{");s<sa;){c=G();if(c.type!==Y.StringLiteral)break;a=ba();b.push(a);if(a.expression.type!==Q.Literal)break;a=g(c.range[0]+1,c.range[1]-1);"use strict"===a?(Aa=!0,d&&h(d,X.StrictOctalLiteral)):!d&&c.octal&&(d=c)}c=ia.labelSet;d=ia.inIteration;e=ia.inSwitch;p=ia.inFunctionBody;ia.labelSet={};ia.inIteration=!1;ia.inSwitch=!1;for(ia.inFunctionBody=!0;s<sa&&!H("}");){a=ba();if("undefined"===typeof a)break;b.push(a)}J("}");ia.labelSet=c;ia.inIteration=d;ia.inSwitch=e;ia.inFunctionBody=
p;return{type:Q.BlockStatement,body:b}}function Ra(){var a,b,d=[],e,p,l,k,g;C("function");e=G();a=M();Aa?c(e.value)&&h(e,X.StrictFunctionName):c(e.value)?(l=e,k=X.StrictFunctionName):f(e.value)&&(l=e,k=X.StrictReservedWord);J("(");if(!H(")"))for(g={};s<sa;){e=G();b=M();Aa?(c(e.value)&&(p=e,k=X.StrictParamName),Object.prototype.hasOwnProperty.call(g,e.value)&&(p=e,k=X.StrictParamDupe)):l||(c(e.value)?(l=e,k=X.StrictParamName):f(e.value)?(l=e,k=X.StrictReservedWord):Object.prototype.hasOwnProperty.call(g,
e.value)&&(l=e,k=X.StrictParamDupe));d.push(b);g[b.name]=!0;if(H(")"))break;J(",")}J(")");e=Aa;b=Qa();Aa&&l&&K(l,k);Aa&&p&&h(p,k);Aa=e;return{type:Q.FunctionDeclaration,id:a,params:d,defaults:[],body:b,rest:null,generator:!1,expression:!1}}function V(){var a,b=null,d,e,p,l,k=[],g;C("function");H("(")||(a=G(),b=M(),Aa?c(a.value)&&h(a,X.StrictFunctionName):c(a.value)?(e=a,p=X.StrictFunctionName):f(a.value)&&(e=a,p=X.StrictReservedWord));J("(");if(!H(")"))for(g={};s<sa;){a=G();l=M();Aa?(c(a.value)&&
(d=a,p=X.StrictParamName),Object.prototype.hasOwnProperty.call(g,a.value)&&(d=a,p=X.StrictParamDupe)):e||(c(a.value)?(e=a,p=X.StrictParamName):f(a.value)?(e=a,p=X.StrictReservedWord):Object.prototype.hasOwnProperty.call(g,a.value)&&(e=a,p=X.StrictParamDupe));k.push(l);g[l.name]=!0;if(H(")"))break;J(",")}J(")");l=Aa;a=Qa();Aa&&e&&K(e,p);Aa&&d&&h(d,p);Aa=l;return{type:Q.FunctionExpression,id:b,params:k,defaults:[],body:a,rest:null,generator:!1,expression:!1}}function ba(){var a=G();if(a.type===Y.Keyword)switch(a.value){case "const":case "let":return Na(a.value);
case "function":return Ra();default:return Ja()}if(a.type!==Y.EOF)return Ja()}function Va(){Aa=!1;for(var a=Q.Program,b,c=[],d,e;s<sa;){d=G();if(d.type!==Y.StringLiteral)break;b=ba();c.push(b);if(b.expression.type!==Q.Literal)break;b=g(d.range[0]+1,d.range[1]-1);"use strict"===b?(Aa=!0,e&&h(e,X.StrictOctalLiteral)):!e&&d.octal&&(e=d)}for(;s<sa;){b=ba();if("undefined"===typeof b)break;c.push(b)}return{type:a,body:c}}function Wa(a,b,c,d,e){if("number"!==typeof c)throw 41;0<B.comments.length&&B.comments[B.comments.length-
1].range[1]>c||B.comments.push({type:a,value:b,range:[c,d],loc:e})}function bb(){var a,b,c,d,e,p;a="";for(p=e=!1;s<sa;)if(b=U[s],p)b=U[s++],u(b)?(c.end={line:ea,column:s-ka-1},p=!1,Wa("Line",a,d,s-1,c),"\r"===b&&"\n"===U[s]&&++s,++ea,ka=s,a=""):s>=sa?(p=!1,a+=b,c.end={line:ea,column:sa-ka},Wa("Line",a,d,sa,c)):a+=b;else if(e)u(b)?("\r"===b&&"\n"===U[s+1]?(++s,a+="\r\n"):a+=b,++ea,++s,ka=s,s>=sa&&K({},X.UnexpectedToken,"ILLEGAL")):(b=U[s++],s>=sa&&K({},X.UnexpectedToken,"ILLEGAL"),a+=b,"*"===b&&(b=
U[s],"/"===b&&(a=a.substr(0,a.length-1),e=!1,++s,c.end={line:ea,column:s-ka},Wa("Block",a,d,s,c),a="")));else if("/"===b)if(b=U[s+1],"/"===b)c={start:{line:ea,column:s-ka}},d=s,s+=2,p=!0,s>=sa&&(c.end={line:ea,column:s-ka},p=!1,Wa("Line",a,d,s,c));else if("*"===b)d=s,s+=2,e=!0,c={start:{line:ea,column:s-ka-2}},s>=sa&&K({},X.UnexpectedToken,"ILLEGAL");else break;else if(v(b))++s;else if(u(b))++s,"\r"===b&&"\n"===U[s]&&++s,++ea,ka=s;else break}function cb(){var a,b,c,d;e();a={start:{line:ea,column:s-
ka}};b=B.advance();a.end={line:ea,column:s-ka};b.type!==Y.EOF&&(c=[b.range[0],b.range[1]],d=g(b.range[0],b.range[1]),B.tokens.push({type:Ma[b.type],value:d,range:c,loc:a}));return b}function db(){var a,b,c,d;e();a=s;b={start:{line:ea,column:s-ka}};c=B.scanRegExp();b.end={line:ea,column:s-ka};0<B.tokens.length&&(d=B.tokens[B.tokens.length-1],d.range[0]===a&&"Punctuator"===d.type&&("/"!==d.value&&"/="!==d.value||B.tokens.pop()));B.tokens.push({type:"RegularExpression",value:c.literal,range:[a,s],loc:b});
return c}function Oa(a){return{type:Q.Literal,value:a.value}}function eb(a){return{type:Q.Literal,value:a.value,raw:g(a.range[0],a.range[1])}}function Xa(){var a={};a.range=[s,s];a.loc={start:{line:ea,column:s-ka},end:{line:ea,column:s-ka}};a.end=function(){this.range[1]=s;this.loc.end.line=ea;this.loc.end.column=s-ka};a.applyGroup=function(a){B.range&&(a.groupRange=[this.range[0],this.range[1]]);B.loc&&(a.groupLoc={start:{line:this.loc.start.line,column:this.loc.start.column},end:{line:this.loc.end.line,
column:this.loc.end.column}})};a.apply=function(a){B.range&&(a.range=[this.range[0],this.range[1]]);B.loc&&(a.loc={start:{line:this.loc.start.line,column:this.loc.start.column},end:{line:this.loc.end.line,column:this.loc.end.column}})};return a}function fb(){var a,b;e();a=Xa();J("(");b=p();J(")");a.end();a.applyGroup(b);return b}function Sa(){var a,b;e();a=Xa();for(b=A("new")?wa():x();H(".")||H("[");)b=H("[")?{type:Q.MemberExpression,computed:!0,object:b,property:za()}:{type:Q.MemberExpression,computed:!1,
object:b,property:r()},a.end(),a.apply(b);return b}function Ya(){var a,b;e();a=Xa();for(b=A("new")?wa():x();H(".")||H("[")||H("(");)b=H("(")?{type:Q.CallExpression,callee:b,arguments:$()}:H("[")?{type:Q.MemberExpression,computed:!0,object:b,property:za()}:{type:Q.MemberExpression,computed:!1,object:b,property:r()},a.end(),a.apply(b);return b}function $a(a){var b,c,d;b="[object Array]"===Object.prototype.toString.apply(a)?[]:{};for(c in a)a.hasOwnProperty(c)&&"groupRange"!==c&&"groupLoc"!==c&&(d=a[c],
b[c]=null===d||"object"!==typeof d||d instanceof RegExp?d:$a(d));return b}function gb(a,b){return function(c){function d(a){return a.type===Q.LogicalExpression||a.type===Q.BinaryExpression}function p(c){var e,h;d(c.left)&&p(c.left);d(c.right)&&p(c.right);a&&(c.left.groupRange||c.right.groupRange?(e=c.left.groupRange?c.left.groupRange[0]:c.left.range[0],h=c.right.groupRange?c.right.groupRange[1]:c.right.range[1],c.range=[e,h]):"undefined"===typeof c.range&&(e=c.left.range[0],h=c.right.range[1],c.range=
[e,h]));b&&(c.left.groupLoc||c.right.groupLoc?(e=c.left.groupLoc?c.left.groupLoc.start:c.left.loc.start,h=c.right.groupLoc?c.right.groupLoc.end:c.right.loc.end,c.loc={start:e,end:h}):"undefined"===typeof c.loc&&(c.loc={start:c.left.loc.start,end:c.right.loc.end}))}return function(){var h,f;e();h=Xa();f=c.apply(null,arguments);h.end();a&&"undefined"===typeof f.range&&h.apply(f);b&&"undefined"===typeof f.loc&&h.apply(f);d(f)&&p(f);return f}}}var Y,Ma,Q,Pa,X,Za,U,Aa,s,ea,ka,sa,Ka,ia,B;Y={BooleanLiteral:1,
EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8};Ma={};Ma[Y.BooleanLiteral]="Boolean";Ma[Y.EOF]="<end>";Ma[Y.Identifier]="Identifier";Ma[Y.Keyword]="Keyword";Ma[Y.NullLiteral]="Null";Ma[Y.NumericLiteral]="Numeric";Ma[Y.Punctuator]="Punctuator";Ma[Y.StringLiteral]="String";Q={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",
CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",
LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",
VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"};Pa={Data:1,Get:2,Set:4};X={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",
InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",
StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",
StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",
StrictReservedWord:"Use of future reserved word in strict mode"};Za={NonAsciiIdentifierStart:RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),
NonAsciiIdentifierPart:RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԧԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠࢢ-ࢬࣤ-ࣾऀ-ॣ०-९ॱ-ॷॹ-ॿঁ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఁ-ఃఅ-ఌఎ-ఐఒ-నప-ళవ-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಂಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲംഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤜᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶᴀ-ᷦ᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚗꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺꩻꪀ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︦︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")};
"undefined"===typeof"esprima"[0]&&(g=function(a,b){return U.slice(a,b).join("")});a.version="1.0.4";a.parse=function(a,c){var d,h;h=String;"string"===typeof a||a instanceof String||(a=h(a));U=a;s=0;ea=0<U.length?1:0;ka=0;sa=U.length;Ka=null;ia={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1};B={};"undefined"!==typeof c&&(B.range="boolean"===typeof c.range&&c.range,B.loc="boolean"===typeof c.loc&&c.loc,B.raw="boolean"===typeof c.raw&&c.raw,"boolean"===typeof c.tokens&&c.tokens&&
(B.tokens=[]),"boolean"===typeof c.comment&&c.comment&&(B.comments=[]),"boolean"===typeof c.tolerant&&c.tolerant&&(B.errors=[]));if(0<sa&&"undefined"===typeof U[0]&&(a instanceof String&&(U=a.valueOf()),"undefined"===typeof U[0])){h=a;var f=h.length,l=[],k;for(k=0;k<f;++k)l[k]=h.charAt(k);U=l}B.comments&&(B.skipComment=e,e=bb);B.raw&&(B.createLiteral=Oa,Oa=eb);if(B.range||B.loc)B.parseGroupExpression=n,B.parseLeftHandSideExpression=qa,B.parseLeftHandSideExpressionAllowCall=O,n=fb,qa=Sa,O=Ya,h=gb(B.range,
B.loc),B.parseAdditiveExpression=Z,B.parseAssignmentExpression=ya,B.parseBitwiseANDExpression=Ea,B.parseBitwiseORExpression=ua,B.parseBitwiseXORExpression=ma,B.parseBlock=S,B.parseFunctionSourceElements=Qa,B.parseCatchClause=Ua,B.parseComputedMember=za,B.parseConditionalExpression=ha,B.parseConstLetDeclaration=Na,B.parseEqualityExpression=va,B.parseExpression=p,B.parseForVariableDeclaration=Ha,B.parseFunctionDeclaration=Ra,B.parseFunctionExpression=V,B.parseLogicalANDExpression=xa,B.parseLogicalORExpression=
Ba,B.parseMultiplicativeExpression=ca,B.parseNewExpression=wa,B.parseNonComputedProperty=aa,B.parseObjectProperty=b,B.parseObjectPropertyKey=pa,B.parsePostfixExpression=L,B.parsePrimaryExpression=x,B.parseProgram=Va,B.parsePropertyFunction=oa,B.parseRelationalExpression=da,B.parseStatement=Ja,B.parseShiftExpression=W,B.parseSwitchCase=Ta,B.parseUnaryExpression=Da,B.parseVariableDeclaration=ta,B.parseVariableIdentifier=M,Z=h(B.parseAdditiveExpression),ya=h(B.parseAssignmentExpression),Ea=h(B.parseBitwiseANDExpression),
ua=h(B.parseBitwiseORExpression),ma=h(B.parseBitwiseXORExpression),S=h(B.parseBlock),Qa=h(B.parseFunctionSourceElements),Ua=h(B.parseCatchClause),za=h(B.parseComputedMember),ha=h(B.parseConditionalExpression),Na=h(B.parseConstLetDeclaration),va=h(B.parseEqualityExpression),p=h(B.parseExpression),Ha=h(B.parseForVariableDeclaration),Ra=h(B.parseFunctionDeclaration),V=h(B.parseFunctionExpression),qa=h(qa),xa=h(B.parseLogicalANDExpression),Ba=h(B.parseLogicalORExpression),ca=h(B.parseMultiplicativeExpression),
wa=h(B.parseNewExpression),aa=h(B.parseNonComputedProperty),b=h(B.parseObjectProperty),pa=h(B.parseObjectPropertyKey),L=h(B.parsePostfixExpression),x=h(B.parsePrimaryExpression),Va=h(B.parseProgram),oa=h(B.parsePropertyFunction),da=h(B.parseRelationalExpression),Ja=h(B.parseStatement),W=h(B.parseShiftExpression),Ta=h(B.parseSwitchCase),Da=h(B.parseUnaryExpression),ta=h(B.parseVariableDeclaration),M=h(B.parseVariableIdentifier);"undefined"!==typeof B.tokens&&(B.advance=P,B.scanRegExp=N,P=cb,N=db);
try{d=Va();if("undefined"!==typeof B.comments){var g,r,m;h=[];for(g=0;g<B.comments.length;++g)r=B.comments[g],m={type:r.type,value:r.value},B.range&&(m.range=r.range),B.loc&&(m.loc=r.loc),h.push(m);B.comments=h;d.comments=B.comments}if("undefined"!==typeof B.tokens){var q,ra,z;g=[];for(q=0;q<B.tokens.length;++q)ra=B.tokens[q],z={type:ra.type,value:ra.value},B.range&&(z.range=ra.range),B.loc&&(z.loc=ra.loc),g.push(z);B.tokens=g;d.tokens=B.tokens}"undefined"!==typeof B.errors&&(d.errors=B.errors);if(B.range||
B.loc)d.body=$a(d.body)}catch(Ga){throw 44;}finally{"function"===typeof B.skipComment&&(e=B.skipComment);B.raw&&(Oa=B.createLiteral);if(B.range||B.loc)Z=B.parseAdditiveExpression,ya=B.parseAssignmentExpression,Ea=B.parseBitwiseANDExpression,ua=B.parseBitwiseORExpression,ma=B.parseBitwiseXORExpression,S=B.parseBlock,Qa=B.parseFunctionSourceElements,Ua=B.parseCatchClause,za=B.parseComputedMember,ha=B.parseConditionalExpression,Na=B.parseConstLetDeclaration,va=B.parseEqualityExpression,p=B.parseExpression,
Ha=B.parseForVariableDeclaration,Ra=B.parseFunctionDeclaration,V=B.parseFunctionExpression,n=B.parseGroupExpression,qa=B.parseLeftHandSideExpression,O=B.parseLeftHandSideExpressionAllowCall,xa=B.parseLogicalANDExpression,Ba=B.parseLogicalORExpression,ca=B.parseMultiplicativeExpression,wa=B.parseNewExpression,aa=B.parseNonComputedProperty,b=B.parseObjectProperty,pa=B.parseObjectPropertyKey,x=B.parsePrimaryExpression,L=B.parsePostfixExpression,Va=B.parseProgram,oa=B.parsePropertyFunction,da=B.parseRelationalExpression,
Ja=B.parseStatement,W=B.parseShiftExpression,Ta=B.parseSwitchCase,Da=B.parseUnaryExpression,ta=B.parseVariableDeclaration,M=B.parseVariableIdentifier;"function"===typeof B.scanRegExp&&(P=B.advance,N=B.scanRegExp);B={}}return d};a.Syntax=function(){var a,b={};"function"===typeof Object.create&&(b=Object.create(null));for(a in Q)Q.hasOwnProperty(a)&&(b[a]=Q[a]);"function"===typeof Object.freeze&&Object.freeze(b);return b}()})},"w.js":function(g,O,a,w,C,L,A,V,ba){var D=a.require("./1.js").STATE;g=a.require("./1.js").Value;
var E=a.require("./1.js").Object,y=a.require("./4.js").Node,t=a.require("./e.js"),v=a.require("./i.js").TestSuite;w=y.subclass({template:a.template.get("#2"),startTime:0,progressTimer_:null,binding:{name:"data:",progress:["stateChanged",function(a){return a.state==D.PROCESSING?100*a.state.data:100}],showProgress:["stateChanged",function(a){return 500<Date.now()-a.startTime}],pending:["stateChanged",function(a){return a.state.data instanceof E&&Boolean(a.state.data.data.pending)}],stateMessage:["stateChanged",
function(a){var g=a.state.data;switch(String(a.state)){case D.READY:return g.data&&g.data.pending?"Pending":"OK";case D.ERROR:return 0==g instanceof E?"Error":g.data.exception?"Exception":"ERROR_TIMEOUT"==g.data.error?"Timeout":g.data.testCount-g.data.successCount+" of "+g.data.testCount+" fault";case D.PROCESSING:return"running";default:return""}}]},action:{pickup:function(a){this.parentNode&&this.root instanceof v&&this.parentNode.setDelegate(this.root)}},emit_stateChanged:function(a){this.state==
D.PROCESSING&&a!=D.PROCESSING&&(this.startTime=Date.now());this.state!=D.PROCESSING&&(this.startTime=0);y.prototype.emit_stateChanged.call(this,a)}});var u=new y({dataSource:g.factory("rootChanged",function(a){return a.root.getChildNodesDataset()}),template:a.template.get("#3"),binding:{faultTests:"satellite:",levelUp:"satellite:"},selection:!0,listen:{selection:{itemsChanged:function(a){a.itemCount||this.satellite.faultTests.select()}}},childClass:w});u.setSatellite("faultTests",new w({contextSelection:u.selection,
delegate:new E({data:{name:"Summary"},getChildNodesDataset:function(){return t.faultTests}})}));u.setSatellite("levelUp",{events:"rootChanged",existsIf:function(a){return a.root.parentNode},delegate:function(a){return a.root.parentNode},instance:new w({binding:{name:function(){return".."}},action:{select:function(){this.owner.setDelegate(this.root)}}})});a.ready(function(){u.selection.itemCount||u.satellite.faultTests.select()});O.exports=u},"3.js":function(g,O,a,w,C,L,A,V,ba){g=this.path;var D=a.cleaner;
w=a.require("./1.js");var E=w.AbstractData,y=w.Value,t=w.STATE;w=y.subclass({className:g+".Property",extendConstructor_:!1,init:function(a,c,d){this.value=a;this.handler=c;this.proxy=d;y.prototype.init.call(this)}});C=t.priority;var v={stateChanged:function(){this.fire(!1,!0)},update:function(){this.fire(!0)},change:function(){this.fire(!0)},destroy:function(a){this.remove(a)}},u=function(){function d(){var e=a.setImmediate(d);l=!1;for(var g in c){var m=c[g];delete c[g];m.update()}a.clearImmediate(e)}
var c={},l=!1;return{add:function(e){c[e.basisObjectId]=e;l||(l=a.asap(d))},remove:function(a){delete c[a.basisObjectId]}}}();C=y.subclass({className:g+".ObjectSet",objects:null,value:0,valueChanged_:!1,calculateValue:function(){return this.value+1},calculateOnInit:!1,statePriority:C,stateChanged_:!0,init:function(){y.prototype.init.call(this);var a=this.objects;this.objects=[];a&&Array.isArray(a)&&(this.lock(),this.add.apply(this,a),this.unlock());this.valueChanged_=this.stateChanged_=!!this.calculateOnInit;
this.update()},add:function(){for(var d=0,c=arguments.length;d<c;d++){var l=arguments[d];l instanceof E&&a.array.add(this.objects,l)&&l.addHandler(v,this)}this.fire(!0,!0)},remove:function(d){a.array.remove(this.objects,d)&&d.removeHandler(v,this);this.fire(!0,!0)},clear:function(){for(var a=0,c;c=this.objects[a];a++)c.removeHandler(v,this);this.objects.length=0;this.fire(!0,!0)},fire:function(a,c){this.locked||(this.valueChanged_=this.valueChanged_||!!a,this.stateChanged_=this.stateChanged_||!!c,
(this.valueChanged_||this.stateChanged_)&&u.add(this))},lock:function(){this.locked=!0},unlock:function(){this.locked=!1},update:function(){var a=this.valueChanged_,c=this.stateChanged_;this.stateChanged_=this.valueChanged_=!1;u.remove(this);if(!D.globalDestroy&&(a&&this.set(this.calculateValue()),c))if(a=this.objects.length){for(var c=-2,d,e=0;e<a;e++){var l=this.objects[e],g=this.statePriority.indexOf(String(l.state));g>c&&(d=l,c=g)}d&&this.setState(d.state,d.state.data)}else this.setState(t.UNDEFINED)},
destroy:function(){this.lock();this.clear();u.remove(this);y.prototype.destroy.call(this)}});var d=function(){u.add(this)},m=function(){this.destroy()},l=function(a){return a.bindingBridge.get(a)};g=y.subclass({className:g+".Expression",calc_:null,values_:null,extendConstructor_:!1,init:function(){y.prototype.init.call(this);var a=arguments.length-1,c=arguments[a];if("function"!=typeof c)throw 5;for(var l=Array(a),e=0;e<a;e++){var g=l[e]=arguments[e];if(!g.bindingBridge)throw 6;g.bindingBridge.attach(g,
d,this,m)}this.calc_=c;this.values_=l;this.update()},update:function(){u.remove(this);y.prototype.set.call(this,this.calc_.apply(null,this.values_.map(l)))},set:function(){},destroy:function(){u.remove(this);for(var a=0,c;c=this.values_[a];a++)c.bindingBridge.detach(c,d,this);y.prototype.destroy.call(this)}});O.exports={Property:w,ObjectSet:C,Expression:g}},"4.js":function(g,O,a,w,C,L,A,V,ba){function D(a){if(a=a.nodes)for(var c=a.length-1,d;d=a[c];c--)d.parentNode.insertBefore(d,d.nextSibling)}g=
this.path;var E=w.document;w=a.Class;var y=a.require("./2.js").create;C=a.require("./5.js");var t=C.Template,v=C.marker,u=a.require("./a.js").TemplateSwitcher;A=a.require("./d.js");C=A.Node;L=A.PartitionNode;var d=A.GroupingNode,m=1,l=function(){var a={},c=/^([a-z_][a-z0-9_]*):(.*)/i;return{add:function(c,d){a[c]||(a[c]=d)},process:function(d,e){var f,h=e.match(c);h&&(f=a[h[1]],e=h[2]||d);return f?f(e):e}}}();l.add("data",function(a){return{events:"update",getter:"data."+a}});l.add("satellite",function(a){return{events:"satelliteChanged",
getter:function(c){return c.satellite[a]?c.satellite[a].element:null}}});var f=w.customExtendProperty({active:{events:"activeChanged",getter:function(a){return a.active}},state:{events:"stateChanged",getter:function(a){return String(a.state)}},childNodesState:{events:"childNodesStateChanged",getter:function(a){return String(a.childNodesState)}},childCount:{events:"childNodesModified",getter:function(a){return a.childNodes?a.childNodes.length:0}},hasChildren:{events:"childNodesModified",getter:function(a){return!!a.firstChild}},
empty:{events:"childNodesModified",getter:function(a){return!a.firstChild}}},function(c,d){c.bindingId=m++;for(var e in d){var f=null,g=d[e];N&&g instanceof N||a.resource.isResource(g)?f={events:"satelliteChanged",getter:function(a,c){var d="function"==typeof c?c:null,e=function(f){e=!1;if(d){c=d();if(0==c instanceof N)return;d=null}f.setSatellite(a,c)};return function(c){e&&e(c);return d||(c.satellite[a]?c.satellite[a].element:null)}}(e,g)}:g&&("string"==typeof g?g=l.process(e,g):g.bindingBridge&&
(g=a.fn.$const(g)),f="object"!=typeof g?{getter:"function"==typeof g?g:a.getter(g)}:Array.isArray(g)?{events:g[0],getter:a.getter(g[1])}:{events:g.events,getter:a.getter(g.getter)});c[e]=f}}),c={attach:function(a,c,d){a.addHandler(c,d)},detach:function(a,c,d){a.removeHandler(c,d)}},q=w.extensibleProperty({select:function(a){this.isDisabled()||(this.contextSelection&&this.contextSelection.multiple?this.select(a.ctrlKey||a.metaKey):this.select())}}),e={"*":function(a){var c=this.templateSwitcher_;c&&
c.ruleEvents&&c.ruleEvents[a.type]&&this.setTemplate(c.resolve(this))}},F=new t("<div/>"),I=[],T;A=function(d){return{template:F,emit_templateChanged:y("templateChanged"),templateSwitcher_:null,binding:f,action:q,tmpl:null,element:null,childNodesElement:null,init:function(){this.element=this.childNodesElement=I.pop()||E.createDocumentFragment();d.init.call(this)},postInit:function(){d.postInit.call(this);var a=this.template;if(a){var c=this.childNodesElement;this.template=null;this.setTemplate(a);
I.push(c);this.container&&(this.container.appendChild(this.element),this.container=null)}},templateSync:function(){var a=this.element,d=this.tmpl,e=this.template.createInstance(this,this.templateAction,this.templateSync,this.binding,c);e.childNodesHere&&(e.childNodesElement=e.childNodesHere.parentNode,e.childNodesElement.insertPoint=e.childNodesHere);this.tmpl=e;this.element=e.element;this.childNodesElement=e.childNodesElement||e.element;1!=this.childNodesElement.nodeType&&(this.childNodesElement=
E.createDocumentFragment());if(this.grouping){this.grouping.syncDomRefs();for(e=this;e.grouping;)e=e.grouping;for(var f=e.lastChild;f;f=f.previousSibling)f instanceof k?e.insertBefore(f,f.nextSibling):D(f);D(e.nullGroup)}else for(e=this.lastChild;e;e=e.previousSibling)this.insertBefore(e,e.nextSibling);this instanceof k&&D(this);a&&a!==this.element&&11!=a.nodeType&&(e=a&&a.parentNode)&&(this.owner&&this.owner.tmpl&&this.owner.tmpl.set(a,this.element),this.element.parentNode!==e&&e.replaceChild(this.element,
a));d&&this.emit_templateChanged()},setTemplate:function(a){var c=this.templateSwitcher_,d;a instanceof u&&(d=a,a=d.resolve(this));0==a instanceof t&&(a=null);a&&(d&&(this.templateSwitcher_=d,c||this.addHandler(e,this)),c&&c.resolve(this)!==a&&(this.templateSwitcher_=null,this.removeHandler(e,this)),c=this.tmpl,d=this.template,d!==a&&(this.template=a,this.templateSync(),d&&d.clearInstance(c)))},updateBind:function(a){var c=this.binding[a];(c=c&&c.getter)&&this.tmpl&&this.tmpl.set(a,c(this))},templateAction:function(a,
c){var d=this.action[a];d&&d.call(this,c)},focus:function(c){var d=this.tmpl?this.tmpl.focus||this.element:null;d&&(T&&(T=a.clearImmediate(T)),T=a.setImmediate(function(){try{d.focus(),c&&d.select()}catch(a){}}))},blur:function(){var a=this.tmpl?this.tmpl.focus||this.element:null;if(a)try{a.blur()}catch(c){}},destroy:function(){var a=this.template,c=this.element;this.templateSwitcher_&&(this.templateSwitcher_=null,this.removeHandler(e,this));a.clearInstance(this.tmpl);d.destroy.call(this);this.childNodesElement=
this.element=this.tmpl=null;(a=c&&c.parentNode)&&1==a.nodeType&&a.removeChild(c)}}};V=function(a){return{insertBefore:function(c,d){c=a.insertBefore.call(this,c,d);var e=(c.groupNode||this).childNodesElement||this.childNodesElement,f=c.nextSibling,h=c.element,f=(f&&f.element.parentNode==e?f.element:null)||e.insertPoint||null;h.parentNode===e&&h.nextSibling===f||e.insertBefore(h,f);return c},removeChild:function(c){a.removeChild.call(this,c);var d=c.element,e=d.parentNode;e&&e.removeChild(d);return c},
clear:function(c){if(c)for(var d=this.firstChild;d;){var e=d.element,f=e.parentNode;f&&f.removeChild(e);d=d.nextSibling}a.clear.call(this,c)},setChildNodes:function(c,d){var e=E.createDocumentFragment(),f=this.grouping||this,h=f.childNodesElement;f.childNodesElement=e;a.setChildNodes.call(this,c,d);h.insertBefore(e,h.insertPoint||null);f.childNodesElement=h}}};var k=w(L,A,{className:g+".PartitionNode",binding:{title:"data:"}});L=w(d,V,{className:g+".GroupingNode",childClass:k,groupingClass:w.SELF,
element:null,childNodesElement:null,emit_ownerChanged:function(a){this.syncDomRefs();d.prototype.emit_ownerChanged.call(this,a)},init:function(){this.element=this.childNodesElement=E.createDocumentFragment();d.prototype.init.call(this)},syncDomRefs:function(){var a=this,c=this.owner,d=null;c&&(d=c.tmpl&&c.tmpl.groupsElement||c.childNodesElement);do a.element=a.childNodesElement=d;while(a=a.grouping)},destroy:function(){d.prototype.destroy.call(this);this.childNodesElement=this.element=null}});var N=
w(C,A,V,{className:g+".Node",binding:{selected:{events:"select unselect",getter:function(a){return a.selected}},unselected:{events:"select unselect",getter:function(a){return!a.selected}},disabled:{events:"disable enable",getter:function(a){return a.isDisabled()}},enabled:{events:"disable enable",getter:function(a){return!a.isDisabled()}},tabindex:{events:"enable disable",getter:function(a){return a.isDisabled()?-1:a.tabindex||0}}},childClass:w.SELF,childFactory:function(a){return new this.childClass(a)},
groupingClass:L});g=N.subclass({className:g+".ShadowNodeList",emit_ownerChanged:function(a){N.prototype.emit_ownerChanged.call(this,a);this.setDataSource(this.owner&&this.owner.getChildNodesDataset())},getChildNodesElement:function(a){return a.childNodesElement},listen:{owner:{templateChanged:function(){this.childNodes.forEach(function(a){this.appendChild(a.element)},this.getChildNodesElement(this.owner)||this.owner.element)}}},childClass:{className:g+".ShadowNode",getElement:function(a){return a.element},
templateSync:function(){N.prototype.templateSync.call(this);var a=this.getElement(this.delegate);a&&(a[v]=this.delegate.element[v],this.element=a)},listen:{delegate:{templateChanged:function(){var a=this.element,c=a.parentNode,d=this.getElement(this.delegate);d&&(d[v]=this.delegate.element[v]);this.element=d||this.tmpl.element;c&&c.replaceChild(this.element,a)}}}}});O.exports={BINDING_PRESET:l,Node:N,PartitionNode:k,GroupingNode:L,ShadowNodeList:g,ShadowNode:g.prototype.childClass}},"x.js":function(g,
O,a,w,C,L,A,V,ba){var D=a.require("./1.js").STATE,E=a.require("./1.js").Object;a.require("./i.js");g=a.require("./n.js");a=new g.TestSuiteNode({template:a.template.get("#8"),binding:{sourceCode:"satellite:",type:["update",function(a){return a.data.type||"unknown"}],hasDelegate:["delegateChanged",function(a){return!!a.delegate}]},isRootNode:!0,selection:!0,satellite:{sourceCode:{satelliteClass:g.CodeView,events:"update stateChanged",existsIf:function(a){return"case"==a.data.type},delegate:function(a){return a.state==
D.ERROR&&a.state.data instanceof E?a.state.data:a}}}});a.contextSelection=a.selection;a.addHandler({delegateChanged:function(){this.selection.clear()}});O.exports=a},"n.js":function(g,O,a,w,C,L,A,V,ba){function D(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var E=a.require("./1.js").Value,y=a.require("./1.js").Object,t=a.require("./1.js").STATE,v=a.require("./4.js").Node,u=w.document,d=a.require("./o.js");a.require("./i.js");var m=a.require("./p.js");g=v.subclass({template:a.template.get("#4"),
binding:{beforeCode:"beforeElement",beforeCount:"data:beforeCount",beforeCollapsed:"beforeCollapsed",sourceCode:"mainElement",afterCode:"afterElement",afterCount:"data:afterCount",afterCollapsed:"afterCollapsed",hasParent:{events:"ownerChanged",getter:function(a){return E.from(a.owner,"parentChanged",function(a){return a.parentNode?!a.parentNode.isRootNode:!1})}}},action:{toggleBefore:function(){this.beforeCollapsed.set(!this.beforeCollapsed.value)},toggleAfter:function(){this.afterCollapsed.set(!this.afterCollapsed.value)}},
init:function(){this.beforeElement=u.createElement("div");this.beforeCollapsed=new a.Token(!0);this.mainElement=u.createElement("div");this.afterElement=u.createElement("div");this.afterCollapsed=new a.Token(!0);v.prototype.init.call(this);this.syncCode()},destroy:function(){this.afterCollapsed=this.afterElement=this.mainElement=this.beforeCollapsed=this.beforeElement=this.lines=null;v.prototype.destroy.call(this)},emit_update:function(a){v.prototype.emit_update.call(this,a);this.syncCode()},syncCode:function(){this.mainElement.innerHTML=
d(this.data.testSource,{keepFormating:!0,noLineNumber:!0});var c=a.array.from(this.mainElement.childNodes);if(this.data.exception){var f=this.data.lastLine;this.data.beforeLines&&f<this.data.beforeLines&&this.beforeCollapsed.set(!1);this.data.afterLines&&f>=c.length-this.data.afterLines&&this.afterCollapsed.set(!1);for(c[f++].className+=" exception-line";f<c.length;f++)c[f].className+=" disabled-line"}else{var f=this.data.errorLines,e;for(e in f)c[e].className+=" error-line",c[e].innerHTML+='<div class="error-line-details">'+
f[e].map(function(a){for(var c=m["string"==typeof a.expected&&"string"==typeof a.actual?"diffChars":"diffWords"](a.expectedStr,a.actualStr),d="",e="",f=0,l;l=c[f];f++)l.removed?d+='<span class="diff-removed">'+D(l.value)+"</span>":l.added?e+='<span class="diff-added">'+D(l.value)+"</span>":(d+=D(l.value),e+=D(l.value));return'<div class="error-line-details-item"><span class="num">'+(a.num+1)+'</span><span class="caption">Expected:</span><span class="expected">'+d+'</span><span class="caption">Actual:</span><span class="actual">'+
e+"</span></div>"}).join("")+"</div>"}this.data.afterLines&&(this.afterElement.innerHTML="",c.slice(c.length-this.data.afterLines).forEach(function(a){this.afterElement.appendChild(a)},this));this.data.beforeLines&&(this.beforeElement.innerHTML="",c.slice(0,this.data.beforeLines).forEach(function(a){this.beforeElement.appendChild(a)},this))}});w=v.subclass({template:a.template.get("#5"),binding:{name:"data:",hasOwnEnvironment:["rootChanged",function(a){return a.root.hasOwnEnvironment()}],time:["stateChanged",
function(a){return a.state.data&&a.state.data.data&&a.state.data.data.time}],errorMessage:["stateChanged",function(a){return a.state==t.ERROR&&a.state.data?a.state.data.data.error:""}],pending:["stateChanged",function(a){return a.state.data instanceof y&&Boolean(a.state.data.data.pending)}],stateData:["stateChanged",function(a){return a.state==t.PROCESSING?(100*a.state.data||0).toFixed(2):a.state.data instanceof y&&a.state.data.data.error||""}],stateMessage:["stateChanged",function(a){var d=a.state.data;
switch(String(a.state)){case t.READY:return d instanceof y&&d.data.pending?"Pending":"OK";case t.ERROR:return 0==d instanceof y?"Error":d.data.exception?d.data.exception:"ERROR_TIMEOUT"==d.data.error?"Timeout":d.data.testCount-d.data.successCount+" of "+d.data.testCount+" fault";case t.PROCESSING:return"running";default:return""}}]}});var l=w.subclass({dataSource:E.factory("rootChanged",function(a){return a.root?a.root.getChildNodesDataset():null}),template:a.template.get("#6"),childClass:w,childFactory:function(a){return"case"==
a.delegate.data.type?new f(a):new l(a)}}),f=w.subclass({template:a.template.get("#7"),binding:{source:"satellite:"},satellite:{source:{events:"stateChanged",existsIf:function(a){return a.state==t.ERROR&&a.state.data instanceof y&&a.state.data.data.testSource},delegate:"state.data",satelliteClass:g}}});O.exports={TestNode:w,TestCaseNode:f,TestSuiteNode:l,CodeView:g}},"o.js":function(g,O,a,w,C,L,A,V,ba){function D(a){function g(c,l,m,q){f!=l&&d.push(a.substring(f,l).replace(t,'<span class="token-keyword">$1</span>'));
f=m+1;c&&d.push('<span class="token-'+c+'">'+a.substring(l,m+1)+"</span>"+(q||""))}for(var d=[],m=a.split(""),l,f=0,c,q=0;q<m.length;q++)if("'"==m[q]||'"'==m[q])for(c=m[q],l=q;++q<m.length;){"\\"==m[q]&&("\n"==m[q+1]?(g("string",l,q),l=++q+1):q+=2);if(m[q]==c){g("string",l,q);break}if("\n"==m[q])break}else if("/"==m[q])if(l=q,q++,"/"==m[q]){for(;++q<m.length&&"\n"!=m[q];);g("comment",l,q-1)}else if("*"==m[q])for(;++q<m.length;)if("*"==m[q]&&"/"==m[q+1]){g("comment",l,++q);break}else"\n"==m[q]&&(g("comment",
l,q-1,"\n"),f=l=q+1);g(null,a.length);return d}var E=a.number.lead,y=a.string.repeat,t=RegExp("\\b(break|case|catch|continue|default|delete|do|else|false|for|function|if|in|instanceof|new|null|return|super|switch|this|throw|true|try|typeof|var|while|with)\\b","g");O.exports=function(a,g){g||(g={});for(var d=D(function(a){a=a.trimRight().replace(/\r\n|\n\r|\r/g,"\n");g.keepFormating||(a=a.replace(/^(?:\s*[\n]+)+?([ \t]*)/,"$1"));a=a.replace(/\n[ \t]+/g,function(a){return a.replace(/\t/g,"  ")}).replace(/\n[ \t]+\n/g,
"\n\n");if(!g.keepFormating){for(var c=1E3,d=a.split(/\n+/),f=Number(null!=a.match(/^function/));f<d.length;f++){var l=d[f].match(/^\s*/);l[0].length<c&&(c=l[0].length);if(0==c)break}0<c&&(a=a.replace(new RegExp("(^|\\n) {"+c+"}","g"),"$1"))}return a=a.replace(RegExp("(^|\\n)( +)","g"),function(a,c,d){return c+y(" ",d.length)})}(a||"").replace(/&/g,"&amp;").replace(/</g,"&lt;")).join("").split("\n"),m=String(d.length).length,l=g.noLineNumber?"":" hasLineNumber",f=[],c=0;c<d.length;c++)f.push('<div class="line '+
(c%2?"odd":"even")+l+'"><span class="lineContent">'+(g.noLineNumber?"":'<input class="lineNumber" value="'+E(c+1,m)+'" type="none" unselectable="on" readonly="readonly" tabindex="-1" /><span class="over"></span>')+(d[c]+"\r\n")+"</span></div>");return f.join("")}},"p.js":function(g,O,a,w,C,L,A,V,ba){g=function(){function a(d){for(var f=[],c=0;c<d.length;c++)d[c]&&f.push(d[c]);return f}function g(a){a=a.replace(/&/g,"&amp;");a=a.replace(/</g,"&lt;");a=a.replace(/>/g,"&gt;");return a=a.replace(/"/g,
"&quot;")}var y=function(a){this.ignoreWhitespace=a};y.prototype={diff:function(a,d){if(d===a)return[{value:d}];if(!d)return[{value:a,removed:!0}];if(!a)return[{value:d,added:!0}];d=this.tokenize(d);a=this.tokenize(a);var c=d.length,g=a.length,e=c+g,m=[{newPos:-1,components:[]}],u=this.extractCommon(m[0],d,a,0);if(m[0].newPos+1>=c&&u+1>=g)return m[0].components;for(var v=1;v<=e;v++)for(var k=-1*v;k<=v;k+=2){var t;t=m[k-1];var y=m[k+1],u=(y?y.newPos:0)-k;t&&(m[k-1]=void 0);var w=t&&t.newPos+1<c,G=
y&&0<=u&&u<g;if(w||G){!w||G&&t.newPos<y.newPos?(t={newPos:y.newPos,components:y.components.slice(0)},this.pushComponent(t.components,a[u],void 0,!0)):(t={newPos:t.newPos,components:t.components.slice(0)},t.newPos++,this.pushComponent(t.components,d[t.newPos],!0,void 0));u=this.extractCommon(t,d,a,k);if(t.newPos+1>=c&&u+1>=g)return t.components;m[k]=t}else m[k]=void 0}},pushComponent:function(a,d,c,g){var e=a[a.length-1];e&&e.added===c&&e.removed===g?a[a.length-1]={value:this.join(e.value,d),added:c,
removed:g}:a.push({value:d,added:c,removed:g})},extractCommon:function(a,d,c,g){var e=d.length,m=c.length,t=a.newPos;for(g=t-g;t+1<e&&g+1<m&&this.equals(d[t+1],c[g+1]);)t++,g++,this.pushComponent(a.components,d[t],void 0,void 0);a.newPos=t;return g},equals:function(a,d){var c=/\S/;return!this.ignoreWhitespace||c.test(a)||c.test(d)?a===d:!0},join:function(a,d){return a+d},tokenize:function(a){return a}};var t=new y,v=new y(!0),u=new y;v.tokenize=u.tokenize=function(d){return a(d.split(/(\s+|\b)/))};
var d=new y(!0);d.tokenize=function(d){return a(d.split(/([{}:;,]|\s+)/))};var m=new y;m.tokenize=function(a){var d=[];a=a.split(/^/m);for(var c=0;c<a.length;c++){var g=a[c],e=a[c-1];"\n"==g&&e&&"\r"===e[e.length-1]?d[d.length-1]+="\n":g&&d.push(g)}return d};return{Diff:y,diffChars:function(a,d){return t.diff(a,d)},diffWords:function(a,d){return v.diff(a,d)},diffWordsWithSpace:function(a,d){return u.diff(a,d)},diffLines:function(a,d){return m.diff(a,d)},diffCss:function(a,f){return d.diff(a,f)},createPatch:function(a,
d,c,g,e){function t(a){return a.map(function(a){return" "+a})}function u(a,c,d){var e=k[k.length-2],f=c===k.length-2;c=c===k.length-3&&(d.added!==e.added||d.removed!==e.removed);/\n$/.test(d.value)||!f&&!c||a.push("\\ No newline at end of file")}var v=[];v.push("Index: "+a);v.push("===================================================================");v.push("--- "+a+("undefined"===typeof g?"":"\t"+g));v.push("+++ "+a+("undefined"===typeof e?"":"\t"+e));var k=m.diff(d,c);k[k.length-1].value||k.pop();
k.push({value:"",lines:[]});d=a=0;c=[];e=g=1;for(var y=0;y<k.length;y++){var w=k[y],z=w.lines||w.value.replace(/\n$/,"").split("\n");w.lines=z;if(w.added||w.removed){if(!a){var G=k[y-1];a=g;d=e;G&&(c=t(G.lines.slice(-4)),a-=c.length,d-=c.length)}c.push.apply(c,z.map(function(a){return(w.added?"+":"-")+a}));u(c,y,w);w.added?e+=z.length:g+=z.length}else a&&(8>=z.length&&y<k.length-2?c.push.apply(c,t(z)):(G=Math.min(z.length,4),v.push("@@ -"+a+","+(g-a+G)+" +"+d+","+(e-d+G)+" @@"),v.push.apply(v,c),
v.push.apply(v,t(z.slice(0,G))),4>=z.length&&u(v,y,w),d=a=0,c=[])),g+=z.length,e+=z.length}return v.join("\n")+"\n"},applyPatch:function(a,d){for(var c=d.split("\n"),g=[],e=!1,m=!1,t="I"===c[0][0]?4:0;t<c.length;t++)if("@"===c[t][0]){var u=c[t].split(/@@ -(\d+),(\d+) \+(\d+),(\d+) @@/);g.unshift({start:u[3],oldlength:u[2],oldlines:[],newlength:u[4],newlines:[]})}else"+"===c[t][0]?g[0].newlines.push(c[t].substr(1)):"-"===c[t][0]?g[0].oldlines.push(c[t].substr(1)):" "===c[t][0]?(g[0].newlines.push(c[t].substr(1)),
g[0].oldlines.push(c[t].substr(1))):"\\"===c[t][0]&&("+"===c[t-1][0]?e=!0:"-"===c[t-1][0]&&(m=!0));c=a.split("\n");for(t=g.length-1;0<=t;t--){for(var u=g[t],k=0;k<u.oldlength;k++)if(c[u.start-1+k]!==u.oldlines[k])return!1;Array.prototype.splice.apply(c,[u.start-1,+u.oldlength].concat(u.newlines))}if(e)for(;!c[c.length-1];)c.pop();else m&&c.push("");return c.join("\n")},convertChangesToXML:function(a){for(var d=[],c=0;c<a.length;c++){var m=a[c];m.added?d.push("<ins>"):m.removed&&d.push("<del>");d.push(g(m.value));
m.added?d.push("</ins>"):m.removed&&d.push("</del>")}return d.join("")},convertChangesToDMP:function(a){for(var d=[],c,g=0;g<a.length;g++)c=a[g],d.push([c.added?1:c.removed?-1:0,c.value]);return d}}}();"undefined"!==typeof O&&(O.exports=g)},"5.js":function(g,O,a,w,C,L,A,V,ba){function D(a){var b=a.dictionary,b=b.resource?b.resource.url:"",c=a.name+"@"+b,d,h=a.as(function(b){return"markup"==a.type?(b!=this.value&&d&&(d.detach(a,a.apply),d=null),b&&"path:"==b.substr(0,5)&&(d=e(b.substr(5)),d.attach(a,
a.apply)),d?d.bindingBridge.get(d):b):this.value});h.id="{l10n:"+c+"}";h.url=b+":"+a.name;return h}function E(a){"string"==typeof a&&(a=l(a));if(!a)return null;var b=a.basisObjectId,c=Z[b];c||(c=Z[b]=new da(D(a)));return c}function y(a){return function(b){if("click"!=b.type||3!=b.which){for(var c=$[b.type]||"mouseenter"!=b.type&&"mouseleave"!=b.type,d=b.sender,e;d;){e=d.getAttribute&&d.getAttribute(a);if(!c||"string"==typeof e)break;d=d.parentNode}if("string"==typeof e){var h=d,c=h,f,p;$[b.type]&&
(f=b.relatedTarget)&&(h===f||ca(h,f))&&(h=null);for(;h;){f=h[oa];if("number"==typeof f&&(p=t(f)))break;h=h.parentNode}if(p&&p.action)for(e=e.trim().split(/\s+/),b.actionTarget=c,c=0;h=e[c++];)switch(h){case "prevent-default":b.preventDefault();break;case "stop-propagation":b.stopPropagation();break;case "log-event":break;default:p.action.call(p.context,h,b)}}if(b.type in x)x[b.type](b,d)}}}function t(a){var c=b[a&4095];return c&&c.instances[a>>12]}g=this.path;var v=w.document,u=w.Node,d=a.require("./6.js"),
m=a.string.camelize;C=a.require("./7.js");var l=C.token,f=C.Token,c=a.require("./8.js").getFunctions;A=a.require("./a.js");var q=A.TemplateSwitchConfig;C=A.TemplateSwitcher;L=A.Template;var e=A.get;A=a.require("./9.js");var F=A.TYPE_ELEMENT,I=A.TYPE_ATTRIBUTE,T=A.TYPE_ATTRIBUTE_CLASS,k=A.TYPE_ATTRIBUTE_STYLE,N=A.TYPE_ATTRIBUTE_EVENT,P=A.TYPE_TEXT,z=A.TYPE_COMMENT,G=A.TOKEN_TYPE,R=A.TOKEN_BINDINGS,K=A.TOKEN_REFS,h=A.ATTR_NAME,na=A.ATTR_VALUE,J=A.ATTR_VALUE_INDEX,ja=A.ELEMENT_NAME,H=A.TEXT_VALUE,fa=
A.COMMENT_VALUE,ga=A.CLASS_BINDING_ENUM,la=A.CLASS_BINDING_BOOL,oa="basisTemplateId_"+a.genUID(),pa={},b={},n={svg:"http://www.w3.org/2000/svg"},x={},$={},aa="onmouseenter"in v.documentElement,r=!v.addEventListener&&"__basisTemplate"+parseInt(1E9*Math.random());r&&(w[r]=function(a,b){d.fireEvent(v,a);b.returnValue=!0;var c=pa[a];c&&c(new d.Event(b))});var za=function(){var a=v.createElement("div");a.appendChild(v.createTextNode("a"));a.appendChild(v.createTextNode("a"));return 1==a.cloneNode(!0).childNodes.length}(),
wa=function(){var a=v.createElement("div");a.setAttribute("class","a");return!a.className}(),La=function(){var a=v.createElement("div");a.setAttribute("style","position:absolute");return"absolute"!=a.style.position}(),qa;a:{try{qa=v.documentElement.style.color="x";break a}catch(Fa){}qa=void 0}var Da=!!qa,ca=function(a,b){return a.contains(b)};u&&!u.prototype.contains&&(ca=function(a,b){return!!(a.compareDocumentPosition(b)&16)});var Z={},W=function(a,b){function c(a,b){e(b);$[a]=!0;x[b]=function(b){b=
new d.Event(b);b.type=a;pa[a](b)};x[a]=function(b,c){if(c=c&&c.parentNode)b=new d.Event(b),b.type=a,b.sender=c,pa[a](b)}}function e(a){if(!pa[a]&&(pa[a]=y("event-"+a),!r)){if(!aa&&"mouseenter"==a)return c(a,"mouseover");if(!aa&&"mouseleave"==a)return c(a,"mouseout");for(var b=0,p=d.browserEvents(a),h;h=p[b];b++)d.addGlobalHandler(h,pa[a])}}function f(a,b){e(a);r&&l.setAttribute("on"+a,r+'("'+a+'",event)');l.setAttribute("event-"+a,b)}function g(a,b){wa&&"class"==a&&(a="className");if(La&&"style"==
a)return l.style.cssText=b;l.setAttribute(a,b)}for(var l=b||v.createDocumentFragment(),p,m=b?4:0,M;M=a[m];m++)switch(p=M[G],p){case F:p=M[ja];var ta=p.split(/:/);p=1<ta.length?v.createElementNS(n[ta[0]],p):v.createElement(p);W(M,p);l.appendChild(p);break;case I:M[R]||g(M[h],M[na]||"");break;case T:p=(p=M[J[p]])?[p]:[];if(M[R])for(var ta=0,ra;ra=M[R][ta];ta++){var q=ra[4];if(q){var t=ra[0];if(Array.isArray(t))p.push(ra[0][q-1]);else switch(ra[2]){case la:p.push(t+ra[3]);break;case ga:p.push(t+ra[5][q-
1])}}}(p=p.join(" ").trim())&&g("class",p);break;case k:(M=M[J[p]])&&g("style",M);break;case N:f(M[1],M[2]||M[1]);break;case z:l.appendChild(v.createComment(M[fa]||(M[K]?"{"+M[K].join("|")+"}":"")));break;case P:za&&m&&a[m-1][G]==P&&l.appendChild(v.createComment("")),l.appendChild(v.createTextNode(M[H]||(M[K]?"{"+M[K].join("|")+"}":"")||(M[R]?"{"+M[R]+"}":"")))}b||1!=a.length||(l=l.firstChild);return l};qa=function(){function d(){this.set(this.name,this.value)}function e(a,b,c){var p=b&&b.bindingBridge,
h=this.attaches&&this.attaches[a],g=null;if(p||h)if(p){if(h&&b===h.value)g=b&&"markup"==b.type?h.tmpl:null;else{h&&(h.tmpl&&E(h.value).clearInstance(h.tmpl),h.value.bindingBridge.detach(h.value,d,h));if("markup"==b.type&&b instanceof f){var l=E(b),k=this.context,r=this.bindings,n=this.bindingInterface,g=l.createInstance(k,null,function ab(){g=m.tmpl=l.createInstance(k,null,ab,r,n);g.parent=g.element.parentNode||g.element;d.call(m)},r,n);g.parent=g.element.parentNode||g.element}this.attaches||(this.attaches=
new c);var m=this.attaches[a]={name:a,value:b,tmpl:g,set:this.tmpl.set};p.attach(b,d,m)}if(g)return g.parent;b=p.get(b)}else h&&(h.tmpl&&E(h.value).clearInstance(h.tmpl),h.value.bindingBridge.detach(h.value,d,h),this.attaches[a]=null);return b}function h(a,b){var c=a[0],d=a[1],e=b[c],p=b[d];switch(a.length){case 1:return function(a){this(c,e(a))};case 2:return function(a){this(c,e(a));this(d,p(a))};default:var f=a.map(function(a){return b[a]});return function(b){for(var c=0;c<a.length;c++)this(a[c],
f[c](b))}}}var g=/\s+/,k=w.DOMTokenList&&v&&v.documentElement.classList instanceof w.DOMTokenList,r;a:{try{r=v instanceof u;break a}catch(n){}r=void 0}var p=r?function(b,c,d,e){b=!e&&d&&d instanceof u?d:b;if(b!==c){11!==b.nodeType||b.insertedNodes||(b.insertBefore(v.createTextNode(""),b.firstChild),b.insertedNodes=a.array(b.childNodes));if(11===c.nodeType&&(d=c.insertedNodes)){c=d[0];e=1;for(var p;p=d[e];e++)c.parentNode.removeChild(p)}c.parentNode.replaceChild(b,c)}return b}:function(a,b,c,d){c=
!d&&c&&"object"==typeof c?c:a;if(c!==b)try{b.parentNode.replaceChild(c,b)}catch(e){c=a,b!==c&&b.parentNode.replaceChild(c,b)}return c},S=function(a,b,c,d){c!==d&&(d?a.setAttribute(b,d):a.removeAttribute(b));return d},M={bind_textNode:function(a,b,c,d){b=p(a,b,c,d);b===a&&(a.nodeValue=String(c));return b},bind_node:p,bind_element:function(a,b,c,d){b=p(a,b,c,d);b===a&&"string"==typeof c&&(a.innerHTML=c);return b},bind_comment:p,bind_attr:S,bind_attrClass:k?function(b,c,d,e){var p=d?d:"";p!=c&&(c&&b.classList.remove(c),
p&&(b.classList.add(p),e&&(b.classList.add(p+"-anim"),a.nextTick(function(){b.classList.remove(p+"-anim")}))));return p}:function(b,c,d,e){var p=d?d:"";if(p!=c){d=b.className;var h="string"!=typeof d;h&&(d=d.baseVal);d=d.split(g);c&&a.array.remove(d,c);p&&(d.push(p),e&&(a.array.add(d,p+"-anim"),a.nextTick(function(){var c=(h?b.className.baseVal:b.className).split(g);a.array.remove(c,p+"-anim");h?b.className.baseVal=c.join(" "):b.className=c.join(" ")})));h?b.className.baseVal=d.join(" "):b.className=
d.join(" ")}return p},bind_attrStyle:Da?function(a,b,c,d){c!==d&&(a.style[m(b)]=d);return d}:function(a,b,c,d){if(c!==d)try{a.style[m(b)]=d}catch(e){}return d},resolve:e,l10nToken:l,createBindingFunction:function(a){var b={};return function(c,d,e,p){if(!c)return{};var f="bindingId"in c?c.bindingId:null,g=b[f];if(!g){for(var g=[],l={},k={},r=0,n;n=a[r];r++){var m=c[n],M=m&&m.getter;if(M&&(l[n]=M,g.push(n),m.events))for(var m=String(m.events).trim().split(/\s+|\s*,\s*/),M=0,S;S=m[M];M++)k[S]?k[S].push(n):
k[S]=[n]}c=h(g,l);for(var q in k)k[q]=h(k[q],l);g={names:g,sync:c,handler:q?k:null};f&&(b[f]=g)}e&&g.sync.call(e,d);if(p)return g.handler&&p.attach(d,g.handler,e),g.handler}}};return function(d){var p=c(d,!0,this.source.url,d.source_,!za,oa),h,f={},g={},k=[],r=[],n=0,m=W(d),q=this.templateId;b[q]={template:this,instances:f};if(p.createL10nSync){var t=p.createL10nSync(m,g,S,za);if(p.l10nKeys){d=0;for(var x;x=p.l10nKeys[d];d++){var u=l(x),v={path:x,token:u,handler:function(b){var c="markup"==this.token.type;
c?a.array.add(r,this):a.array.remove(r,this);t(this.path,c?null:b);for(var d in f)f[d].tmpl.set(this.path,c?this.token:b)}};v.token.attach(v.handler,v);k.push(v);"markup"==u.type?(r.push(v),t(x,null)):t(x,u.value);u=v=null}}}h=p.createInstance(q,f,m,M,g,za);return{createInstance:function(a,b,c,d,e){var p=n++;a=h(p,a,b,c,d,e);b=0;for(c=r.length;b<c;b++)a.tmpl.set(r[b].path,r[b].token);f[p]=a;return a.tmpl},destroyInstance:function(a){a=a.templateId_;var b=f[a];if(b){b.handler&&b.bindingInterface.detach(b.context,
b.handler,b.tmpl.set);for(var c in b.attaches)e.call(b,c,null);delete f[a]}},keys:p.keys,destroy:function(a){for(var c=0,d;d=k[c];c++)d.token.detach(d.handler,d);for(var h in f)if(c=f[h],a&&c.rebuild&&c.rebuild.call(c.context),!a||h in f)for(h in c.handler&&c.bindingInterface.detach(c.context,c.handler,c.tmpl.set),c.attaches)e.call(h,null);b[q]&&b[q].instances===f&&delete b[q];f=t=k=g=m=p=null}}}}();var da=L.subclass({className:g+".Template",__extend__:function(a){return a instanceof da?a:a instanceof
q?new va(a):new da(a)},builder:qa}),va=C.subclass({className:g+".TemplateSwitcher",templateClass:da});O.exports={marker:oa,Template:da,TemplateSwitcher:va};a.namespace("basis.template").extend({buildHtml:W,resolveTemplateById:function(a){return(a=b[a&4095])&&a.template},resolveObjectById:function(a){return(a=t(a))&&a.context},resolveTmplById:function(a){return(a=t(a))&&a.tmpl}})},"6.js":function(g,O,a,w,C,L,A,V,ba){function D(a){return a instanceof oa?a.event_:a||w.event}function E(a){return"string"==
typeof a?R.getElementById(a):a}function y(a){a=a.target||a.srcElement||R;return 3==a.nodeType?a.parentNode:a}function t(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function v(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function u(a,b){(b=E(b))?N(b,a,u):(v(a),t(a))}function d(a){return a.keyCode||a.which||0}function m(a){return a.charCode||a.keyCode||0}function l(a,b){return"number"==typeof a.which?a.which==b.VALUE:!!(a.button&b.BIT)}function f(a){return a.changedTouches?
a.changedTouches[0].pageX:"pageX"in a?a.pageX:"clientX"in a?a.clientX+("CSS1Compat"==R.compatMode?R.documentElement.scrollLeft:R.body.scrollLeft):0}function c(a){return a.changedTouches?a.changedTouches[0].pageY:"pageY"in a?a.pageY:"clientY"in a?a.clientY+("CSS1Compat"==R.compatMode?R.documentElement.scrollTop:R.body.scrollTop):0}function q(a){var b=0;"deltaY"in a?b=-a.deltaY:"wheelDelta"in a?b=a.wheelDelta:"DOMMouseScroll"==a.type&&(b=-a.detail);return b&&b/Math.abs(b)}function e(b){x&&b!==$&&($=
b,a.asap.process())}function F(a){var c=h(pa[a.type]),d=b[a.type],f=new oa(a);if(d)d.handler.call(d.thisObject,f);else if(c)for(d=c.length;0<d--;){var g=c[d];g.handler.call(g.thisObject,f)}e(a)}function I(a){var c=b[a];c&&(k(a,c.handler,c.thisObject),delete b[a])}function T(a,b,c){var d=pa[a];if(d){a=0;for(var e;e=d[a];a++)if(e.handler===b&&e.thisObject===c)return}else n?N(R,a,K):R.addEventListener(a,F,!0),d=pa[a]=[];d.push({handler:b,thisObject:c})}function k(a,b,c){var d=pa[a];if(d)for(var e=0,
h;h=d[e];e++)if(h.handler===b&&h.thisObject===c){d.splice(e,1);d.length||(delete pa[a],n?P(R,a,K):R.removeEventListener(a,F,!0));break}}function N(a,b,c,d){a=E(a);if(!a)throw 7;if("function"!=typeof c)throw 8;var h=a===w?na:a[J];h||(h=a[J]={});var f=h[b],g={handler:c,thisObject:d};if(f){for(a=0;h=f[a];a++)if(h.handler===c&&h.thisObject===d)return;f.push(g)}else f=h[b]=[g],f.fireEvent=function(a){a=D(a);if(n&&a&&pa[b]&&"undefined"==typeof a.returnValue){F(a);if(!0===a.cancelBubble)return;"undefined"==
typeof a.returnValue&&(a.returnValue=!0)}for(var c=0,d=new oa(a),h;h=f[c++];)h.handler.call(h.thisObject,d);e(a)},ja?a.addEventListener(b,f.fireEvent,!1):a.attachEvent("on"+b,f.fireEvent)}function P(a,b,c,d){a=E(a);var e=a===w?na:a[J];if(e&&(e=e[b]))for(var h=0,f;f=e[h];h++)if(f.handler===c&&f.thisObject===d){e.splice(h,1);e.length||z(a,b);break}}function z(a,b){a=E(a);var c=a===w?na:a[J];if(c)if("string"!=typeof b)for(b in c)z(a,b);else{var d=c[b];d&&(a.removeEventListener?a.removeEventListener(b,
d.fireEvent,!1):a.detachEvent("on"+b,d.fireEvent),delete c[b])}}function G(a){return function(b,c){return a(D(b),c)}}g=this.path;var R=w.document,K=a.fn.$null,h=a.array.from,na={},J="basisEvents_"+a.genUID(),ja=!!R.addEventListener;C={BACKSPACE:8,TAB:9,CTRL_ENTER:10,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,ESCAPE:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123};
var H={VALUE:1,BIT:1},fa={VALUE:2,BIT:4},ga={VALUE:3,BIT:2},la={mousewheel:["wheel","mousewheel","DOMMouseScroll"]},oa=a.Class(null,{className:g+".Event",KEY:C,init:function(b){b=D(b);for(var e in b)"function"!=typeof b[e]&&0==e in this&&(this[e]=b[e]);e=y(b);a.object.extend(this,{event_:b,sender:e,target:e,key:d(b),charCode:m(b),mouseLeft:l(b,H),mouseMiddle:l(b,fa),mouseRight:l(b,ga),mouseX:f(b),mouseY:c(b),wheelDelta:q(b)})},stopBubble:function(){t(this.event_)},stopPropagation:function(){t(this.event_)},
preventDefault:function(){v(this.event_)},die:function(){this.stopBubble();this.preventDefault()}}),pa={},b={},n=!ja,x=!0,$,aa={};O.exports={W3CSUPPORT:ja,browserEvents:function(a){return la[a]||[a]},getEventInfo:function(a,b){b||(b="div");var c=b+"-"+a;if(aa[c])return aa[c];var d=!1,e=!1;if(!ja){var h="on"+a,f=R.createElement("div"),g=f.appendChild(R.createElement(b));f[h]=function(){e=!0};try{g.fireEvent(h),d=!0}catch(k){}}return aa[c]={supported:d,bubble:e}},KEY:C,MOUSE_LEFT:H,MOUSE_RIGHT:ga,MOUSE_MIDDLE:fa,
Event:oa,sender:G(y),cancelBubble:G(t),cancelDefault:G(v),kill:G(u),key:G(d),charCode:G(m),mouseButton:G(l),mouseX:G(f),mouseY:G(c),wheelDelta:G(q),addGlobalHandler:T,removeGlobalHandler:k,captureEvent:function(c,d,e){b[c]&&I(c);d||(d=a.fn.$undef);T(c,d,e);b[c]={handler:d,thisObject:e}},releaseEvent:I,addHandler:N,addHandlers:function(a,b,c){a=E(a);for(var d in b)N(a,d,b[d],c)},removeHandler:P,clearHandlers:z,fireEvent:function(a,b,c){a=E(a);if((a=a===w?na:a[J])&&a[b])try{x=!1,a[b].fireEvent(c)}finally{x=
!0}},onUnload:function(b,c){a.teardown(b,c)},wrap:D}},"7.js":function(g,O,a,w,C,L,A,V,ba){function D(a,c,e,f){var g=a.cultureValues[c];f=f?f+".":"";for(var k in e)if(-1==k.indexOf(".")&&d.call(e,k)){var l=f+k,m=e[k];(g[l]=m)&&("object"==typeof m||Array.isArray(m))&&D(a,c,m,l)}}function E(c){var d;if("string"==typeof c){var e=a.path.extname(c);".l10n"!=e&&(c=c.replace(new RegExp(e+"([#?]|$)"),".l10n$1"));c=a.resource(c)}a.resource.isResource(c)&&(d=F[c.url]);return d||new T(c)}function y(a,c){a&&!P[a]&&
(P[a]=new K(a,c));return P[a||N]}function t(c){if(c&&N!=c&&-1!=k.indexOf(c)){N=c;for(var d=0,f;f=e[d];d++)f.syncValues();a.Token.prototype.set.call(y,c)}}function v(c){"string"==typeof c&&(c=c.trim().split(" "));if(c.length){var d={},e,f;z={};for(var g=0,l;e=c[g];g++)e=e.split("/"),2<e.length&&(e=e.slice(0,2)),l=e[0],f||(f=l),d[l]=y(l),z[l]=e;for(l in z)z[l]=a.array.flatten(z[l].map(function(a){return z[a]})).concat(f).filter(function(a,c,d){return!c||-1==d.lastIndexOf(a,c-1)});k=a.object.keys(d);
0==N in d&&t(f)}}g=this.path;w=a.Class;var u=a.require("./2.js").Emitter,d=Object.prototype.hasOwnProperty;a.resource.extensions[".l10n"]=function(c,d){return E(d).update(a.resource.extensions[".json"](c,d))};var m=[],l={},f=a.Token.prototype.set,c=w(a.Token,{className:g+".ComputeToken",init:function(c,d){d.computeTokens[this.basisObjectId]=this;this.token=d;a.Token.prototype.init.call(this,c)},get:function(){var a="plural"==this.token.type,c=a?P[N].plural(this.value):this.value,c=this.token.dictionary.getValue(this.token.name+
"."+c);a&&(c=String(c).replace(/#/g,this.value));return c},toString:function(){return this.get()},destroy:function(){delete this.token.computeTokens[this.basisObjectId];this.token=null;a.Token.prototype.destroy.call(this)}}),q=w(a.Token,{className:g+".Token",index:NaN,dictionary:null,name:"",type:"default",computeTokens:null,init:function(c,d,e,f){a.Token.prototype.init.call(this,f);this.index=m.push(this)-1;this.name=d;this.dictionary=c;this.computeTokens={};e?this.setType(e):this.apply()},toString:function(){return this.get()},
apply:function(){for(var c in this.computeTokens)this.computeTokens[c].apply();a.Token.prototype.apply.call(this)},set:function(){},setType:function(a){"plural"==a||O.exports.enableMarkup&&"markup"==a||(a="default");this.type!=a&&(this.type=a,this.apply())},compute:function(d,e){1==arguments.length&&(e=d,d="");e=a.getter(e);d=String(d).trim().split(/\s+|\s*,\s*/).sort();var g=d.concat(this.basisObjectId,e[a.getter.ID]).join("_");if(l[g])return l[g];for(var k=this,m={},q=function(a){f.call(this,e(a))},
t={destroy:function(a){delete m[a.basisObjectId];this.destroy()}},v=0,y;y=d[v];v++)"destroy"!=y&&(t[y]=q);return l[g]=function(a){if(0==a instanceof u)throw 9;var b=a.basisObjectId,d=m[b];d||(d=m[b]=new c(e(a),k),a.addHandler(t,d));return d}},computeToken:function(a){return new c(a,this)},token:function(a){"plural"==this.type&&(a=P[N].plural(a));if(this.dictionary)return this.dictionary.token(this.name+"."+a)},destroy:function(){for(var c in this.computeTokens)this.computeTokens[c].destroy();this.dictionary=
this.value=this.computeTokens=null;m[this.index]=null;a.Token.prototype.destroy.call(this)}}),e=[],F={},I=new a.Token,T=w(null,{className:g+".Dictionary",tokens:null,types:null,cultureValues:null,index:NaN,resource:null,init:function(c){this.tokens={};this.types={};this.cultureValues={};this.index=e.push(this)-1;a.resource.isResource(c)?(this.resource=c,F[c.url]||(F[c.url]=this,I.set(c.url)),c.fetch()):this.update(c||{})},update:function(a){a||(a={});this.cultureValues={};for(var c in a)/^_|_$/.test(c)||
(this.cultureValues[c]={},D(this,c,a[c]));this.types=a._meta&&a._meta.type||{};for(var d in this.tokens)this.tokens[d].setType(this.types[d]);this.syncValues();return this},syncValues:function(){for(var a in this.tokens)f.call(this.tokens[a],this.getValue(a))},getValue:function(a){for(var c=z[N]||[],d=0,e;e=c[d];d++)if((e=this.cultureValues[e])&&a in e)return e[a]},getCultureValue:function(a,c){return this.cultureValues[a]&&this.cultureValues[a][c]},token:function(a){var c=this.tokens[a];c||(c=this.tokens[a]=
new q(this,a,this.types[a],this.getValue(a)));return c},destroy:function(){this.cultureValues=this.tokens=null;a.array.remove(e,this);this.resource&&(delete F[this.resource.url],this.resource=null)}}),k=[],N=null,P={},z={},G={},R=[[1,function(a){return 0}],[2,function(a){return 1==a||1==a%10?0:1}],[2,function(a){return 0==a?0:1}],[2,function(a){return 1==a?0:1}],[2,function(a){return 0==a||1==a?0:1}],[2,function(a){return 1!=a%10||11==a%100?1:0}],[3,function(a){return 1==a?0:2<=a%10&&4>=a%10&&(10>
a%100||20<=a%100)?1:2}],[3,function(a){return 1==a%10&&11!=a%100?0:0!=a?1:2}],[3,function(a){return 1==a%10&&11!=a%100?0:2<=a%10&&(10>a%100||20<=a%100)?1:2}],[3,function(a){return 1==a%10&&11!=a%100?0:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?1:2}],[3,function(a){return 0==a?0:1==a?1:2}],[3,function(a){return 1==a?0:0==a||0<a%100&&20>a%100?1:2}],[3,function(a){return 1==a?0:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?1:2}],[3,function(a){return 1==a?0:2<=a&&4>=a?1:2}],[4,function(a){return 1==a?0:2==a?
1:8!=a&&11!=a?2:3}],[4,function(a){return 1==a?0:2==a?1:3==a?2:3}],[4,function(a){return 1==a%100?1:2==a%100?2:3==a%100||4==a%100?3:0}],[4,function(a){return 1==a?0:0==a||1<a%100&&11>a%100?1:10<a%100&&20>a%100?2:3}],[4,function(a){return 1==a||11==a?0:2==a||12==a?1:2<a&&20>a?2:3}],[5,function(a){return 1==a?0:2==a?1:7>a?2:11>a?3:4}],[6,function(a){return 0==a?0:1==a?1:2==a?2:3<=a%100&&10>=a%100?3:11<=a%100?4:5}]];"ay bo cgg dz fa id ja jbo ka kk km ko ky lo ms my sah su th tt ug vi wo zh;mk;jv;af an ast az bg bn brx ca da de doi el en eo es es-AR et eu ff fi fo fur fy gl gu ha he hi hne hu hy ia it kn ku lb mai ml mn mni mr nah nap nb ne nl nn no nso or pa pap pms ps pt rm rw sat sco sd se si so son sq sv sw ta te tk ur yo;ach ak am arn br fil fr gun ln mfe mg mi oc pt-BR tg ti tr uz wa zh;is;csb;lv;lt;be bs hr ru sr uk;mnk;ro;pl;cs sk;cy;kw;sl;mt;gd;ga;ar".split(";").forEach(function(a,
c){a.split(" ").forEach(function(a){G[a]=this},R[c])});var K=a.Class(null,{className:g+".Culture",name:"",pluralForm:null,init:function(a,c){this.name=a;P[a]||(P[a]=this);this.pluralForm=c||G[a]||G[a.split("-")[0]]||R[0]},plural:function(a){return Number(this.pluralForm[1](Math.abs(parseInt(a,10))))}});a.object.extend(y,new a.Token);y.set=t;v("en-US");t("en-US");O.exports={ComputeToken:c,Token:q,token:function(c){if("#"==c.charAt(0))return m[parseInt(c.substr(1),36)];if(c=c.match(/^(.+?)@(.+)$/))return E(a.path.resolve(c[2])).token(c[1])},
Dictionary:T,dictionary:E,getDictionaries:function(){return e.slice(0)},addCreateDictionaryHandler:I.attach.bind(I),removeCreateDictionaryHandler:I.detach.bind(I),Culture:K,culture:y,getCulture:function(){return N},setCulture:t,getCultureList:function(){return k.slice(0)},setCultureList:v,pluralForms:R,onCultureChange:function(a,c,d){y.attach(a,c);d&&a.call(c,N)}}},"8.js":function(g,O,a,w,C,L,A,V,ba){function D(a,c){return new Function(a,c)}g=a.require("./9.js");var E=g.TYPE_ELEMENT,y=g.TYPE_ATTRIBUTE,
t=g.TYPE_ATTRIBUTE_CLASS,v=g.TYPE_ATTRIBUTE_STYLE,u=g.TYPE_ATTRIBUTE_EVENT,d=g.TYPE_TEXT,m=g.TYPE_COMMENT,l=g.TOKEN_TYPE,f=g.TOKEN_BINDINGS,c=g.TOKEN_REFS,q=g.ATTR_NAME,e=g.ATTR_NAME_BY_TYPE,F=g.ELEMENT_NAME,I=g.ELEMENT_ATTRS,T=g.CLASS_BINDING_ENUM,k=g.CLASS_BINDING_BOOL,N={},P=function(){function a(c,d){for(var e=0,b;b=c[e];e++)-1==b.indexOf(":")&&w.push(b+":"+d)}function g(a){var c=y.length,c=h[c]||"r"+c;y.push(c+"="+a);return c}function k(h,w,J,b){for(var n,x,D,N,r=0,T=0,O=0,L;L=h[r];r++,T++,N=
!1){r?h[r+1]?(L[l]==h[r-1][l]&&L[l]==d&&O++,n=w+".childNodes["+(J?T:T+(O?" + "+O+" * TEXT_BUG":""))+"]"):n=w+".lastChild":n=w+".firstChild";if(x=L[c])N=!0,n=g(n),a(x,n);L[f]&&(L[f]&&"number"==typeof L[f]&&(L[f]=L[c][L[f]-1]),N||(N=!0,n=g(n)),D=[L[l],n,L[f],x?-1!=x.indexOf("element"):!1],z.push(D));if(L[l]==E){D=-1;w==C&&H.push(n+"."+b);N||(n=g(n),D=y.length);for(var V=[],P=[],Da=I,ca;ca=L[Da];Da++)ca[l]==E||ca[l]==d||ca[l]==m?P.push(ca):V.push(ca);for(var Da=0,Z;Z=V[Da];Da++){var W=Z[l];if(W!=u){ca=
e[W]||Z[q];if(x=Z[c])N=!0,a(x,g(n+'.getAttributeNode("'+ca+'")'));if(x=Z[f])switch(N=!0,W){case t:for(W=0;Z=x[W];W++)Z=[2,n,Z[1],ca,Z[0]].concat(-1==Z[2]?[]:Z.slice(2)),z.push(Z);break;case v:for(W=0;Z=x[W];W++){A++;for(var da=0,va;va=Z[0][da];da++)z.push([2,n,va,ca,Z[0],Z[1],Z[2],Z[3],A])}break;default:for(A++,W=0;va=x[0][W];W++)z.push([2,n,va,ca,x[0],x[1],L[F],A])}}}P.length&&k(P,n,J);N||D!=y.length||y.pop()}}}var h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),y,w,z,H,C,A;return function(a,
c,d,b){y=[];w=[];z=[];H=[];C=c||"_";A=0;k(a,C,d,b);return{path:y,ref:w,binding:z,markedElementList:H}}}(),z=function(){function c(a,d,f){var g=[],h=a[5];a=a[4];for(var k,b,l=0;l<h.length;l++)if("string"==typeof h[l])g.push('"'+h[l].replace(/"/g,'\\"')+'"');else if(k=a[h[l]],b=k.indexOf(":"),-1==b)g.push("l10n"==d?'"{'+k+'}"':"bool"==d?"(__"+k+'||"")':"__"+k);else{var m=null,q=k.substr(b+1).replace(e,function(a,b){m=b;return""});m?g.push(f[k.substr(b+1)]):g.push('l10n["'+q+'"]')}1==g.length&&g.push('""');
return g.join("+")}var e=/\.\{([a-zA-Z_][a-zA-Z0-9_\-]*)\}/,f={disabled:"*",checked:["input"],indeterminate:["input"],value:["input","textarea","select"],minlength:["input"],maxlength:["input"],readonly:["input"],selected:["option"],multiple:["select"]},g={disabled:!0,checked:!0,selected:!0,readonly:!0,multiple:!0,indeterminate:!0},l={show:'"none"',visible:'"hidden"'},m={hide:'?"none":""',show:'?"":"none"',hidden:'?"hidden":""',visible:'?"":"hidden"'},t={1:"bind_element",3:"bind_textNode",8:"bind_comment"};
return function(u){function v(b){O[b]=!0;F.push(z+"="+b+"("+a.array(arguments,1)+");")}for(var w={},F,z,C=0,b=[],n=[],x=[],A,I,r=[],D={},N=0,L={},O={resolve:!0},V=0,P;P=u[V];V++){var ca=P[0],Z=P[1],W=P[2],da=P[3],va=W.split(":");if("l10n"==va[0]&&va[1]){var va=va[1],Ea=null,ma=va.replace(e,function(a,b){Ea=b;return""});if(Ea){0==va in D&&(A="$l10n_"+N++,D[va]=A,r.push('set("'+A+'",'+A+")"),b.push(A+'=tools.l10nToken("'+ma+'").computeToken()'),F=w[Ea],F||(F=w[Ea]=[],b.push("__"+Ea)),F.push(A+".set(__"+
Ea+");"));W=D[va];z="_"+C++;A="__"+W;F=w[W];F||(F=w[W]=[],b.push(A));ca==d?(b.push(z+"="+Z),v(t[ca],Z,z,"value",da)):(A='"'+P[q]+'"',b.push(z),v("bind_attr",Z,A,z,c(P,!1,D)));continue}}x.push(P)}for(V=0;P=x[V];V++)if(ca=P[0],Z=P[1],W=P[2],da=P[3],-1==["get","set","templateId_"].indexOf(W)){va=W.split(":");u="anim"==va[0];ma="l10n"==va[0];u&&(W=va[1]);F=w[W];z="_"+C++;A="__"+W;if(ma&&va[1])if(va=va[1],Ea=null,ma=va,I||(I={}),w[ma]||(w[ma]=[],w[ma].l10n="$l10n_"+N++,b.push("__"+w[ma].l10n+'=l10n["'+
ma+'"]'),I[ma]=[]),F=w[ma],ca==d){I[ma].push(Z+".nodeValue=value;");F.nodeBind?F.push(Z+".nodeValue=value;"):(b.push(z+"="+Z),v(t[ca],Z,z,"value",da),F.nodeBind=z);continue}else I[ma].push("bind_attr("+[Z,'"'+P[q]+'"',"NaN",c(P,"l10n",D)]+");");F||(F=w[W]=[],b.push(A));if(ca!=y)if(F.nodeBind)switch(ca){case E:v(t[ca],Z,Z,"value!==null?String(value):null");break;case d:F.push(Z+".nodeValue=value;")}else b.push(z+"="+Z),v(t[ca],Z,z,"value",da),F.nodeBind=z;else switch(A=P[q],A){case "class":A="";da=
"value";ca=P[7];switch(P[5]){case k:var da=[P[6]],ua=P[4],xa=Array.isArray(ua)?ua:da.map(function(a){return ua+a}),da='value?"'+xa[0]+'":""';ca&&(A=xa[ca-1]);break;case T:da=P[8];ua=P[4];xa=Array.isArray(ua)?ua:da.map(function(a){return ua+a});da=da.map(function(a,b){return'value=="'+a+'"?"'+xa[b]+'"'}).join(":")+':""';ca&&(A=xa[ca-1]);break;default:ua=P[4],da='typeof value=="string"||typeof value=="number"?"'+ua+'"+value:(value?"'+ua+W+'":"")'}b.push(z+'="'+A+'"');v("bind_attrClass",Z,z,da,u);break;
case "style":ca=c(P,!1,D);u=P[8];L[u]||(L[u]=z,b.push(z+"="+(l[P[7]]||'""')));P[7]&&(ca=ca.replace(/\+""$/,"")+(m[P[7]]||""));z=L[u];v("bind_attrStyle",Z,'"'+P[6]+'"',z,ca);break;default:da=f[A],va=P[6].toLowerCase(),ca=da&&g[A]?c(P,"bool",D)+'?"'+A+'":""':c(P,!1,D),u=P[7],L[u]||(b.push(z+"="+ca),L[u]=z),z=L[u],"tabindex"==A?v("bind_attr",Z,'"'+A+'"',z,ca+"==-1?"+(-1==["input","button","textarea"].indexOf(va)?'""':"-1")+":"+ca):v("bind_attr",Z,'"'+A+'"',z,ca),!da||"*"!=da&&-1==da.indexOf(va)||F.push("if("+
Z+"."+A+"!="+z+")"+Z+"."+A+"="+(g[A]?"!!"+z:z)+";")}}n.push(';function set(bindName,value){if(typeof bindName!="string")');for(W in w)w[W].nodeBind&&n.push("if(bindName==="+w[W].nodeBind+')bindName="'+W+'";else ');n.push("return;");n.push("value=resolve.call(instance,bindName,value,Attaches);switch(bindName){");for(W in w)C=w[W].l10n||W,n.push('case"'+W+'":if(__'+C+"!==value){__"+C+"=value;"+w[W].join("")+"}break;");n.push("}}");var W=[],Ba;for(Ba in O)W.push(Ba+"=tools."+Ba);return{keys:a.object.keys(w).filter(function(a){return-1==
a.indexOf("@")}),tools:W,vars:b,set:n.join(""),l10n:I,l10nCompute:r}}}();O.exports={getFunctions:function(c,d,e,f,g,k){if(d=N[e&&a.path.relative(e)])return d;g=P(c,"_",g,k);k=z(g.binding);d=g.markedElementList.join("=");e={keys:k.keys,l10nKeys:a.object.keys(k.l10n)};1==c.length&&(g.path[0]="a=_");if(k.l10n){c=[];for(var l in k.l10n)c.push('case"'+l+'":if(value==null)value="{'+l+'}";l10n[path]=value;'+k.l10n[l].join("")+"break;");e.createL10nSync=D(["_","l10n","bind_attr","TEXT_BUG"],"var "+g.path+
";return function(path, value){switch(path){"+c.join("")+"}}")}e.createInstance=D("tid map proto tools l10n TEXT_BUG".split(" "),"var getBindings=tools.createBindingFunction(["+k.keys.map(function(a){return'"'+a+'"'})+"]),"+(k.tools.length?k.tools+",":"")+"Attaches=function(){};Attaches.prototype={"+k.keys.map(function(a){return a+":null"})+"};return function createInstance_(id,obj,onAction,onRebuild,bindings,bindingInterface){var _=proto.cloneNode(true),"+g.path.concat(k.vars)+",instance={context:obj,action:onAction,rebuild:onRebuild,handler:null,bindings:bindings,bindingInterface:bindingInterface,attaches:null,tmpl:{"+
[g.ref,"templateId_:id","set:set"]+"}}"+(d?";if(obj||onAction)"+d+"=(id<<12)|tid":"")+k.set+";if(bindings)instance.handler=getBindings(bindings,obj,set,bindingInterface);"+k.l10nCompute+";return instance}");return e}}},"9.js":function(g,O,a,w,C,L,A,V,ba){O.exports={TYPE_ELEMENT:1,TYPE_ATTRIBUTE:2,TYPE_ATTRIBUTE_CLASS:4,TYPE_ATTRIBUTE_STYLE:5,TYPE_ATTRIBUTE_EVENT:6,TYPE_TEXT:3,TYPE_COMMENT:8,TOKEN_TYPE:0,TOKEN_BINDINGS:1,TOKEN_REFS:2,ATTR_NAME:3,ATTR_VALUE:4,ATTR_NAME_BY_TYPE:{4:"class",5:"style"},
ATTR_TYPE_BY_NAME:{"class":4,style:5},ATTR_VALUE_INDEX:{2:4,4:3,5:3,6:2},ELEMENT_NAME:3,ELEMENT_ATTRS:4,ELEMENT_CHILDS:5,TEXT_VALUE:3,COMMENT_VALUE:3,CLASS_BINDING_ENUM:1,CLASS_BINDING_BOOL:2,CLASS_BINDING_INVERT:3,CLASS_BINDING_EQUAL:4,CLASS_BINDING_NOTEQUAL:5}},"a.js":function(g,O,a,w,C,L,A,V,ba){function D(c){var d=l[c];if(!d){var d=document.getElementById(c),f="";d&&"SCRIPT"==d.tagName&&"text/basis-template"==d.type&&(f=d.textContent||d.text);d=l[c]=a.resource.virtual("tmpl",f||"")}return d}function E(){this.destroyBuilder&&
y.call(this);for(var a=this;a=a.attaches_;)a.handler.call(a.context)}function y(){var c=u(this.source,this.baseURI,!1,{isolate:this.getIsolatePrefix()}),d=this.destroyBuilder,f=this.builder(c.tokens,this);this.createInstance=f.createInstance;this.clearInstance=f.destroyInstance;this.destroyBuilder=f.destroy;this.getBinding=function(){return{names:f.keys}};var g=c.deps,k=this.deps_;this.deps_=g;if(k)for(var l=0,m;m=k[l];l++)m.bindingBridge.detach(m,y,this);if(g)for(l=0;m=g[l];l++)m.bindingBridge.attach(m,
y,this);c=c.resources;g=this.resources;if(this.resources=c)for(l=0;k=c[l];l++)k=a.resource(k).fetch(),"function"==typeof k.startUse&&k.startUse();if(g)for(l=0;k=g[l];l++)k=a.resource(k).fetch(),"function"==typeof k.stopUse&&k.stopUse();d&&d(!0)}g=this.path;w=a.Class;var t=a.cleaner,v=a.path;C=a.require("./9.js");var u=a.require("./b.js").getDeclFromSource;L=a.require("./b.js").makeDeclaration;A=a.require("./c.js");var d=A.get,m=[],l={},f=w(null,{className:g+".Template",__extend__:function(a){return a instanceof
f?a:a instanceof c?new q(a):new f(a)},source:"",baseURI:"",url:"",attaches_:null,init:function(a){if(4096==m.length)throw 10;this.setSource(a||"");this.templateId=m.push(this)-1},bindingBridge:{attach:function(a,c,d){a.attaches_={handler:c,context:d,attaches_:a.attaches_}},detach:function(a,c,d){for(var f;f=a,a=a.attaches_;)if(a.handler===c&&a.context===d){f.attaches_=a.attaches_;break}},get:function(a){return(a=a.source)&&a.bindingBridge?a.bindingBridge.get(a):a}},createInstance:function(a,c,d,f,
g){y.call(this);return this.createInstance(a,c,d,f,g)},getBinding:function(a){y.call(this);return this.getBinding(a)},clearInstance:function(a){},getIsolatePrefix:function(){return"i"+this.templateId+"__"},setSource:function(a){var c=this.source;if(c!=a){if("string"==typeof a){var f=a.match(/^([a-z]+):/);if(f)switch(a=a.substr(f[0].length),f[1]){case "id":a=D(a);break;case "path":a=d(a)}}c&&c.bindingBridge&&(this.baseURI=this.url="",c.bindingBridge.detach(c,E,this));a&&a.bindingBridge&&(a.url&&(this.url=
a.url,this.baseURI=v.dirname(a.url)+"/"),a.bindingBridge.attach(a,E,this));this.source=a;E.call(this)}},destroy:function(){this.destroyBuilder&&this.destroyBuilder();this.source=this.resources=this.getBinding=this.createInstance=this.attaches_=null}}),c=function(c){a.object.extend(this,c)},q=a.Class(null,{className:g+".TemplateSwitcher",ruleRet_:null,templates_:null,templateClass:f,ruleEvents:null,rule:String,init:function(a){this.ruleRet_=[];this.templates_=[];this.rule=a.rule;if((a=a.events)&&a.length){this.ruleEvents=
{};for(var c=0,d;d=a[c];c++)this.ruleEvents[d]=!0}t.add(this)},resolve:function(a){a=this.rule(a);var c=this.ruleRet_.indexOf(a);-1==c&&(this.ruleRet_.push(a),c=this.templates_.push(new this.templateClass(a))-1);return this.templates_[c]},destroy:function(){this.ruleRet_=this.templates_=this.rule=null}});t.add({destroy:function(){for(var a=0,c;c=m[a];a++)c.destroy();m=null}});O.exports={DECLARATION_VERSION:3,TYPE_ELEMENT:C.TYPE_ELEMENT,TYPE_ATTRIBUTE:C.TYPE_ATTRIBUTE,TYPE_ATTRIBUTE_CLASS:C.TYPE_ATTRIBUTE_CLASS,
TYPE_ATTRIBUTE_STYLE:C.TYPE_ATTRIBUTE_STYLE,TYPE_ATTRIBUTE_EVENT:C.TYPE_ATTRIBUTE_EVENT,TYPE_TEXT:C.TYPE_TEXT,TYPE_COMMENT:C.TYPE_COMMENT,TOKEN_TYPE:C.TOKEN_TYPE,TOKEN_BINDINGS:C.TOKEN_BINDINGS,TOKEN_REFS:C.TOKEN_REFS,ATTR_NAME:C.ATTR_NAME,ATTR_VALUE:C.ATTR_VALUE,ATTR_NAME_BY_TYPE:C.ATTR_NAME_BY_TYPE,CLASS_BINDING_ENUM:C.CLASS_BINDING_ENUM,CLASS_BINDING_BOOL:C.CLASS_BINDING_BOOL,ELEMENT_NAME:C.ELEMENT_NAME,ELEMENT_ATTRS:C.ELEMENT_ATTRS,ELEMENT_CHILDS:C.ELEMENT_CHILDS,TEXT_VALUE:C.TEXT_VALUE,COMMENT_VALUE:C.COMMENT_VALUE,
TemplateSwitchConfig:c,TemplateSwitcher:q,Template:f,switcher:function(d,f){var g=a.array(arguments);f=g.pop();return new c({rule:f,events:g.join(" ").trim().split(/\s+/)})},getDeclFromSource:u,makeDeclaration:L,resolveResource:function(c,f){return/^#\d+$/.test(c)?m[c.substr(1)]:/^id:/.test(c)?D(c.substr(3)):/^[a-z0-9\.]+$/i.test(c)&&!/\.tmpl$/.test(c)?d(c):a.resource(a.resource.resolveURI(c,f,'<b:include src="{url}"/>'))},SourceWrapper:A.SourceWrapper,Theme:A.Theme,theme:A.theme,getThemeList:A.getThemeList,
currentTheme:A.currentTheme,setTheme:A.setTheme,onThemeChange:A.onThemeChange,define:A.define,get:A.get,getPathList:A.getPathList}},"b.js":function(g,O,a,w,C,L,A,V,ba){function D(){return"i"+a.genUID()+"__"}function E(a){for(var c=[],b=0;b<a.length;b++)c.push(Array.isArray(a[b])?E(a[b]):a[b]);return c}function y(c,d,b,e){var f=c,g;c.bindingBridge&&(d="baseURI"in c?c.baseURI:"url"in c?a.path.dirname(c.url):d,g="url"in c?c.url:g,f=c.bindingBridge.get(c));Array.isArray(f)?(b&&(f=E(f)),f={tokens:f}):
"object"==typeof f&&Array.isArray(f.tokens)||(f=String(f));"string"==typeof f&&(f=la(f,d,e,g,c));return f}var t=a.array.search,v=a.array.add,u=a.array.remove,d=a.require("./q.js"),m=a.require("./r.js");g=a.require("./9.js");var l=g.TYPE_ELEMENT,f=g.TYPE_ATTRIBUTE,c=g.TYPE_ATTRIBUTE_CLASS,q=g.TYPE_ATTRIBUTE_STYLE,e=g.TYPE_ATTRIBUTE_EVENT,F=g.TYPE_TEXT,I=g.TYPE_COMMENT,T=g.TOKEN_TYPE,k=g.TOKEN_BINDINGS,N=g.TOKEN_REFS,P=g.ATTR_NAME,z=g.ATTR_VALUE,G=g.ATTR_NAME_BY_TYPE,R=g.ATTR_TYPE_BY_NAME,K=g.ATTR_VALUE_INDEX,
h=g.ELEMENT_ATTRS,na=g.TEXT_VALUE,J=g.CLASS_BINDING_ENUM,ja=g.CLASS_BINDING_BOOL,H=/^[a-z_][a-z0-9_\-]*$/i,fa=/^event-(.+)$/,ga=function(){},la=function(){function g(a){return(a.prefix?a.prefix+":":"")+a.name}function w(a){return(a=a.refs)&&a.length?a:0}function b(a,c){a[N]||(a[N]=[]);v(a[N],c);"element"!=c&&(a[k]=1==a[N].length?c:0)}function n(a,c){var b=a[N].indexOf(c);if(-1!=b){var d=a[k]&&"number"==typeof a[k];a[N].splice(b,1);d&&b==a[k]-1&&(a[k]=c,d=!1);a[N].length?d&&(a[k]-=b<a[k]-1):a[N]=0}}
function x(a){var c={};if(a.attrs)for(var b=0,d;d=a.attrs[b];b++)c[g(d)]=d.value;return c}function A(a){var c={};if(a.attrs)for(var b=0,d;d=a.attrs[b];b++)c[g(d)]=d;return c}function C(a,c){for(var b=0;b<c.length;b++)v(a,c[b])}function r(a,c,b){for(var d=0,e;e=c[d];d++)e[1]!==Z&&(e[1]=b+e[1]);a.unshift.apply(a,c)}function E(c,b,d,e){d?b=a.resource.resolveURI(d,c.baseURI,"<b:"+b.name+' src="{url}"/>'):(b=b.children[0],b=a.resource.virtual("css",b?b.value:"",c.sourceUrl).url);c.resources.push([b,e]);
return b}function L(c,d,m){function N(a,c){function d(a,c,b,e){f||(f=[q,0,0],p.push(f));var g=a.binding,h=!1;b=a.name==b;g&&g[0].length==g[1].length?(h=b,f[1]||(f[1]=[]),f[1].push(g.concat(c,a.name))):h=!(b^""===a.value);h&&(f[3]=(f[3]?f[3]+"; ":"")+e)}for(var p=[],f,h,k,l,n=0,M;M=a.attrs[n];n++)if("b"==M.prefix)switch(M.name){case "ref":M=(M.value||"").trim().split(/\s+/);for(l=0;l<M.length;l++)b(c,M[l]);break;case "show":case "hide":h=M;break;case "visible":case "hidden":k=M}else(l=M.name.match(fa))?
l=l[1]==M.value?[e,l[1]]:[e,l[1],M.value]:(l=[M.type,M.binding,w(M)],2==M.type&&l.push(g(M)),!M.value||m.optimizeSize&&M.binding&&2==M.type||l.push(M.value),M.type==q&&(f=l)),p.push(l);h&&d(h,"display","show","display: none");k&&d(k,"visibility","visible","visibility: hidden");return p.length?p:0}function O(a,c,b){var d=x(a),p=A(a);c&&(d.name=c);if(d.name&&H.test(d.name)){var g=Ia[d.ref||"element"];if(g&&g.token[T]==l){c=g.token;var M=d.name.match(fa),n=M?e:R[d.name]||f;a=K[n]||z;var S=c&&t(c,d.name,
function(a){return a[T]==e?"event-"+a[1]:G[a[T]]||a[P]},h);S||"remove"==b||"remove-class"==b||(M?S=[n,M[1]]:(S=[n,0,0,n==f?d.name:""],n==f&&S.push("")),c||(c=[],g.token.push(c)),c.push(S));g="class"==d.name||"style"==d.name;switch(b){case "set":if(S[T]==e){d.value==M[1]?S.length=2:S[a]=d.value;break}b=p.value||{};S[k]=b.binding||0;m.optimizeSize&&S[k]&&!g?S.length=a:S[a]=b.value||"";if(g&&!S[k]&&!S[a]){u(c,S);break}break;case "append":b=p.value||{};p=b.value||"";b=b.binding;if(!M)if(b)if(n=S[k])switch(d.name){case "style":for(var q=
{},d=0,r;r=n[d];d++)q[r[2]]=d;for(d=0;r=b[d];d++)r[2]in q?n[q[r[2]]]=r:n.push(r);break;case "class":n.push.apply(n,b);break;default:for(b[0].forEach(function(a){v(this,a)},n[0]),d=0;d<b[1].length;d++)q=b[1][d],"number"==typeof q&&(q=n[0].indexOf(b[0][q])),n[1].push(q)}else S[k]=b,g||S[k][1].unshift(S[a]);else!g&&S[k]&&S[k][1].push(d.value);p&&(S[a]=(S[a]||"")+(S[a]&&(M||g)?" ":"")+p);!g||S[k]||S[a]||u(c,S);break;case "remove-class":if(S){b=p.value||{};M=(b.value||"").split(" ");g=(S[a]||"").split(" ");
p=S[k];if(b.binding&&p){for(d=0;n=b.binding[d];d++)for(q=p.length-1;r=p[q];q--){var ta=r[3]||r[1];r[0]===n[0]&&ta===n[1]&&p.splice(q,1)}p.length||(S[k]=0)}for(d=0;d<M.length;d++)u(g,M[d]);S[a]=g.join(" ");S[k]||S[a]||u(c,S)}break;case "remove":S&&u(c,S)}}}}for(var W=[],Ba=0,ha,ya;ha=c[Ba];Ba++){var p=w(ha),S=p&&1==p.length?p[0]:0;switch(ha.type){case l:if("b"==ha.prefix){var M=x(ha),ta=A(ha);switch(ha.name){case "style":var ra=M.namespace||M.ns,Na=ra?Z:"";ha=E(d,ha,M.src,Na);ra&&(0==ha in Z&&(Z[ha]=
D()),d.styleNSPrefix[ra]=Z[ha]);break;case "isolate":d.isolate||(d.isolate=M.prefix||m.isolate||D());break;case "l10n":M.src&&(d.dictURI=a.resource.resolveURI(M.src,d.baseURI,"<b:"+ha.name+' src="{url}"/>'));break;case "define":if("name"in M&&!d.defines[M.name]){var p=M.from||M.name,S=M.name,Ha=!1,Ga;switch(M.type){case "bool":Ha=[p,ja,S,"true"==M["default"]?1:0];break;case "enum":if(0=="values"in M)break;Ga=(M.values||"").trim();if(!Ga)break;Ga=Ga.split(/\s+/);Ha=Ga.indexOf(M["default"]);Ha=[p,J,
S,Ha+1,Ga]}Ha&&(d.defines[S]=Ha)}break;case "text":p=ha.children[0];c[Ba--]=a.object.extend(p,{refs:(M.ref||"").trim().split(/\s+/),value:"notrim"in M?p.value:p.value.replace(/^\s*[\r\n]+|[\r\n]+\s*$/g,"")});break;case "include":if(p=M.src){Ga=ga(p,d.baseURI);if(!Ga)continue;if(-1==ca.indexOf(Ga)){p=ta.isolate?ta.isolate.value||D():"";S=y(Ga,"",!0,m);v(d.deps,Ga);d.includes.push([ta.src,Ga,S.includes]);S.deps&&C(d.deps,S.deps);S.warns&&d.warns.push.apply(d.warns,S.warns);S.resources&&0=="no-style"in
M&&r(d.resources,S.resources,p);var Ia=V(S.tokens);Ga=(ha.children||[]).slice();Ha=a.object.slice(S.styleNSPrefix);ta["class"]&&Ga.unshift({type:l,prefix:"b",name:"append-class",attrs:[a.object.extend(a.object.slice(ta["class"]),{name:"value"})]});M.id&&Ga.unshift({type:l,prefix:"b",name:"set-attr",attrs:[{type:f,name:"name",value:"id"},{type:f,name:"value",value:M.id}]});M.ref&&Ia.element&&M.ref.trim().split(/\s+/).map(function(a){b(Ia.element.token,a)});for(M=0;ta=Ga[M];M++)if(ta.type==l&&"b"==
ta.prefix)switch(ta.name){case "style":var Ca=x(ta),Na=(ra=Ca.namespace||Ca.ns)?Z:p;ha=E(d,ta,Ca.src,Na);ra&&(0==ha in Z&&(Z[ha]=D()),Ha[ra]=Z[ha]);break;case "replace":case "remove":case "before":case "after":ha="replace"==ta.name||"remove"==ta.name;Ca=x(ta);if(ra=(ra="ref"in Ca||!ha?Ca.ref:"element")&&Ia[ra])Ca=ra.owner.indexOf(ra.token),-1!=Ca&&(ha=[Ca+("after"==ta.name),ha],"remove"!=ta.name&&(ha=ha.concat(L(ta.children,d,m)||[])),ra.owner.splice.apply(ra.owner,ha));break;case "prepend":case "append":Ca=
x(ta);(ha=(ra=(ra="ref"in Ca?Ca.ref:"element")&&Ia[ra])&&ra.token)&&ha[T]==l&&(Ca=L(ta.children,d,m)||[],"prepend"==ta.name?ha.splice.apply(ha,[h,0].concat(Ca)):ha.push.apply(ha,Ca));break;case "attr":case "set-attr":O(ta,!1,"set");break;case "append-attr":O(ta,!1,"append");break;case "remove-attr":O(ta,!1,"remove");break;case "class":case "append-class":O(ta,"class","append");break;case "set-class":O(ta,"class","set");break;case "remove-class":O(ta,"class","remove-class");break;case "add-ref":Ca=
x(ta);(ha=(ra=(ra="ref"in Ca?Ca.ref:"element")&&Ia[ra])&&ra.token)&&Ca.name&&b(ha,Ca.name);break;case "remove-ref":Ca=x(ta),(ha=(ra=(ra="ref"in Ca?Ca.ref:"element")&&Ia[ra])&&ra.token)&&n(ha,Ca.name||Ca.ref)}else S.tokens.push.apply(S.tokens,L([ta],d,m)||[]);Ia.element&&n(Ia.element.token,"element");a.object.complete(d.styleNSPrefix,Ha);p?la(S.tokens,p):S.isolate&&!d.isolate&&(d.isolate=m.isolate||D());W.push.apply(W,S.tokens)}}}continue}ya=[1,S,p,g(ha)];ya.push.apply(ya,N(ha,ya,m.optimizeSize)||
[]);ya.push.apply(ya,L(ha.children,d,m)||[]);break;case F:p&&2==p.length&&t(p,"element")&&(S=p[+!p.lastSearchIndex]);ya=[3,S,p];p&&ha.value=="{"+p.join("|")+"}"||ya.push(ha.value);break;case I:if(m.optimizeSize&&!S&&!p)continue;ya=[8,S,p];m.optimizeSize||p&&ha.value=="{"+p.join("|")+"}"||ya.push(ha.value)}for(;0===ya[ya.length-1];)ya.pop();W.push(ya)}return W.length?W:0}function O(a,c,b){if("string"==typeof a){var d=a.split(":"),e="l10n"==d[0];if(e&&2==d.length&&-1==a.indexOf("@")){if(!c)return!1;
d[1]=d[1]+"@"+c}a=d.join(":");e&&(b[a]=!0)}return a}function V(a,c,b,d){b||(b={});d=d||0;for(var f;f=a[d];d++){var g=f[T],m=f[N];if(g!==e&&m)for(var q=m.length-1,r;r=m[q];q--)-1!=r.indexOf(":")?n(f,r):(b[r]&&n(b[r].token,r),f[k]==r&&(f[k]=q+1),b[r]={owner:a,token:f});g===l&&V(f,c,b,h)}return b}function ba(a,b,d,e){e=e||0;for(var g;g=a[e];e++){var m=g[T],n=g[k];switch(g[T]){case l:ba(g,b,d,h);break;case F:n&&(m=O(n,b.dictURI,b.l10nTokens),g[k]=m||0,!1===m&&(g[na]="{"+n+"}"));break;case f:if(n)for(g=
n[0],n=0;n<g.length;n++)m=O(g[n],b.dictURI,b.l10nTokens),g[n]=!1===m?"{"+g[n]+"}":m;break;case c:if(n){for(var q=0,r;r=n[q];q++)if(!(2<r.length)){var p=r[1].split(":"),S=p.pop(),p=p.pop()||"";(S=b.defines[S])?(r[1]=(p?p+":":"")+S[0],r.push.apply(r,S.slice(1))):r.push(0)}d.optimizeSize&&(n=K[m],g[n]||(g.length=n))}}}}function la(a,b,d,e){function f(a){var c=a.split(":");return 1==c.length?b+c[0]:d?c[0]?0==c[0]in d.styleNSPrefix?a:d.styleNSPrefix[c[0]]+c[1]:c[1]:a}e=e||0;for(var g;g=a[e];e++){var m=
g[T];m==l&&la(g,b,d,h);if(m==c){var n=g[k],m=K[m];g[m]&&(g[m]=g[m].split(/\s+/).map(f).join(" "));if(n)for(g=0;m=n[g];g++)m[0]=f(m[0])}}}var ca=[],Z={},W={};return function(c,e,f,g,h){var l=[];f=f||{};var k={sourceUrl:g,baseURI:e||"",dictURI:g?a.path.resolve(g):e||"",tokens:null,styleNSPrefix:{},resources:[],includes:[],deps:[],defines:{},l10nTokens:{},warns:l,isolate:!1};k.dictURI&&(e=a.path.extname(k.dictURI))&&".l10n"!=e&&(k.dictURI=k.dictURI.substr(0,k.dictURI.length-e.length)+".l10n");c.templateTokens||
(c=d(String(c),{loc:!!f.loc,range:!!f.range}));c.warns&&c.warns.forEach(function(a){k.warns.push(a[0])});ca.push(!0!==h&&h||{});k.tokens=L(c,k,f);ca.pop();k.tokens||(k.tokens=[[F,0,0,""]]);b(k.tokens[0],"element");V(k.tokens,k.dictURI);ba(k.tokens,k,f);if(0==ca.length){la(k.tokens,k.isolate||"",k);if(k.isolate)for(c=0;f=k.resources[c];c++)f[1]!==Z&&(f[1]=k.isolate+f[1]);k.resources=k.resources.filter(function(c,b,d){return!a.array.search(d,String(c),String,b+1)}).map(function(c){var b=c[0],d=c[1];
if(c=d===Z)if(d=Z[b],b in W)return W[b].url;if(!d)return b;var e=a.resource.virtual("css","").ready(function(c){c.url=b+"?isolate-prefix="+d;c.baseURI=a.path.dirname(b)+"/";f()}),f=a.resource(b).ready(function(a){a=m(a.cssText||"",d);e.update(a)});c&&(W[b]=e);return e.url})}l.length||(k.warns=!1);return k}}();a.resource("./a.js").ready(function(a){ga=a.resolveResource});O.exports={makeDeclaration:la,getDeclFromSource:y}},"j.js":function(g,O,a,w,C,L,A,V,ba){var D;w.document&&(D=a.require("./u.js"));
O.exports={create:function(a,g){return new D({initEnv:a,html:g})}}}};(function O(a,w,C){function L(a){function c(a){return Math.round(a).toString(36)}var b=c(10+25*Math.random());for(a||(a=16);b.length<a;)b+=c(new Date*Math.random());return b.substr(0,a)}function A(a,c){for(var b in c)a[b]=c[b];return a}function V(a,c){for(var b in c)0==b in a&&(a[b]=c[b]);return a}function ba(a){var c=[],b;for(b in a)c.push(b);return c}function D(a,c){var b={};if(!c)return A(b,a);for(var d=0,e;e=c[d++];)e in a&&
(b[e]=a[e]);return b}function E(a,c,b){var d=[],e;for(e in a)d.push(c.call(b,e,a[e]));return d}function y(a){return a}function t(){}function v(a){var c=la[a.url];if(c)for(var b=0;b<c.length;b++)c[b](a.get(),a.url)}function u(a,c,b){try{return new Function(c,'"use strict";\n'+b)}catch(d){N.error("Compilation error at "+a+("line"in d?":"+(d.line-1):"")+": "+d)}}function d(a){if(0==a in r){var c=a.split("."),b=c.shift(),c=pa(b+":"+c.join("/")+".js").replace(/\/\.js$/,".js");r[a]=c;za[c]=a}return r[a]}
function m(a){if(I.call(aa,a))return aa[a];a=a.split(".");var b;b=a[0];var d=aa[b];d||(d=aa[b]=new La(b),d.namespaces_={},d.namespaces_[b]=d,h.noConflict||(c[b]=d));for(var d=b=d,e=1,f;f=a[e];e++){var k=a.slice(0,e+1).join(".");if(!I.call(b.namespaces_,k)){var l=new La(k);h.implicitExt&&(d[f]=l);b.namespaces_[k]=l}d=b.namespaces_[k]}return aa[a.join(".")]=d}function l(a,b){if(null!=a){var c=a.length;if("undefined"==typeof c||"[object Function]"==F.call(a))return[a];b||(b=0);if(0<c-b){for(var d=[],
e=0,f=b;f<c;)d[e++]=a[f++];return d}}return[]}function f(a,b,c){for(var d=[],e="function"==typeof b,f=0;f<a;f++)d[f]=e?b.call(c,f,d):b;return d}var c=Function("return this")(),q=c!==a?c:!1,e=c.document,F=Object.prototype.toString,I=Object.prototype.hasOwnProperty,c=a;a=function(a,b,c,d){return function(){}}();var T=function(){function a(e){var m=this,n,q,r;if("function"==typeof e||"string"==typeof e){n=b(e,m[f]);r=d+n[f];if(I.call(m,r))return m[r];"function"==typeof n[h]&&(n=n[h]);q=function(a){return n(m(a))}}else{if(!e)return k;
q=function(a){return e[m(a)]}}q[f]=l++;q[h]=e;q.__extend__=c;q.as=a;r&&(m[r]=q);return q}function b(d,e){var n=d,S;if(d&&"string"==typeof d){if(I.call(m,d))return m[d];n=m[d]=new Function("object","return object != null ? object."+d+" : object")}if("function"!=typeof n)return k;if(n.__extend__===c)return n;if(I.call(n,e))return n[e];S=n[e]=n!==d?n:function(a){return n(a)};S[f]=l++;S[h]=d;S.__extend__=c;S.as=a;return S}function c(a,d){var f=a&&a!==k?b(a,e):k;return d||""===d?("string"==typeof d&&(d=
da.formatter(d)),f.as(d)):f}var d="basisGetterId"+L()+"_",e=d+"root",f=d,h=d+"base",l=1,m={};c.ID=f;c.SOURCE=h;c.PARENT=d+"parent";return c}(),k=function(){var a=function(){};a[T.ID]=T.ID+"nullGetter";a.__extend__=T;a.as=function(){return a};return a}(),N=function(){var a={log:t,info:t,warn:t,error:t};"undefined"!=typeof console&&E(a,function(c){a[c]="bind"in Function.prototype&&"function"==typeof console[c]?Function.prototype.bind.call(console[c],console):function(){Function.prototype.apply.call(console[c],
console,arguments)}});return a}(),P=c.setImmediate||c.msSetImmediate,z=c.clearImmediate||c.msSetImmediate;P&&(P=P.bind(c));z&&(z=z.bind(c));P||function(){var a=function(){var a={},c=0;P=function(d){if("function"==typeof d)return a[++c]={fn:d,args:l(arguments,1)},b(c),c};z=function(b){delete a[b]};return function(b){var c=a[b];c&&(delete a[b],c.fn.apply(void 0,c.args));G.process()}}(),b=function(b){setTimeout(function(){a(b)},0)};if(q&&q.process&&"function"==typeof process.nextTick)b=function(b){process.nextTick(function(){a(b)})};
else{var d=c.postMessage&&!c.importScripts;if(d){var f=c.onmessage;c.onmessage=function(){d=!1};c.postMessage("","*");c.onmessage=f}if(d){var h={},f=function(b){if(b&&b.source==c&&(b=b.data,I.call(h,b))){var d=h[b];delete h[b];a(d)}};c.addEventListener?c.addEventListener("message",f,!0):c.attachEvent("onmessage",f);b=function(a){var b=L(32);h[b]=a;c.postMessage(b,"*")}}else if(c.MessageChannel){var k=new c.MessageChannel;k.port1.onmessage=function(b){a(b.data)};b=function(a){k.port2.postMessage(a)}}else if(e&&
"onreadystatechange"in e.createElement("script"))var m=b,b=function Ia(c){"undefined"!=typeof Ba&&(b=m,Ba.head.ready(function(){b=function(b){var c=e.createElement("script");c.onreadystatechange=function(){c.onreadystatechange=null;Ba.remove(c);c=null;a(b)};Ba.head.add(c)}}));b===Ia?m(c):b(c)}}}();var G=function(){function a(){d&&(d=z(d));if(b.length)try{c=!0;for(var e;e=b.shift();)e.fn.call(e.context)}finally{c=!1,b.length&&(d=P(a))}}var b=[],c=!1,d,e=function(c,e){b.push({fn:c,context:e});d||(d=
P(a));return!0};e.process=function(){c||a()};return e}(),R=function(){var a=/^([^\/]+:|\/)/,b=/^[a-zA-Z0-9\-]+:\/?/,c=/^(?:[a-zA-Z0-9\-]+:)?\/\/[^\/]+\/?/,d=/[\?#].*$/,e,f,h;q?(f=(process.basisjsBaseURI||require("path").resolve(".")).replace(/\\/g,"/"),e=f.replace(/^[^\/]*/,""),f=f.replace(/\/.*/,"")):(e=location.pathname.replace(/[^\/]+$/,""),f=location.protocol+"//"+location.host);return h={baseURI:e,origin:f,normalize:function(a){a=(a||"").replace(b,"/").replace(c,"/").replace(d,"");for(var e=
[],f=a.split("/"),p=0;p<f.length;p++)".."==f[p]?(1<e.length||e[0])&&e.pop():!f[p]&&p||"."==f[p]||e.push(f[p]);return e.join("/")||("/"===a[0]?"/":"")},dirname:function(a){a=h.normalize(a);return a.replace(/\/([^\/]*)$|^[^\/]+$/,"")||("/"==a[0]?"/":".")},extname:function(a){return(a=h.normalize(a).match(/[^\/](\.[^\/\.]*)$/))?a[1]:""},basename:function(a,b){var c=h.normalize(a).match(/[^\\\/]*$/),c=c?c[0]:"";b==h.extname(c)&&(c=c.substring(0,c.length-b.length));return c},resolve:function(b,c){for(var d=
l(arguments).reverse(),f=[],k=!1,m=0;!k&&m<d.length;m++)"string"==typeof d[m]&&(f.unshift(d[m]),k=a.test(d[m]));k||f.unshift("/"==e?"":e);return h.normalize(f.join("/"))},relative:function(a,b){"string"!=typeof b&&(b=a,a=e);a=h.normalize(a);b=h.normalize(b);if("/"==a[0]&&"/"!=b[0])return a;if("/"==b[0]&&"/"!=a[0])return b;for(var c=a.replace(/^\/$/,"").split(/\//),d=b.replace(/^\/$/,"").split(/\//),f=[],p=0;d[p]==c[p]&&"string"==typeof c[p];)p++;for(c=c.length-p;0<c;c--)f.push("..");return f.concat(d.slice(p).filter(Boolean)).join("/")}}}(),
K=w||"",h=C||{modules:{},exports:!0,implicitExt:!0,autoload:["./0.js"]},na=function(){function a(b){return"function"==typeof b&&!!b.basisClassId_}function b(a){for(var c=this;c&&c!==a;)c=c.superClass_;return c===a}function c(k,n){var q=f++;"function"!=typeof k&&(k=m);var r=function(){};r.prototype=k.prototype;for(var r=new r,q={basisClassId_:q,superClass_:k,extendConstructor_:!!k.extendConstructor_,isSubclassOf:b,subclass:function(){return c.apply(null,[v].concat(l(arguments)))},extend:d,__extend__:function(b){return b&&
b!==h&&("object"==typeof b||"function"==typeof b&&!a(b))?m.create.call(null,v,b):b},prototype:r},t=1,u;u=arguments[t];t++)q.extend(u);var v=q.extendConstructor_?function(a){this.basisObjectId=e.id++;var b,c;for(c in a)b=this[c],this[c]=b&&b.__extend__?b.__extend__(a[c]):a[c];this.init();this.postInit()}:function(){this.basisObjectId=e.id++;this.init.apply(this,arguments);this.postInit()};r.constructor=v;for(var w in r)r[w]===h&&(r[w]=v);A(v,q);return v}function d(b){var c=this.prototype;"function"!=
typeof b||a(b)||(b=b(this.superClass_.prototype,D(c)));b.prototype&&(b=b.prototype);for(var e in b){var f=b[e],h=c[e];"className"==e||"extendConstructor_"==e?this[e]=f:c[e]=h&&h.__extend__?h.__extend__(f):f}k&&b[e="toString"]!==F&&(c[e]=b[e]);return this}var e={id:1},f=1,h={},k=function(){for(var a in{toString:1})return!1;return!0}(),m=A(c,{className:"basis.Class",extendConstructor_:!1,prototype:{basisObjectId:0,constructor:null,init:function(){},postInit:function(){},destroy:function(){for(var a in this)I.call(this,
a)&&(this[a]=null);this.destroy=t}}}),n=function(a,b,c){return{__extend__:function(a){if(!a||a&&a.__extend__)return a;var c=function(){};c.prototype=this;c=new c;b(c,a);return c}}.__extend__(a||{})},q=function(a){return n(a,A,"extensibleProperty")};return A(m,{SELF:h,create:c,isClass:a,customExtendProperty:n,extensibleProperty:q,nestedExtendProperty:function(a){return n(a,function(a,b){for(var c in b)if(I.call(b,c)){var d=a[c],e=b[c];a[c]=e?d&&d.__extend__?d.__extend__(e):q(e):null}},"nestedExtendProperty")},
oneFunctionProperty:function(a,b){var c=function(b){var d={__extend__:c};if(b){if(b.__extend__)return b;for(var e in b)I.call(b,e)&&b[e]&&(d[e]=a)}return d};return c(b||{})}})}(),J=na(null,{className:"basis.Token",value:null,handler:null,deferredToken:null,bindingBridge:{attach:function(a,b,c,d){a.attach(b,c,d)},detach:function(a,b,c){a.detach(b,c)},get:function(a){return a.get()}},init:function(a){this.value=a},get:function(){return this.value},set:function(a){this.value!==a&&(this.value=a,this.apply())},
attach:function(a,b,c){this.handler={fn:a,context:b,destroy:c||null,handler:this.handler}},detach:function(a,b){for(var c=this,d;d=c,c=c.handler;)if(c.fn===a&&c.context===b){c.fn=t;c.destroy=c.destroy&&t;d.handler=c.handler;break}},apply:function(){for(var a=this.get(),b=this;b=b.handler;)b.fn.call(b.context,a)},deferred:function(){var a=this.deferredToken;a||(a=this.deferredToken=new H(this.get()),this.attach(a.set,a));return a},as:function(a){var b=new J,c=function(b){this.set(a.call(this,b))};
c.call(b,this.get());this.attach(c,b,b.destroy);b.attach(t,this,function(){this.detach(c,b)});return b},destroy:function(){this.deferredToken&&(this.deferredToken.destroy(),this.deferredToken=null);this.detach=this.attach=t;for(var a=this;a=a.handler;)a.destroy&&a.destroy.call(a.context);this.value=this.handler=null}}),ja=function(){function a(){var d=b;b={};c=null;for(var e in d)d[e].apply()}var b={},c;return function(d){d.basisObjectId in b||(b[d.basisObjectId]=d,c||P(a))}}(),H=J.subclass({className:"basis.DeferredToken",
set:function(a){this.value!==a&&(this.value=a,ja(this))},deferred:function(){return this}}),fa={},ga={},la={},oa=1;(function(){var a="undefined"!=typeof Ya?Ya:null;if(a)for(var b in a)ga[R.resolve(b)]=a[b]})();var pa=function(a,b,c){(c=a.match(/^([a-zA-Z0-9\_\-]+):/))?(b=c[1],0==b in wa&&(wa[b]=R.baseURI+b+"/"),a=wa[b]+R.normalize("./"+a.substr(c[0].length))):a=R.resolve(b,a);return a},b=function(a,b){if(b||!I.call(ga,a)){var c="";if(q)try{c=process.basisjsReadFile?process.basisjsReadFile(a):require("fs").readFileSync(a,
"utf-8")}catch(d){}else{var e=new XMLHttpRequest;e.open("GET",a,!1);e.setRequestHeader("If-Modified-Since",(new Date(0)).toGMTString());e.setRequestHeader("X-Basis-Resource",1);e.send("");200<=e.status&&400>e.status&&(c=e.responseText)}ga[a]=c}return ga[a]},n=function(a,c){var d=R.extname(a),e=x.extensions[d],f=1<arguments.length,h=!1,k=!1;f&&(a+="#virtual");var l=function(){if(h)return c;var d=f?c:b(a);e?k||(k=!0,c=e(d,a)):c=d;h=!0;v(l);l.apply();return c};A(l,A(new J,{url:a,type:d,virtual:f,fetch:function(){return l()},
toString:function(){return"[basis.resource "+a+"]"},isResolved:function(){return h},update:function(b){if(!h||f||b!=ga[a])f||(ga[a]=b),e?(!k&&f&&(c=b),k&&!e.permanent&&(c=e(b,a,c),v(l),l.apply())):(c=b,h=!0,v(l),l.apply())},reload:function(){if(!f){var c=ga[a],d=b(a,!0);d!=c&&(h=!1,l.update(d))}},get:function(d){return f&&d?e?wrappedContent:c:d?b(a):l()},ready:function(a,b){if(h&&(a.call(b,l()),e&&e.permanent))return;l.attach(a,b);return l}}));return fa[a]=l},x=function(a){var b=fa[a];b||(b=pa(a,
null,"basis.resource('{url}')"),b=fa[b]||n(b),fa[a]=b);return b};A(x,{resolveURI:pa,isResource:function(a){return a?fa[a.url]===a:!1},isResolved:function(a){return(a=x.get(a))?a.isResolved():!1},exists:function(a){return I.call(fa,pa(a,null,"basis.resource.exists('{url}')"))},get:function(a){a=pa(a,null,"basis.resource.get('{url}')");return x.exists(a)?x(a):null},getFiles:function(a){return a?ba(ga):ba(fa).filter(function(a){return!fa[a].virtual})},virtual:function(a,b,c){return n((c?c+":":R.normalize("/"==
R.baseURI?"":R.baseURI)+"/")+"virtual-resource"+oa++ +"."+a,b)},extensions:{".js":A(function(a,b){var c=za[b];if(!c){var d=!0,c=R.dirname(b)+"/"+R.basename(b,R.extname(b)),e;for(e in wa){var f=wa[e]+e+"/";if(c.substr(0,f.length)==f){d=!1;c=c.substr(wa[e].length);break}}c=c.replace(/\./g,"_").replace(/^\//g,"").replace(/\//g,".");d&&(c="implicit."+c)}aa[c]||(e=m(c),e.exports=$({path:e.path,exports:e.exports},b,a).exports,e.exports&&e.exports.constructor===Object&&h.implicitExt&&V(e,e.exports));return aa[c].exports},
{permanent:!0}),".css":function(a,b,c){c||(c=new ha(b));c.updateCssText(a);return c},".json":function(a,b){if("object"==typeof a)return a;var c;try{a=String(a),c=ya.json.parse(a)}catch(d){}return c||null}}});var $=function(a,b,d){var e=R.dirname(b)+"/",f=d;a.exports||(a.exports={});"function"!=typeof f&&(f=u(b,"exports module basis global __filename __dirname resource require asset".split(" "),d));"function"==typeof f&&f.call(a.exports,a.exports,a,ya,c,b,e,function(a){return x(pa(a,e,"resource('{url}')"))},
function(a,b){return qa(a,b||e)},function(a){return pa(a,e,"asset('{url}')")});return a},aa={},r={},za={},wa={};E(h.modules,function(a,b){wa[a]=b.path+"/";r[a]=b.filename;za[b.filename]=a});(function(a){if(a="undefined"!=typeof Sa?Sa:null)for(var b in a){var c=R.resolve(b),d=a[b];za[c]=d;r[d]=c}})();var La=na(null,{className:"basis.Namespace",init:function(a){this.name=a;this.exports={path:this.name}},toString:function(){return"[basis.namespace "+this.path+"]"},extend:function(a){A(this.exports,a);
return V(this,a)}}),qa=function(a,b){a=/[^a-z0-9_\.]/i.test(a)||".js"==R.extname(a)?pa(a,b,"require('{url}')"):d(a);return x(a).fetch()};V(Function.prototype,{bind:function(a){var b=this,c=l(arguments,1);return c.length?function(){return b.apply(a,c.concat.apply(c,arguments))}:function(){return b.apply(a,arguments)}}});V(Array,{isArray:function(a){return"[object Array]"===F.call(a)}});V(Array.prototype,{indexOf:function(a,b){b=parseInt(b,10)||0;if(0>b)return-1;for(;b<this.length;b++)if(this[b]===
a)return b;return-1},lastIndexOf:function(a,b){var c=this.length;b=parseInt(b,10);for(b=isNaN(b)||b>=c?c-1:(b+c)%c;0<=b;b--)if(this[b]===a)return b;return-1},forEach:function(a,b){for(var c=0,d=this.length;c<d;c++)c in this&&a.call(b,this[c],c,this)},every:function(a,b){for(var c=0,d=this.length;c<d;c++)if(c in this&&!a.call(b,this[c],c,this))return!1;return!0},some:function(a,b){for(var c=0,d=this.length;c<d;c++)if(c in this&&a.call(b,this[c],c,this))return!0;return!1},filter:function(a,b){for(var c=
[],d=0,e=this.length;d<e;d++)d in this&&a.call(b,this[d],d,this)&&c.push(this[d]);return c},map:function(a,b){for(var c=[],d=0,e=this.length;d<e;d++)d in this&&(c[d]=a.call(b,this[d],d,this));return c},reduce:function(a,b){var c=this.length,d=arguments.length;if(0==c&&1==d)throw 1;var e,f=0;1<d&&(e=b,f=1);for(d=0;d<c;d++)d in this&&(e=f++?a.call(null,e,this[d],d,this):this[d]);return e}});var Fa={from:l,create:f,flatten:function(a){return a.concat.apply([],a)},repeat:function(a,b){return Fa.flatten(f(parseInt(b,
10)||0,a))},search:function(a,b,c,d){a.lastSearchIndex=-1;c=T(c||y);d=parseInt(d,10)||0;for(var e=a.length;d<e;d++)if(c(a[d])===b)return a[a.lastSearchIndex=d]},lastSearch:function(a,b,c,d){a.lastSearchIndex=-1;c=T(c||y);var e=a.length;d=isNaN(d)||null==d?e:parseInt(d,10);for(e=d>e?e:d;0<e--;)if(c(a[e])===b)return a[a.lastSearchIndex=e]},add:function(a,b){return-1==a.indexOf(b)&&!!a.push(b)},remove:function(a,b){var c=a.indexOf(b);return-1!=c&&!!a.splice(c,1)},has:function(a,b){return-1!=a.indexOf(b)},
sortAsObject:function(){return Fa.sort.apply(this,arguments)},sort:function(a,b,c,d){b=T(b);d=d?-1:1;return a.map(function(a,c){return{i:c,v:b(a)}}).sort(c||function(a,b){return d*(a.v>b.v||-(a.v<b.v)||(a.i>b.i?1:-1))}).map(function(a){return this[a.i]},a)}};if(![1,2].splice(1).length){var Da=Array.prototype.splice;Array.prototype.splice=function(){var a=l(arguments);2>a.length&&(a[1]=this.length);return Da.apply(this,a)}}var ca=/([\/\\\(\)\[\]\?\{\}\|\*\+\-\.\^\$])/g,Z=/\{([a-z\d_]+)(?::([\.0])(\d+)|:(\?))?\}/gi,
W={};V(String,{toLowerCase:function(a){return String(a).toLowerCase()},toUpperCase:function(a){return String(a).toUpperCase()},trim:function(a){return String(a).trim()},trimLeft:function(a){return String(a).trimLeft()},trimRight:function(a){return String(a).trimRight()}});V(String.prototype,{trimLeft:function(){return this.replace(/^\s+/,"")},trimRight:function(){return this.replace(/\s+$/,"")},trim:function(){return this.trimLeft().trimRight()}});var da={toObject:function(a,b){try{return(new Function("return 0,"+
a))()}catch(c){if(b)throw 2;}},repeat:function(a,b){return Array(parseInt(b,10)+1||0).join(a)},qw:function(a){return(a=a.trim())?a.split(/\s+/):[]},forRegExp:function(a){return a.replace(ca,"\\$1")},format:function(a,b){var c=l(arguments,1);"object"==typeof b&&A(c,b);return a.replace(Z,function(a,b,d,e,f){a=b in c?c[b]:f?"":a;return d&&!isNaN(a)?(a=Number(a),"."==d?a.toFixed(e):ma.lead(a,e)):a})},formatter:function(a){a=String(a);if(I.call(W,a))return W[a];var b=function(b){return da.format(a,b)};
return W[a]=b},capitalize:function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()},camelize:function(a){return a.replace(/-(.)/g,function(a,b){return b.toUpperCase()})},dasherize:function(a){return a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})},isEmpty:function(a){return null==a||""==String(a)},isNotEmpty:function(a){return null!=a&&""!=String(a)}};if(11!="|||".split(/\|/).length+"|||".split(/(\|)/).length){var va=String.prototype.split;String.prototype.split=function(a,
b){if(!a||0==a instanceof RegExp||""==a.source)return va.apply(this,arguments);var c=[],d=0,e;for(a.global||(a=new RegExp(a.source,/\/([mi]*)$/.exec(a)[1]+"g"));e=a.exec(this);)e[0]=this.substring(d,e.index),c.push.apply(c,e),d=a.lastIndex;c.push(this.substr(d));return c}}if("2"!="12".substr(-1)){var Ea=String.prototype.substr;String.prototype.substr=function(a,b){return Ea.call(this,0>a?Math.max(0,this.length+a):a,b)}}var ma={fit:function(a,b,c){return!isNaN(b)&&a<b?Number(b):!isNaN(c)&&a>c?Number(c):
a},lead:function(a,b,c){return String(a).replace(/\d+/,function(a){return 1<(b-=a.length-1)?Array(b).join(c||0)+a:a})},group:function(a,b,c){return String(a).replace(/\d+/,function(a){return a.replace(/\d/g,function(d,e){return!e+(a.length-e)%(b||3)?d:(c||" ")+d})})},format:function(a,b,c,d,e,f){a=a.toFixed(b);if(c||f)a=a.replace(/(\d+)(\.?)/,function(a,b,d){return(c?ya.number.group(Number(b),3,c):b)+(d?f||d:"")});d&&(a=a.replace(/^-?/,"$&"+(d||"")));return a+(e||"")}};V(Date,{now:function(){return Number(new Date)}});
var ua=function(){function a(){var b;k&&(k=z(k));for(1<h.length&&(k=P(a));b=h.shift();)b[0].call(b[1]);k=z(k);G.process()}function b(c){f++||a()}function d(){try{e.documentElement.doScroll("left"),b()}catch(a){setTimeout(d,1)}}var f=!e||"complete"==e.readyState,h=[],k;if(!f)if(e.addEventListener)e.addEventListener("DOMContentLoaded",b,!1),c.addEventListener("load",b,!1);else{e.attachEvent("onreadystatechange",b);c.attachEvent("onload",b);try{!c.frameElement&&e.documentElement.doScroll&&d()}catch(l){}}return function(b,
c){h.length||!f||k||(k=P(a));h.push([b,c])}}(),xa=function(a,b){return"addEventListener"in c?function(a,b){c.addEventListener("unload",function(d){a.call(b||null,d||c.event)},!1)}:"attachEvent"in c?function(a,b){c.attachEvent("onunload",function(d){a.call(b||null,d||c.event)})}:t}(),Ba=function(){function a(b){if(e&&!h[b]&&(h[b]=e[b]||e.getElementsByTagName(b)[0],h[b])){var c=k[b];delete k[b];for(var d=0,f;f=c[d];d++)f[0].call(f[1],h[b])}return h[b]}function b(){var d=this[0],e=this[1],f=this[2];
c(e);var h=a(d);h?(!0===f&&(f=h.firstChild),f&&f.parentNode===h||(f=null),h.insertBefore(e,f)):k[d].push([b,[d,e,f]])}function c(a){for(var b in k){var d=Fa.search(k[b],a,function(a){return a[1]&&a[1][1]});d&&Fa.remove(k[b],d)}a&&a.parentNode&&1==a.parentNode.nodeType&&a.parentNode.removeChild(a)}function d(){f&&a("head")&&a("body")&&(f=clearInterval(f))}var f,h={},k={head:[],body:[]};!e||a("head")&&a("body")||(f=setInterval(d,5),ua(d));return{head:{ready:function(a,b){k.head?k.head.push([a,b]):a.call(b,
h.head)},add:function(a,c){b.call(["head",a,c])}},body:{ready:function(a,b){k.body?k.body.push([a,b]):a.call(b,h.body)},add:function(a,c){b.call(["body",a,c])}},remove:c}}();w=function(){var a=[];if(xa===t)return{add:t,remove:t};xa(function(c){b.globalDestroy=!0;b.add=t;for(b.remove=t;c=a.pop();)if("function"==typeof c.destroy)try{c.destroy()}catch(d){}else for(var e in c)c[e]=null;a=[]});var b={add:function(b){null!=b&&a.push(b)},remove:function(b){Fa.remove(a,b)}};return b}();var ha=function(){function a(b){h.setAttribute("href",
b);Ba.head.add(h,!0)}function b(){h.setAttribute("href",location.href);Ba.remove(h)}function c(){a(this.baseURI);this.element||(this.element=e.createElement("style"),d||this.element.appendChild(e.createTextNode("")));Ba.head.add(this.element);this.syncCssText();b()}var d;try{d=!e.createElement("style").appendChild(e.createTextNode(""))}catch(f){d=!0}var h=e&&e.createElement("base");return na(null,{className:"basis.CssResource",inUse:0,url:"",baseURI:"",cssText:void 0,element:null,init:function(a){this.url=
a;this.baseURI=R.dirname(a)+"/"},updateCssText:function(c){this.cssText!=c&&(this.cssText=c,this.inUse&&this.element&&(a(this.baseURI),this.syncCssText(),b()))},syncCssText:d?function(){this.element.styleSheet.cssText=this.cssText}:function(){this.element.firstChild.nodeValue=this.cssText},startUse:function(){this.inUse||Ba.head.ready(c,this);this.inUse+=1},stopUse:function(){this.inUse&&(--this.inUse,!this.inUse&&this.element&&Ba.remove(this.element))},destroy:function(){this.element&&Ba.remove(this.element);
this.cssText=this.element=null}})}(),ya=m("basis").extend({version:"1.4.0-dev",NODE_ENV:q,config:h,createSandbox:function(a){return O(c,K,V({noConflict:!0},a))},dev:(new La("basis.dev")).extend(N).extend({warnPropertyAccess:a}),resolveNSFilename:d,patch:function(a,b){a=/[^a-z0-9_\.]/i.test(a)||".js"==R.extname(a)?pa(a,null,"basis.patch('{url}')"):d(a);la[a]?la[a].push(b):la[a]=[b];var c=x.get(a);c&&c.isResolved()&&b(c.get(),c.url)},namespace:m,require:qa,resource:x,asset:function(a){return pa(a,null,
"basis.asset('{url}')")},setImmediate:P,clearImmediate:z,nextTick:function(){P.apply(null,arguments)},asap:G,Class:na,Token:J,DeferredToken:H,ready:ua,teardown:xa,cleaner:w,genUID:L,getter:T,console:N,path:R,doc:Ba,object:{extend:A,complete:V,keys:ba,values:function(a){var b=[],c;for(c in a)b.push(a[c]);return b},slice:D,splice:function(a,b){var c={};if(!b)return A(c,a);for(var d=0,e;e=b[d++];)e in a&&(c[e]=a[e],delete a[e]);return c},merge:function(){for(var a={},b=0;b<arguments.length;b++)A(a,arguments[b]);
return a},iterate:E},fn:{$undefined:function(a){return void 0==a},$defined:function(a){return void 0!=a},$isNull:function(a){return null==a||void 0==a},$isNotNull:function(a){return null!=a&&void 0!=a},$isSame:function(a){return a===this},$isNotSame:function(a){return a!==this},$self:y,$const:function(a){return function(){return a}},$false:function(){return!1},$true:function(){return!0},$null:function(){return null},$undef:t,getter:T,nullGetter:k,wrapper:function(a){return function(b){var c={};c[a]=
b;return c}},lazyInit:function(a,b){var c=0,d,e;return d=function(){c++||(d.inited=!0,d.data=e=a.apply(b||this,arguments));return e}},lazyInitAndRun:function(a,b,c){var d=0,e,f;return e=function(){d++||(e.inited=!0,e.data=f=a.call(c||this));b.apply(f,arguments);return f}},runOnce:function(a,b){var c=0;return function(){if(!c++)return a.apply(b||this,arguments)}},publicCallback:function(a,b){var d="basisjsCallback"+L();c[d]=b?a:function(){delete c[d];a.apply(this,arguments)};return d}},array:A(l,Fa),
string:da,number:ma,bool:{invert:function(a){return!a}},json:{parse:"undefined"!=typeof JSON?JSON.parse:function(a){return da.toObject(a,!0)}}});h.autoload&&!q&&h.autoload.forEach(function(a){qa(a)});q&&exports&&(exports.basis=ya);return ya})(this)}).call(this)