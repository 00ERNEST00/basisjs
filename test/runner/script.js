(function(){var Ta={"0.js":"app","1.js":"basis.data","2.js":"basis.event","3.js":"basis.ui","4.js":"basis.template.html","5.js":"basis.dom.event","6.js":"basis.l10n","7.js":"basis.template.htmlfgen","8.js":"basis.template.const","9.js":"basis.template","a.js":"basis.template.declaration","b.js":"basis.template.theme","c.js":"basis.dom.wrapper","d.js":"core.runner","e.js":"basis.data.value","f.js":"basis.data.dataset","g.js":"basis.data.index","h.js":"basis.utils.benchmark","i.js":"core.test","j.js":"basis.utils.info",
"k.js":"core.env","l.js":"core.ast","m.js":"esprima","n.js":"app.test","o.js":"app.highlight","p.js":"diff"},Za={"0.css":"","0.code":"function importScripts(){\n  function importScript(url){\n    var req = new XMLHttpRequest();\n    req.open('GET', url, false);\n    req.setRequestHeader('If-Modified-Since', new Date(0).toGMTString());\n    req.send(null);\n\n    if (req.status >= 200 && req.status < 400)\n      (window.execScript || function(fn){\n        window['eval'].call(window, fn);\n      })(req.responseText);\n    else\n      throw 'Can\\'t load script: ' + url;\n  }\n\n  for (var i = 0; i < arguments.length; i++)\n    importScript(arguments[i])\n}\n\nfunction __initTestEnvironment(initCode, deprecateTestEnvironment){\n  // basis.js default behaviour\n  if (typeof basisjsToolsFileSync != 'undefined')\n    basisjsToolsFileSync.notifications.attach(function(type, filename){\n      if (typeof basis == 'undefined')\n        return; // no basis.js available\n\n      if (type == 'update' && (\n            (basis.filename_ == filename) ||\n            (basis.resource && basis.resource.exists(filename))\n         ))\n        deprecateTestEnvironment();\n    });\n\n  // fallback deprecate function\n  if (typeof deprecateTestEnvironment != 'function')\n    deprecateTestEnvironment = function(){};\n\n  // main part\n  return eval(initCode + ';(function(__code){\\n' +\n  '  return eval(\"(\" + __code + \")\");' +\n  '})');\n}\n",
"8.tmpl":[[1,0,["element"],"div",[2,0,0,"id","layout"],[1,0,0,"div",[2,0,0,"id","header"],[1,0,0,"span",[4,0,0,"header-caption"],[3,0,0,"Basis.js test runner"]],[1,0,0,"div",[4,0,0,"header-buttons"],[1,0,0,"button",[4,0,0,"header-button"],[6,"click","run"],[3,0,0,"run"]]],[1,0,0,"div",[4,0,0,"header-test-suite-location"],[3,1,["name"]],[3,0,0," "],[3,1,["done"]],[3,0,0," / "],[3,1,["total"]],[3,0,0," ("],[3,1,["assert"]],[3,0,0,") (time: "],[3,1,["time"]],[3,0,0," ms)"]]],[1,0,0,"div",[2,0,0,"id",
"sidebar"],[8,1,["toc"]]],[1,0,0,"div",[2,0,0,"id","content"],[8,1,["tests"]]]]],"1.tmpl":[[1,0,["element"],"div",[4,[["iv4b8oiw4e47z7j1m__app-toc-item_","selected",2,"selected",0]],0,"iv4b8oiw4e47z7j1m__app-toc-item"],[6,"click","select"],[6,"dblclick","pickup"],[1,0,0,"span",[4,[["iv4b8oiw4e47z7j1m__app-toc-item__progress_","state",1,"progressState",0,["undefined","processing"]]],0,"iv4b8oiw4e47z7j1m__app-toc-item__progress"],[5,[[["progress"],[0,"%"],"width"]],0]],[1,0,0,"span",[4,[["iv4b8oiw4e47z7j1m__app-toc-item__state-",
"state",1,"state",0,["processing","ready","error","pending"]],["iv4b8oiw4e47z7j1m__app-toc-item__state-","pending",2,"pending",0]],0,"iv4b8oiw4e47z7j1m__app-toc-item__state"],[3,1,["stateMessage"]]],[1,0,0,"span",[4,0,0,"iv4b8oiw4e47z7j1m__app-toc-item__name"],[3,1,["name"]]]]],"2.tmpl":[[1,0,["element"],"div",[4,0,0,"izoxngc66g5onmj9t__app-toc"],[8,1,["levelUp"]],[8,1,["faultTests"]]]],"0.tmpl":[[1,0,["element"],"iframe",[2,[["src"],[0]],0,"src"],[6,"load","ready"],[5,0,0,"width:10px;height:10px;top:-100px;position:absolute;border:none;opacity:.0001"]]],
"4.tmpl":[[1,0,["element"],"div",[4,[["ixd12rubiya68x3hd__","hasOwnEnvironment",2,"hasOwnEnvironment",0]],0,"incbp4652q6s2bjgk__test"],[1,0,0,"div",[4,0,0,"ixd12rubiya68x3hd__header"],[1,0,0,"span",[4,0,0,"ixd12rubiya68x3hd__select-button"],[6,"click","select"],[3,0,0,"pick up"]],[1,0,0,"span",[3,1,["name"]]],[1,0,0,"span",[4,[["ixd12rubiya68x3hd__splitter_","state",1,"state",0,["processing","ready","error"]]],0,"ixd12rubiya68x3hd__splitter"],[3,0,0," — "]],[1,0,0,"span",[4,[["ixd12rubiya68x3hd__state_state-",
"state",1,"state",0,["processing","ready","error"]],["ixd12rubiya68x3hd__state_","pending",2,"pending",0]],0],[3,1,["stateMessage"]]]]]],"5.tmpl":[[1,0,["element"],"div",[4,[["igckt8qau0cng0ouy__","hasOwnEnvironment",2,"hasOwnEnvironment",0]],0,"incbp4652q6s2bjgk__test igckt8qau0cng0ouy__suite"],[1,0,0,"div",[4,0,0,"igckt8qau0cng0ouy__header"],[1,0,0,"span",[4,0,0,"igckt8qau0cng0ouy__select-button"],[6,"click","select"],[3,0,0,"pick up"]],[1,0,0,"span",[3,1,["name"]]],[1,0,0,"span",[4,[["igckt8qau0cng0ouy__splitter_",
"state",1,"state",0,["processing","ready","error"]]],0,"igckt8qau0cng0ouy__splitter"],[3,0,0," — "]],[1,0,0,"span",[4,[["igckt8qau0cng0ouy__state_state-","state",1,"state",0,["processing","ready","error"]],["igckt8qau0cng0ouy__state_","pending",2,"pending",0]],0],[3,1,["stateMessage"]]]],[1,1,["childNodesElement"],"div",[4,0,0,"igckt8qau0cng0ouy__content"]]]],"6.tmpl":[[1,0,["element"],"div",[4,[["iuh7xgw59i9kafqkp__","hasOwnEnvironment",2,"hasOwnEnvironment",0]],0,"incbp4652q6s2bjgk__test"],[1,0,
0,"div",[4,0,0,"iuh7xgw59i9kafqkp__header"],[1,0,0,"span",[4,0,0,"iuh7xgw59i9kafqkp__select-button"],[6,"click","select"],[3,0,0,"pick up"]],[1,0,0,"span",[3,1,["name"]]],[1,0,0,"span",[4,[["iuh7xgw59i9kafqkp__splitter_","state",1,"state",0,["processing","ready","error"]]],0,"iuh7xgw59i9kafqkp__splitter"],[3,0,0," — "]],[1,0,0,"span",[4,[["iuh7xgw59i9kafqkp__state_state-","state",1,"state",0,["processing","ready","error"]],["iuh7xgw59i9kafqkp__state_","pending",2,"pending",0]],0],[3,1,["stateMessage"]]]],
[8,1,["source"]]]],"7.tmpl":[[1,0,["element"],"div",[4,[["ifbjs3mt8zbc1hg7j__","hasDelegate",2,"hasDelegate",0]],0,"ifbjs3mt8zbc1hg7j__test"],[1,0,0,"div",[4,0,0,"ifbjs3mt8zbc1hg7j__header"],[1,0,0,"div",[4,0,0,"ifbjs3mt8zbc1hg7j__buttons"],[1,0,0,"span",[4,[["ifbjs3mt8zbc1hg7j__button-pickup_","type",1,"type",0,["suite"]]],0,"ifbjs3mt8zbc1hg7j__button ifbjs3mt8zbc1hg7j__button-pickup"],[6,"click","select"],[3,0,0,"pick up"]]],[1,0,0,"span",[4,0,0,"ifbjs3mt8zbc1hg7j__caption"],[3,1,["name"]]],[1,
0,0,"span",[4,[["ifbjs3mt8zbc1hg7j__splitter_","state",1,"state",0,["processing","ready","error"]]],0,"ifbjs3mt8zbc1hg7j__splitter"],[3,0,0," — "]],[1,0,0,"span",[4,[["ifbjs3mt8zbc1hg7j__state_state-","state",1,"state",0,["processing","ready","error"]],["ifbjs3mt8zbc1hg7j__state_","pending",2,"pending",0]],0],[3,1,["stateMessage"]]]],[1,1,["childNodesElement"],"div",[4,0,0,"incbp4652q6s2bjgk__tree"]],[8,1,["sourceCode"]]]],"3.tmpl":[[1,1,["code","element"],"pre",[4,0,0,"Basis-SyntaxHighlight"],[1,
0,0,"div",[4,0,0,"part"],[5,[[["beforeCount"],[0],"display","show"]],0,"display:none"],[1,0,0,"div",[4,[["part-header__","hasParent",2,"hasParent",0]],0,"part-header"],[5,[[["beforeCollapsed"],[0],"display","show"]],0,"display:none"],[1,0,0,"span",[4,0,0,"caption"],[6,"click","toggleBefore"],[3,0,0,"Before each"]],[1,0,0,"span",[4,[["before-count__","beforeCount",1,"beforeCount",0,["1"]]],0],[3,0,0," x "],[3,1,["beforeCount"]]]],[1,0,0,"div",[4,0,0,"content"],[5,[[["beforeCollapsed"],[0],"display",
"hide"]],0],[8,1,["beforeCode"]]]],[1,0,0,"div",[4,0,0,"part content"],[8,1,["sourceCode"]]],[1,0,0,"div",[4,0,0,"part"],[5,[[["afterCount"],[0],"display","show"]],0,"display:none"],[1,0,0,"div",[4,[["part-header__","hasParent",2,"hasParent",0]],0,"part-header part-header__after"],[5,[[["afterCollapsed"],[0],"display","show"]],0,"display:none"],[1,0,0,"span",[4,0,0,"caption"],[6,"click","toggleAfter"],[3,0,0,"After each"]],[1,0,0,"span",[4,[["after-count__","afterCount",1,"afterCount",0,["1"]]],0],
[3,0,0," x "],[3,1,["afterCount"]]]],[1,0,0,"div",[4,0,0,"content"],[5,[[["afterCollapsed"],[0],"display","hide"]],0],[8,1,["afterCode"]]]]]],"q.js":function(l,M,a,s,t,L,x,N,fa){function D(a){for(var b,f=[],I=[],e={},m=0;m<a.length;m++)m%2?(b=a[m],e[b]||(e[b]=f.length,f.push(b)),I.push(e[b])):a[m]&&I.push(c(a[m]));return[f,I]}function J(a,b,f){function I(d){return d.attrs.reduce(function(d,n){d[(n.prefix?n.prefix+":":"")+n.name]=n.value;return d},{})}function e(){var a=1,c=0;n=Array(f.length);d=Array(f.length);
for(var b=0;b<f.length+1;b++)n[b]=a,d[b]=c,"\n"===f[b]?(a++,c=0):c++}function m(a){return{line:n[a],column:d[a]}}function p(d){return{start:m(d.start_),end:m(d.end_)}}function h(d){b.loc&&(d.loc=p(d.range),d.valueRange&&(d.valueLoc=p(d.valueRange)));b.range?(d.range=[d.range.start_,d.range.end_],d.valueRange&&(d.valueRange=[d.valueRange.start_,d.valueRange.end_])):(delete d.range,delete d.valueRange)}function C(d){for(var n,a,b=0;n=d[b++];a=n){if(n.type==H){for(var m=I(n),f=0,e;e=n.attrs[f++];){var k;
"b"==n.prefix?"value"==e.name?/^(|append-|set-|remove-)class$/.test(n.name)?k="class":/^(|append-|set-|remove-)attr$/.test(n.name)&&(k=m.name):"include"==n.name&&("class"==e.name?k="class":"id"==e.name&&(k="id")):k=e.name;if(k){var Aa=e,va=k,p=h,z=Aa.value,y=0,O=void 0,S=void 0;if(z)switch(va){case "class":for(var O=Aa.valueRange.start_,ba=/(\s*)(\S+)/g,oa=[],Ha=[],S=void 0,y=[];S=ba.exec(z);){var ya=S[2],Ia={value:ya,range:{start_:O+=S[1].length,end_:O+=ya.length}};p(Ia);(S=ya.match(K))?(S=[S[1]||
"",S[2]],S.info_=Ia,y.push(S)):oa.push(ya);Ha.push(Ia)}z=oa.join(" ");Aa.map_=Ha;break;case "style":p=[];y=[];if(O=z.match(E))for(ba=0,S=void 0;S=O[ba];ba++)S=S.match(v),oa=S[1],z=S[2].trim(),S=z.split(R),1<S.length?(z=D(S),z.push(oa),y.push(z)):p.push(oa+": "+c(z));(z=p.join("; "))&&(z+=";");break;default:O=z.split(V),1<O.length?y=D(O):z=c(z)}y&&!y.length&&(y=0);Aa.binding=y;Aa.value=z;Aa.type=g[va]||A}else e.value=c(e.value||"");h(e)}C(n.children)}n.type==q&&(n.value=c(n.value),n.refs||!a||a.type!=
q||a.refs||(a.value+=n.value,a.end_=n.end_,d.splice(--b,1)));n.type==F&&(n.value=c(n.value));h(n)}}var n,d;b.loc&&e();C(a)}l=a.require("./8.js");var H=l.TYPE_ELEMENT,A=l.TYPE_ATTRIBUTE,q=l.TYPE_TEXT,F=l.TYPE_COMMENT,g=l.ATTR_TYPE_BY_NAME,h=/((?:.|[\r\n])*?)(\{(?:l10n:([a-zA-Z_][a-zA-Z0-9_\-]*(?:\.[a-zA-Z_][a-zA-Z0-9_\-]*)*(?:\.\{[a-zA-Z_][a-zA-Z0-9_\-]*\})?)\})?|<(\/|!--(\s*\{)?)?|$)/g,e=/([a-z_][a-z0-9\-_]*)(:|\{|\s*(\/?>)?)/ig,p=/([a-z_][a-z0-9_\-]*)(:|\{|=|\s*)|(\/?>)/ig,b=/(.|[\r\n])*?--\x3e/g,
I=/([a-z_][a-z0-9_\-]*(?::[a-z_][a-z0-9_\-]*)?)>/ig,f=/([a-z_][a-z0-9_]*)(\||\}\s*)/ig,O=/"((?:(\\")|[^"])*?)"\s*/g,aa=/\\"/g,T=/^/g,C=/^(area|base|br|col|command|embed|hr|img|input|link|meta|param|source)$/i,P={text:/((?:.|[\r\n])*?)(?:<\/b:text>|$)/g,style:/((?:.|[\r\n])*?)(?:<\/b:style>|$)/g},V=/\{([a-z_][a-z0-9_]*|l10n:[a-z_][a-z0-9_]*(?:\.[a-z_][a-z0-9_]*)*(?:\.\{[a-z_][a-z0-9_]*\})?)\}/i,K=/^((?:[a-z_][a-z0-9_\-]*)?(?::(?:[a-z_][a-z0-9_\-]*)?)?)\{((anim:)?[a-z_][a-z0-9_\-]*)\}$/i,E=/\s*[^:]+?\s*:(?:\(.*?\)|".*?"|'.*?'|[^;]+?)+(?:;|$)/gi,
v=/\s*([^:]+?)\s*:((?:\(.*?\)|".*?"|'.*?'|[^;]+?)+);?$/i,R=/\{([a-z_][a-z0-9_]*)\}/i,c=function(c){function b(a,c){f[c]||("#"==c.charAt(0)?f[c]=String.fromCharCode("x"==c.charAt(1)||"X"==c.charAt(1)?parseInt(c.substr(2),16):c.substr(1)):e&&(e.innerHTML=a,f[c]=e.firstChild?e.firstChild.nodeValue:a));return f[c]||a}var f={},e=a.NODE_ENV?null:document.createElement("div"),I=/&([a-z]+\d*|#\d+|#x[0-9a-f]{1,4});?/gi;return function(a){return String(a).replace(I,b)}}();M.exports=function(a,c){var V=[],K=
[],g={children:V},m=!1,z,Y=h,v=0,n=0,d,ga,ra,E;c&&!1===c.trim||(v=n=a.match(/^\s*/)[0].length,a=a.trimRight());for(;v<a.length||Y!=h;)if(ra=Y.lastIndex=v,(E=Y.exec(a))&&E.index===v){v=Y.lastIndex;switch(Y){case h:d=ra+E[1].length;n!=d&&(ra=n==ra?E[1]:a.substring(n,d),(ra=ra.replace(/\s*(\r\n?|\n\r?)\s*/g,""))&&g.children.push({type:q,len:ra.length,value:ra,range:{start_:n,end_:d}}));n=d;E[3]?g.children.push({type:q,refs:["l10n:"+E[3]],value:"{l10n:"+E[3]+"}",range:{start_:d,end_:v}}):"{"==E[2]?(ga=
v-1,g.children.push(z={type:q,range:{start_:d,end_:d}}),Y=f):E[4]?"/"==E[4]?(z=null,Y=I):(g.children.push(z={type:F,range:{start_:d,end_:d}}),E[5]?(ga=v-E[5].length,Y=f):(ga=v,Y=b)):E[2]&&(m=!0,K.push(g),g.children.push(z={type:H,attrs:[],children:[],range:{start_:d,end_:d}}),g=z,Y=e);break;case I:E[1]!==(g.prefix?g.prefix+":":"")+g.name?g.children.push({type:q,value:"</"+E[0],range:{start_:ra-2,end_:ra+E[0].length}}):g=K.pop();Y=h;break;case e:case p:if(":"==E[2]){z.prefix?Y=T:z.prefix=E[1];break}E[1]&&
(z.name=E[1],z.range.end_=ra+E[1].length,z.type==A&&g.attrs.push(z));if("{"==E[2]){Y=z.type==H?f:T;break}if(E[3]){m=!1;g.range.end_=v;if("/>"==E[3]||!g.prefix&&C.test(g.name))g=K.pop();else if("b"==g.prefix&&g.name in P){Y=P[g.name];break}Y=h;break}if("="==E[2]){Y=O;break}z={type:A,range:{start_:v,end_:v}};Y=p;break;case b:z.value=a.substring(ga,v-3);z.range.end_=v;Y=h;break;case f:z.refs?z.refs.push(E[1]):z.refs=[E[1]];"|"!=E[2]&&(z.type==q?(v-=E[2].length-1,z.value=a.substring(ga,v),z.range.end_=
v,Y=h):z.type==F?Y=b:z.type==A&&"="==a[v]?(v++,Y=O):(z={type:A,range:{start_:v,end_:v}},Y=p));break;case O:z.value=E[1].replace(aa,'"');z.range.end_=v;z.valueRange={start_:ra+1,end_:ra+1+E[1].length};z={type:A,range:{start_:v,end_:v}};Y=p;break;case P.text:case P.style:g.children.push({type:q,value:E[1],range:{start_:ra,end_:ra+E[1].length}});g=K.pop();Y=h;break;default:throw 9;}Y==h&&(n=v)}else if(Y==f&&z&&z.type==F)Y=b;else{m&&(g=K.pop());z&&g.children.pop();if(z=g.children.pop())z.type!=q||z.refs?
g.children.push(z):n-="len"in z?z.len:z.value.length;m=!1;Y=h}n!=v&&g.children.push({type:q,value:a.substring(n,v),range:{start_:n,end_:v}});J(V,c||{},a);V.templateTokens=!0;return V}},"r.js":function(l,M,a,s,t,L,x,N,fa){var D=/^\-?([_a-z]|[^\x00-\xb1]|\\[0-9a-f]{1,6}(\r\n|[ \n\r\t\f])?|\\[^\n\r\f0-9a-f])/i,J=/^(media|supports|document)\b/i,H=/^(not|has|matches|nth-child|nth-last-child)\(/i;M.exports=function(l,q){function F(a,b){var f=l.indexOf(a,b);C=-1!==f?f+a.length:O.length}function g(a){a=O[C];
if('"'===a||"'"===a){for(C++;C<aa&&O[C]!==a;C++)"\\"===O[C]&&C++;return!0}}function h(a){a=O[C];if("("===a)return F(")",C+1),!0;if("["===a){for(C++;C<aa&&"]"!==O[C];C++)g();return!0}}function e(){if("/"===O[C]&&"*"===O[C+1])return F("*/",C+2),!0}function p(){if(":"===O[C]){var a=l.substr(C+1,15).match(H);if(a)for(C+=a[0].length+1;C<aa&&")"!=O[C];C++)e()||h()||p()||b();return!0}}function b(){if("."===O[C])return l.substr(C+1,8).match(D)&&(C++,f.push(l.substring(T,C),q),T=C),!0}function I(a){for(P=
!1;C<aa;C++){var f;if(!(f=e()))if("@"!==O[C])f=void 0;else{if(f=l.substr(C+1,8).match(J))C+=f[0].length,P=!0;f=!0}if(!(f||p()||h()||b())){if(a&&"}"==O[C])break;if("{"===O[C])if(P)C++,I(!0);else for(C++;C<aa&&"}"!==O[C];C++)g()||h()}}}var f=[],O=l.split(""),aa=O.length,T=0,C=0,P;q||(q="i"+a.genUID()+"__");I(!1);return f.join("")+l.substring(T)}},"b.js":function(l,M,a,s,t,L,x,N,fa){function D(){var e=a.array(arguments).join("."),f=F[e];f||(f=new b("",e),F[e]=f);return f}function J(a,b){for(var e=[],
g={},p=[],h=0;h<b.length;h++)g[b[h]]||(g[b[h]]=!0,p.push(b[h]));e.source=p.join("/");g={base:!0};for(p=0;p<b.length;p++)h=b[p]||"base",h==a||g[h]||(A(h),g[h]=!0,e.push(h),b.splice.apply(b,[p+1,0].concat(q[h].fallback)));e.unshift(a);"base"!=a&&e.push("base");e.value=e.join("/");return e}function H(a,b){for(var e=q[a].sourcesList,g=0,p;p=e[g];g++)if(p.hasOwnProperty(b))return p[b];return""}function A(b){b||(b="base");if(q[b])return q[b].theme;if(!/^([a-z0-9\_\-]+)$/.test(b))throw 10;var f={},O=[f],
l=new p;q[b]={theme:l,sources:f,sourcesList:O,fallback:[]};var A=function(a,e){0==a in f&&(f[a]=e,-1!=q[h].fallback.indexOf(b)&&D(a).set());return D(a)};a.object.extend(l,{name:b,fallback:function(a){if(l!==e&&0<arguments.length){var f="string"==typeof a?a.split("/"):[],p={},f=J(b,f);if(q[b].fallback.source!=f.source){q[b].fallback.source=f.source;for(var g in q){var E=q[g].fallback,f=J(g,(E.source||"").split("/"));if(f.value!=E.value){p[g]=!0;q[g].fallback=f;E=q[g].sourcesList;E.length=f.length;
for(var v=0;v<E.length;v++)E[v]=q[f[v]].sources}}}for(g in p)if(-1!=q[h].fallback.indexOf(g)){f=void 0;for(f in F)D(f).set();break}}f=q[b].fallback.slice(1);f.source=q[b].fallback.source;return f},define:function(a,b){"function"==typeof a&&(a=a());if("string"==typeof a){if("object"==typeof b){var f=a,e=b,g={},p;for(p in e)e.hasOwnProperty(p)&&(g[p]=A(f+"."+p,e[p]));return g}return 1==arguments.length?D(a):A(a,b)}if("object"==typeof a){e=a;for(f in e)e.hasOwnProperty(f)&&A(f,e[f]);return l}},apply:function(){if(b!=
h){h=b;for(var a in F)D(a).set();a=0;for(var f;f=g[a];a++)f.fn.call(f.context,b)}return l},getSource:function(a,e){return e?H(b,a):f[a]},drop:function(a){f.hasOwnProperty(a)&&(delete f[a],-1!=q[h].fallback.indexOf(b)&&D(a).set())}});q[b].fallback=J(b,[]);O.push(q.base.sources);return l}l=this.path;var q={},F={},g=[],h="base",e,p=a.Class(null,{className:l+".Theme",get:D}),b=a.Class(a.Token,{className:l+".SourceWrapper",path:"",url:"",baseURI:"",init:function(b,f){this.path=f;a.Token.prototype.init.call(this,
"")},get:function(){return this.value&&this.value.bindingBridge?this.value.bindingBridge.get(this.value):this.value},set:function(){var e=H(h,this.path);this.value!=e&&(this.value&&this.value.bindingBridge&&this.value.bindingBridge.detach(this.value,b.prototype.apply,this),this.url=(this.value=e)&&e.url||"",this.baseURI=("object"==typeof e||"function"==typeof e)&&"baseURI"in e?e.baseURI:a.path.dirname(this.url)+"/",this.value&&this.value.bindingBridge&&this.value.bindingBridge.attach(this.value,b.prototype.apply,
this),this.apply())},destroy:function(){this.baseURI=this.url=null;this.value&&this.value.bindingBridge&&this.value.bindingBridge.detach(this.value,this.apply,this);a.Token.prototype.destroy.call(this)}});a.cleaner.add({destroy:function(){for(var a in F)F[a].destroy();F=q=null}});e=A();M.exports={SourceWrapper:b,Theme:p,theme:A,getThemeList:function(){return a.object.keys(q)},currentTheme:function(){return q[h].theme},setTheme:function(a){return A(a).apply()},onThemeChange:function(a,b,e){g.push({fn:a,
context:b});e&&a.call(b,h)},define:e.define,get:D,getPathList:function(){return a.object.keys(F)}};A("base").define({"#1":a.resource("0.tmpl"),"#2":a.resource("1.tmpl"),"#3":a.resource("2.tmpl"),"#4":a.resource("3.tmpl"),"#5":a.resource("4.tmpl"),"#6":a.resource("5.tmpl"),"#7":a.resource("6.tmpl"),"#8":a.resource("7.tmpl"),"#9":a.resource("8.tmpl")})},"c.js":function(l,M,a,s,t,L,x,N,fa){function D(){}function J(){}function H(){}function A(k){var a=k.constructor.prototype;k.setDelegate=a.setDelegate;
k.destroy=a.destroy}function q(k){return k.sortingValue||0}function F(k,a){k=k.sortingValue||0;a=a.sortingValue||0;return+(k>a)||-(k<a)}function g(k,a){k=k.sortingValue||0;a=a.sortingValue||0;return-(k>a)||+(k<a)}function h(k){return k.childNodes.sort(k.sortingDesc?g:F)}function e(k,a,d,n){if(!k.length)return 0;n=!!n;var b,c,f=0,S=k.length-1;do if(b=f+S>>1,c=d(k[b]),n?a>c:a<c)S=b-1;else if(n?a<c:a>c)f=b+1;else return a==c?b:0;while(f<=S);return b+(c<a^n)}function p(k,a,n,d,b){if(a!==n){var c=k,f=
[];d&&(k.contextSelection=n,k.selected&&!k.selectedRA_&&f.push(k));for(;c;){if((d=!c.selection||b&&c===k?c.firstChild:null)&&d.contextSelection!==a)throw 11;for(;!d;){if(c===k){if(f.length&&(a&&a.remove(f),n))for(n.add(f),k=0;k<f.length;k++)a=f[k],a.selected&&!n.has(a)&&(a.selected=!1,a.emit_unselect());return}d=c.nextSibling;d||(c=c.parentNode)}c=d;c.selected&&!c.selectedRA_&&f.push(c);c.contextSelection=n}}}function b(k,a){k.contextDisabled!=a&&(k.contextDisabled=a,k.disabled||(a?k.emit_disable():
k.emit_enable()))}function I(k){if(!k)return null;if(k.isSatelliteConfig||k instanceof d)return k;aa.isClass(k)&&(k={satelliteClass:k});if(k.constructor===Object){var n=!1,b="update",c,f={isSatelliteConfig:!0},e;for(e in k){var m=k[e];switch(e){case "instance":m instanceof d&&(f[e]=m);break;case "instanceOf":case "satelliteClass":if("instanceOf"==e&&"satelliteClass"in k)break;aa.isClass(m)&&m.isSubclassOf(d)&&(c=m);break;case "existsIf":case "delegate":case "dataSource":m&&("string"==typeof m&&(m=
K(m)),"function"!=typeof m?m=a.fn.$const(m):n=!0);f[e]=m;break;case "config":f[e]="string"==typeof m?K(m):m;break;case "events":b=k.events}}f.instance||(f.satelliteClass=c||d);if(n&&(Array.isArray(b)&&(b=b.join(" ")),"string"==typeof b))for(k={},b=b.split(/\s+/),n=0;c=b[n];n++)k[c]=ma,f.handler=k;return f}return null}function f(k,a){var n=a.length-1;k.childNodes=a;k.firstChild=a[0]||null;k.lastChild=a[n]||null;for(var d=n;n=a[d];d--)n.nextSibling=a[d+1]||null,n.previousSibling=a[d-1]||null,k.insertBefore(n,
n.nextSibling)}function O(k,a){var n;if("function"==typeof k.childFactory&&(n=k.childFactory(a),n instanceof k.childClass))return n;if(!n)throw 14;throw 15;}l=this.path;var aa=a.Class,T=a.object.complete,C=a.array,P=a.array.remove,V=a.fn.$undef,K=a.getter,E=a.fn.nullGetter;t=a.require("./2.js");s=t.create;var v=t.events;t=a.require("./1.js");var R=t.resolveValue,c=t.resolveDataset,ka=t.SUBSCRIPTION,y=t.STATE,sa=t.Object,B=t.ReadOnlyDataset,qa=t.Dataset,m={ANY:!0,NONE:!1,PARENT:"parent",OWNER:"owner"},
z={};ka.addProperty("owner");ka.addProperty("dataSource");ka.add("CHILD",{childNodesModified:function(k,a){var n;if(n=a.inserted)for(var d=0;n[d];d++)ka.link("child",k,n[d]);if(n=a.deleted)for(d=0;n[d];d++)ka.unlink("child",k,n[d])}},function(k,a){for(var n=a.childNodes||[],d=0,b;b=n[d];d++)k("child",a,b)});ka.add("SATELLITE",{satelliteChanged:function(k,a,n){n&&ka.unlink("satellite",k,n);k.satellite[a]&&ka.link("satellite",k,k.satellite[a])}},function(k,a){var n=a.satellite;if(n!==Y)for(var d in n)"__auto__"!==
d&&k("satellite",a,n[d])});var Y=aa.customExtendProperty({},function(k,a){for(var n in a)k[n]=I(a[n])}),ma=function(){var k=this.name,a=this.config,n=this.owner,d=this.instance,b=0=="existsIf"in a||a.existsIf(n);if(R(this,ma,b,"existsAdapter"))if(d)a.delegate&&d.setDelegate(a.delegate(n)),a.dataSource&&d.setDataSource(a.dataSource(n));else{if(d=a.instance)a.delegate&&d.setDelegate(a.delegate(n)),a.dataSource&&d.setDataSource(a.dataSource(n));else{var c,d=("function"==typeof a.config?a.config(n):a.config)||
{};d.owner=n;a.delegate&&(d.autoDelegate=!1,d.delegate=a.delegate(n));a.dataSource&&(d.dataSource=a.dataSource(n));d=new a.satelliteClass(d);d.destroy=H;(c=n.listen.satellite)&&d.addHandler(c,n);(c=n.listen["satellite:"+k])&&d.addHandler(c,n)}this.instance=d;n.setSatellite(k,d,!0)}else d&&(a.instance&&(a.delegate&&d.setDelegate(),a.dataSource&&d.setDataSource()),this.instance=null,n.setSatellite(k,null,!0))},n={destroy:function(){this.owner.setSatellite(this.name,null)}},d=aa(sa,{className:l+".AbstractNode",
subscribeTo:sa.prototype.subscribeTo+ka.DATASOURCE+ka.SATELLITE,isSyncRequired:function(){return this.state==y.UNDEFINED||this.state==y.DEPRECATED},syncEvents:{activeChanged:!1},emit_update:function(k){sa.prototype.emit_update.call(this,k);if(k=this.parentNode)k.matchFunction&&this.match(k.matchFunction),k.insertBefore(this,this.nextSibling)},listen:{owner:{destroy:function(){this.ownerSatelliteName||this.setOwner()}}},autoDelegate:m.NONE,name:null,childNodes:null,emit_childNodesModified:s("childNodesModified",
"delta")&&function(k){v.childNodesModified.call(this,k);var a=this.listen.childNode,n;if(a){if(n=k.inserted)for(var d=0,b;b=n[d];d++)b.addHandler(a,this);if(n=k.deleted)for(d=0;b=n[d];d++)b.removeHandler(a,this)}},childNodesState:y.UNDEFINED,emit_childNodesStateChanged:s("childNodesStateChanged","oldState"),childClass:d,dataSource:null,emit_dataSourceChanged:s("dataSourceChanged","oldDataSource"),dataSourceRA_:null,dataSourceMap_:null,destroyDataSourceMember:!0,parentNode:null,emit_parentChanged:s("parentChanged",
"oldParentNode"),nextSibling:null,previousSibling:null,firstChild:null,lastChild:null,sorting:E,sortingDesc:!1,emit_sortingChanged:s("sortingChanged","oldSorting","oldSortingDesc"),groupingClass:null,grouping:null,emit_groupingChanged:s("groupingChanged","oldGrouping"),groupNode:null,groupId:NaN,satellite:Y,ownerSatelliteName:null,emit_satelliteChanged:s("satelliteChanged","name","oldSatellite"),owner:null,emit_ownerChanged:s("ownerChanged","oldOwner"),init:function(){sa.prototype.init.call(this);
var k=this.childNodes,a=this.dataSource;k&&(this.childNodes=null);a&&(this.dataSource=null);var n=this.grouping;n&&(this.grouping=null,this.setGrouping(n));this.childClass&&(this.childNodes=[],a?this.setDataSource(a):k&&this.setChildNodes(k));k=this.satellite;if(k!==Y){this.satellite=Y;for(var d in k)k[d]&&"object"==typeof k[d]&&this.setSatellite(d,k[d])}if(d=this.owner)this.owner=null,this.setOwner(d)},setChildNodesState:function(k,a){var n=String(k),d=this.childNodesState;if(!y.values[n])throw 12;
if(d!=n||d.data!=a)this.childNodesState=Object(n),this.childNodesState.data=a,this.emit_childNodesStateChanged(d)},appendChild:function(k){},insertBefore:function(k,a){},removeChild:function(k){},replaceChild:function(k,a){},clear:function(k){},setChildNodes:function(k){},setGrouping:function(k,a){},setSorting:function(k,a){},setDataSource:function(k){},setOwner:function(k){k&&0!=k instanceof d||(k=null);if(k&&this.parentNode)throw 13;var a=this.owner;if(a!==k){var n=this.listen.owner;if(a){if(this.ownerSatelliteName&&
a.satellite.__auto__&&this.ownerSatelliteName in a.satellite.__auto__)return;n&&a.removeHandler(n,this);this.ownerSatelliteName&&(this.owner=null,a.setSatellite(this.ownerSatelliteName,null))}k&&n&&k.addHandler(n,this);this.owner=k;this.emit_ownerChanged(a);this.autoDelegate!=m.OWNER&&this.autoDelegate!==m.ANY||this.setDelegate(k)}},setSatellite:function(k,a,b){var c=this.satellite[k]||null,f=this.satellite.__auto__,m=f&&f[k],e=b&&m;if(e)(a=m.instance)&&m.config.instance&&delete m.config.instance.setOwner;
else{if((a=I(a))&&a.owner===this&&f&&a.ownerSatelliteName&&f[a.ownerSatelliteName])return;m&&(delete f[k],m.config.instance&&m.config.instance.removeHandler(n,m),m.config.handler&&this.removeHandler(m.config.handler,m))}if(c!==a){b=this.listen.satellite;var S=this.listen["satellite:"+k],ba;c&&(delete this.satellite[k],c.ownerSatelliteName=null,m&&c.destroy===H?ba=c:(b&&c.removeHandler(b,this),S&&c.removeHandler(S,this),c.setOwner(null)),e&&!a&&m.config.instance&&(m.config.instance.setOwner=J));if(a){if(0==
a instanceof d){m={owner:this,name:k,config:a,instance:null,existsAdapter:null};a.handler&&this.addHandler(a.handler,m);a.instance&&(a.instance.addHandler(n,m),a.instance.setOwner=J);f||(this.satellite===Y&&(this.satellite={}),f=this.satellite.__auto__={});f[k]=m;ma.call(m,this);!m.instance&&c&&this.emit_satelliteChanged(k,c);ba&&(delete ba.destroy,ba.destroy());return}if(a.owner!==this){m&&m.config.delegate?(f=a.autoDelegate,a.autoDelegate=!1,a.setOwner(this),a.autoDelegate=f):a.setOwner(this);if(a.owner!==
this)return;b&&a.addHandler(b,this);S&&a.addHandler(S,this)}else a.ownerSatelliteName&&(delete this.satellite[a.ownerSatelliteName],this.emit_satelliteChanged(a.ownerSatelliteName,a));this.satellite==Y&&(this.satellite={});this.satellite[k]=a;a.ownerSatelliteName=k}this.emit_satelliteChanged(k,c);ba&&(delete ba.destroy,ba.destroy())}},getChildNodesDataset:function(){return z[this.basisObjectId]||new Ca({sourceNode:this})},destroy:function(){sa.prototype.destroy.call(this);this.dataSource||this.dataSourceRA_?
this.setDataSource():this.firstChild&&this.clear();this.parentNode&&this.parentNode.removeChild(this);this.grouping&&(this.grouping.setOwner(),this.grouping=null);this.owner&&this.setOwner();var k=this.satellite;if(k!==Y){var a=k.__auto__;delete k.__auto__;for(var n in a)a[n].config.instance&&!a[n].instance&&a[n].config.instance.destroy(),a[n].existsAdapter&&R(a[n],null,null,"existsAdapter");for(n in k)a=k[n],a.owner=null,a.ownerSatelliteName=null,a.destroy===H&&delete a.destroy,a.destroy();this.satellite=
null}this.childNodes=null}}),ga=aa(d,{className:l+".PartitionNode",autoDestroyIfEmpty:!1,nodes:null,first:null,last:null,init:function(){this.nodes=[];d.prototype.init.call(this)},insert:function(k,a){var n=this.nodes,d=a?n.indexOf(a):-1;-1==d?(n.push(k),this.last=k):n.splice(d,0,k);this.first=n[0];k.groupNode=this;this.emit_childNodesModified({inserted:[k]})},remove:function(k){var a=this.nodes;P(a,k)&&(this.first=a[0]||null,this.last=a[a.length-1]||null,k.groupNode=null,this.emit_childNodesModified({deleted:[k]}));
!this.first&&this.autoDestroyIfEmpty&&this.destroy()},clear:function(){if(this.first){for(var k=this.nodes,a=k.length;0<a--;)k[a].groupNode=null;this.nodes=[];this.last=this.first=null;this.emit_childNodesModified({deleted:k});this.autoDestroyIfEmpty&&this.destroy()}},destroy:function(){d.prototype.destroy.call(this);this.last=this.first=this.nodes=null}}),ra={childClass:d,childFactory:null,listen:{dataSource:{itemsChanged:function(k,n){var d={},b=[];if(n.deleted)if(d.deleted=b,this.childNodes.length==
n.deleted.length){for(var b=C(this.childNodes),c=0,f;f=b[c];c++)A(f);c=this.dataSource;this.dataSource=null;this.clear(!0);this.dataSource=c;this.dataSourceMap_={}}else for(c=0;f=n.deleted[c];c++){f=f.basisObjectId;var m=this.dataSourceMap_[f];A(m);delete this.dataSourceMap_[f];this.removeChild(m);b.push(m)}if(n.inserted)for(d.inserted=[],c=0;f=n.inserted[c];c++){var S=m=O(this,{delegate:f});S.setDelegate=a.fn.$undef;S.destroy=D;this.dataSourceMap_[f.basisObjectId]=m;d.inserted.push(m);this.firstChild&&
this.insertBefore(m)}this.firstChild?this.emit_childNodesModified(d):this.setChildNodes(d.inserted);if(this.destroyDataSourceMember&&b.length)for(c=0;f=b[c];c++)f.destroy()},stateChanged:function(k){this.setChildNodesState(k.state,k.state.data)},destroy:function(k){this.dataSourceRA_||this.setDataSource()}}},getChild:function(k,n){return a.array.search(this.childNodes,k,n)},getChildByName:function(k){return this.getChild(k,"name")},appendChild:function(k){return this.insertBefore(k)},insertBefore:function(k,
a){if(!this.childClass)throw 16;if(k.firstChild)for(var n=this;n=n.parentNode;)if(n===k)throw 17;var d=k&&k instanceof this.childClass;if(this.dataSource){if(!d||!k.delegate||this.dataSourceMap_[k.delegate.basisObjectId]!==k)throw 18;}else if(this.dataSourceRA_)throw 19;d||(k=O(this,k instanceof sa?{delegate:k}:k));if(k.owner)throw 20;var d=k.parentNode===this,c=this.childNodes,f=this.grouping,Z=k.groupNode,S=null,ba=this.sorting,oa,ga=!1,g,n=-1,h,ua;d&&(h=k.nextSibling,ua=k.previousSibling);ba!==
E&&(a=null,oa=this.sortingDesc,g=ba(k)||0,d&&(g===k.sortingValue?ga=!0:(!h||(oa?h.sortingValue<=g:h.sortingValue>=g))&&(!ua||(oa?ua.sortingValue>=g:ua.sortingValue<=g))&&(k.sortingValue=g,ga=!0)));if(f){S=f.getGroupNode(k,!0);f=S.nodes;if(Z===S&&(ga||ba===E&&h===a))return k;ba!==E?Z===S&&ga?n=h&&h.groupNode===S?f.indexOf(h):f.length:(n=e(f,g,q,oa),k.sortingValue=g):n=a&&a.groupNode===S?f.indexOf(a):f.length;if(n<f.length)a=f[n];else if(S.last)a=S.last.nextSibling;else for(n=S,a=null;(n=n.nextSibling)&&
!(a=n.first););if(k===a||d&&h===a)return Z!==S&&(Z&&Z.remove(k),S.insert(k,a)),k;n=-1}else if(ba!==E){if(ga)return k;n=e(c,g,q,oa);a=c[n];k.sortingValue=g;if(k===a||d&&h===a)return k}else{if(a&&a.parentNode!==this)throw 21;if(d){if(h===a)return k;if(k===a)throw 22;}}d?(h?(h.previousSibling=ua,k.nextSibling=null):this.lastChild=ua,ua?(ua.nextSibling=h,k.previousSibling=null):this.firstChild=h,-1==n?P(c,k):(oa=c.indexOf(k),c.splice(oa,1),n-=oa<n),Z&&(Z.remove(k),Z=null)):k.parentNode&&k.parentNode.removeChild(k);
Z!=S&&S.insert(k,a);if(a){-1==n&&(n=c.indexOf(a));if(-1==n)throw 23;k.nextSibling=a;c.splice(n,0,k)}else n=c.length,c.push(k),a={previousSibling:this.lastChild},this.lastChild=k;k.parentNode=this;k.previousSibling=a.previousSibling;0==n?this.firstChild=k:a.previousSibling.nextSibling=k;a.previousSibling=k;d||(p(k,k.contextSelection,this.selection||this.contextSelection,!0),b(k,this.disabled||this.contextDisabled),(k.underMatch_||this.matchFunction)&&k.match&&k.match(this.matchFunction),k.autoDelegate!=
m.PARENT&&k.autoDelegate!==m.ANY||k.setDelegate(this),k.emit_parentChanged(null),this.dataSource||this.emit_childNodesModified({inserted:[k]}),k.listen.parentNode&&this.addHandler(k.listen.parentNode,k));return k},removeChild:function(a){if(!a||a.parentNode!==this)throw 24;if(0==a instanceof this.childClass)throw 25;if(this.dataSource){if(this.dataSource.has(a.delegate))throw 26;}else if(this.dataSourceRA_)throw 27;var n=this.childNodes.indexOf(a);if(-1==n)throw 28;this.childNodes.splice(n,1);a.parentNode=
null;a.nextSibling?a.nextSibling.previousSibling=a.previousSibling:this.lastChild=a.previousSibling;a.previousSibling?a.previousSibling.nextSibling=a.nextSibling:this.firstChild=a.nextSibling;a.nextSibling=null;a.previousSibling=null;a.listen.parentNode&&this.removeHandler(a.listen.parentNode,a);p(a,a.contextSelection,null,!0);a.groupNode&&a.groupNode.remove(a);a.emit_parentChanged(this);this.dataSource||this.emit_childNodesModified({deleted:[a]});a.autoDelegate!=m.PARENT&&a.autoDelegate!==m.ANY||
a.setDelegate();return a},replaceChild:function(a,n){if(this.dataSource)throw 29;if(this.dataSourceRA_)throw 30;if(null==n||n.parentNode!==this)throw 31;this.insertBefore(a,n);return this.removeChild(n)},clear:function(a){if(this.dataSource&&this.dataSource.itemCount)throw 32;if(this.firstChild){a&&p(this,this.selection||this.contextSelection,null,!1,!0);var n=this.childNodes;this.lastChild=this.firstChild=null;this.childNodes=[];this.emit_childNodesModified({deleted:n});for(var d=n.length;0<d--;){var c=
n[d];c.listen.parentNode&&c.parentNode.removeHandler(c.listen.parentNode,c);c.parentNode=null;c.groupNode=null;a?(c.nextSibling=null,c.previousSibling=null,c.emit_parentChanged(this),c.autoDelegate!=m.PARENT&&c.autoDelegate!==m.ANY||c.setDelegate()):c.destroy()}if(this.grouping)for(n=this.grouping.childNodes,d=n.length-1;a=n[d];d--)a.clear()}},setChildNodes:function(a,n){this.dataSource||this.dataSourceRA_||this.clear(n);if(a&&(0=="length"in a&&(a=[a]),a.length)){var d=this.emit_childNodesModified;
this.emit_childNodesModified=V;for(var c=0,b=a.length;c<b;c++)this.insertBefore(a[c]);this.emit_childNodesModified=d;this.emit_childNodesModified({inserted:this.childNodes})}},setDataSource:function(a){if(!this.childClass)throw 33;a=c(this,this.setDataSource,a,"dataSourceRA_");if(this.dataSource!==a){var n=this.dataSource,d=this.listen.dataSource;n&&(this.dataSource=this.dataSourceMap_=null,d&&n.removeHandler(d,this));if(this.firstChild){if(n)for(var b=0,f;f=this.childNodes[b];b++)A(f);this.clear(!this.destroyDataSourceMember)}(this.dataSource=
a)?(this.dataSourceMap_={},this.setChildNodesState(a.state,a.state.data),d&&(a.addHandler(d,this),a.itemCount&&d.itemsChanged&&d.itemsChanged.call(this,a,{inserted:a.getItems()}))):this.setChildNodesState(y.UNDEFINED);this.emit_dataSourceChanged(n)}},setGrouping:function(a,n){if("function"==typeof a||"string"==typeof a)a={rule:a};0==a instanceof Z&&(a=a&&"object"==typeof a?new this.groupingClass(a):null);if(this.grouping!==a){var d=this.grouping,c;if(d){this.grouping=null;if(!a&&this.firstChild){c=
this.sorting!==E?h(this):this.childNodes;d.nullGroup.clear();for(var b=d.childNodes.slice(0),m=0;m<b.length;m++)b[m].clear();f(this,c)}d.setOwner()}if(a&&(this.grouping=a,a.setOwner(this),this.firstChild)){c=this.sorting!==E?h(this):this.childNodes;for(m=0;b=c[m];m++)b.groupNode=this.grouping.getGroupNode(b,!0);for(m=0;b=c[m];m++)b.groupNode.nodes.push(b);c.length=0;for(m=this.grouping.nullGroup;m;m=m.nextSibling)b=m.nodes,m.first=b[0]||null,m.last=b[b.length-1]||null,c.push.apply(c,b),m.emit_childNodesModified({inserted:b});
f(this,c)}this.emit_groupingChanged(d)}},setSorting:function(a,n){a=K(a);n=!!n;if(this.sorting!==a||this.sortingDesc!=!!n){var d=this.sorting,c=this.sortingDesc;this.sorting=a;this.sortingDesc=!!n;if(a!==E&&this.firstChild){var b=[],m;for(m=this.firstChild;m;m=m.nextSibling)m.sortingValue=a(m)||0;if(this.grouping)for(var e=this.grouping.nullGroup;e;e=e.nextSibling)m=e.nodes=h({childNodes:e.nodes,sortingDesc:this.sortingDesc}),e.first=m[0]||null,e.last=m[m.length-1]||null,b.push.apply(b,m);else b=
h(this);f(this,b)}this.emit_sortingChanged(d,c)}},setMatchFunction:function(a){if(this.matchFunction!=a){var n=this.matchFunction;this.matchFunction=a;for(var d=this.lastChild;d;d=d.previousSibling)d.match(a);this.emit_matchFunctionChanged(n)}}},Da=aa(d,ra,{className:l+".Node",emit_enable:s("enable")&&function(){for(var a=this.firstChild;a;a=a.nextSibling)b(a,!1);v.enable.call(this)},emit_disable:s("disable")&&function(){for(var a=this.firstChild;a;a=a.nextSibling)b(a,!0);v.disable.call(this)},emit_satelliteChanged:function(a,
n){d.prototype.emit_satelliteChanged.call(this,a,n);this.satellite[a]instanceof Da&&b(this.satellite[a],this.disabled||this.contextDisabled)},emit_select:s("select"),emit_unselect:s("unselect"),emit_match:s("match"),emit_unmatch:s("unmatch"),emit_matchFunctionChanged:s("matchFunctionChanged","oldMatchFunction"),selected:!1,selectedRA_:null,selection:null,contextSelection:null,matchFunction:null,matched:!0,disabled:!1,disabledRA_:null,contextDisabled:!1,listen:{owner:{enable:function(){b(this,!1)},
disable:function(){b(this,!0)}},selection:{destroy:function(){this.setSelection()}}},init:function(){var a=this.disabled;this.disabled=!1;var n=this.selection;n&&(this.selection=null,this.setSelection(n));d.prototype.init.call(this);if(a&&(a=!!R(this,this.setDisabled,a,"disabledRA_")))for(this.disabled=a,a=this.firstChild;a;a=a.nextSibling)b(a,!0);this.selected&&(this.selected=!!R(this,this.setSelected,this.selected,"selectedRA_"))},setSelection:function(a){!1===a instanceof Ea&&(a=a?new Ea(a):null);
if(this.selection!==a)return p(this,this.selection||this.contextSelection,a||this.contextSelection,!1,!0),this.selection&&this.listen.selection&&this.selection.removeHandler(this.listen.selection,this),(this.selection=a)&&this.listen.selection&&a.addHandler(this.listen.selection,this),!0},select:function(a){return this.setSelected(!0,a)},unselect:function(){return this.setSelected(!1)},setSelected:function(a,n){var d=this.contextSelection;a=!!R(this,this.setSelected,a,"selectedRA_");this.selected&&
d&&(this.selectedRA_?d.has(this)&&(this.selected=!1,d.remove(this),this.selected=!0):d.has(this)||d.add(this));if(a!==this.selected)return this.selectedRA_?(this.selected=a)?this.emit_select():this.emit_unselect():a?d?n?d.add(this):d.set(this):(this.selected=!0,this.emit_select()):d?d.remove(this):(this.selected=!1,this.emit_unselect()),!0;!this.selectedRA_&&a&&d&&(n?d.remove(this):d.set(this));return!1},enable:function(){return this.setDisabled(!1)},disable:function(){return this.setDisabled(!0)},
setDisabled:function(a){a=!!R(this,this.setDisabled,a,"disabledRA_");if(this.disabled!==a)return this.disabled=a,this.contextDisabled||(a?this.emit_disable():this.emit_enable()),!0},isDisabled:function(){return this.disabled||this.contextDisabled},match:function(a){"function"!=typeof a&&(a=null);this.underMatch_&&!a&&this.underMatch_(this,!0);this.underMatch_=a;a=!a||a(this);this.matched!=a&&((this.matched=a)?this.emit_match():this.emit_unmatch())},destroy:function(){this.disabledRA_&&R(this,null,
null,"disabledRA_");this.selectedRA_&&R(this,null,null,"selectedRA_");this.contextSelection=null;this.selection&&this.setSelection();d.prototype.destroy.call(this)}}),Z=aa(d,ra,{className:l+".GroupingNode",emit_childNodesModified:function(a){v.childNodesModified.call(this,a);this.nullGroup.nextSibling=this.firstChild;var n;if(n=a.inserted){a=0;for(var d;d=n[a++];)d.groupId_=d.delegate?d.delegate.basisObjectId:d.data.id,this.map_[d.groupId_]=d;if(this.dataSource&&this.nullGroup.first)for(n=this.owner,
d=C(this.nullGroup.nodes),a=d.length;0<a--;)n.insertBefore(d[a],d[a].nextSibling)}},emit_ownerChanged:function(a){a&&a.grouping===this&&a.setGrouping(null,!0);this.owner&&this.owner.grouping!==this&&this.owner.setGrouping(this);v.ownerChanged.call(this,a);!this.owner&&this.autoDestroyWithNoOwner&&this.destroy()},map_:null,nullGroup:null,autoDestroyWithNoOwner:!0,autoDestroyEmptyGroups:!0,rule:E,childClass:ga,childFactory:function(a){return new this.childClass(T({autoDestroyIfEmpty:this.dataSource?
!1:this.autoDestroyEmptyGroups},a))},init:function(){this.map_={};this.nullGroup=new ga;d.prototype.init.call(this)},getGroupNode:function(a,n){var d=this.rule(a),c=d instanceof sa,b=this.map_[c?d.basisObjectId:d];this.dataSource&&(n=!1);!b&&n&&(b=this.appendChild(c?d:{data:{id:d,title:d}}));return b||this.nullGroup},setDataSource:function(a){var n=this.dataSource;ra.setDataSource.call(this,a);if((a=this.owner)&&this.dataSource!==n)for(var n=C(a.childNodes),d=n.length-1;0<=d;d--)a.insertBefore(n[d],
n[d+1])},insertBefore:function(a,n){a=ra.insertBefore.call(this,a,n);var d=a.first;if(d){for(var c=d.parentNode,b=a.last,m,f,S,ba=null,oa=a;(oa=oa.nextSibling)&&!(ba=oa.first););S=ba?ba.previousSibling:c.lastChild;m=d.previousSibling;f=b.nextSibling;if(f!==ba){var e=c.childNodes,oa=a.nodes,Z=oa.length;m&&(m.nextSibling=f);f&&(f.previousSibling=m);S&&(S.nextSibling=d);ba&&(ba.previousSibling=b);d.previousSibling=S;b.nextSibling=ba;var b=e.indexOf(d),g=ba?e.indexOf(ba):e.length;g>b&&(g-=Z);e.splice(b,
Z);e.splice.apply(e,[g,0].concat(oa));S&&m||(c.firstChild=e[0]);ba&&f||(c.lastChild=e[e.length-1]);if(d instanceof ga)for(d=Z;0<d--;)c.insertBefore(oa[d],ba),ba=oa[d]}}return a},removeChild:function(a){if(a=ra.removeChild.call(this,a)){delete this.map_[a.groupId_];for(var n=0,d;d=a.nodes[n];n++)d.parentNode.insertBefore(d)}return a},clear:function(a){var n=[],d=this.getGroupNode,c=this.nullGroup;this.getGroupNode=function(){return c};for(var b=this.firstChild;b;b=b.nextSibling)n.push.apply(n,b.nodes);
for(var b=0,m;m=n[b];b++)m.parentNode.insertBefore(m);this.getGroupNode=d;ra.clear.call(this,a);this.map_={}},destroy:function(){this.autoDestroyWithNoOwner=!1;d.prototype.destroy.call(this);this.nullGroup.destroy();this.map_=this.nullGroup=null}});d.prototype.groupingClass=Z;var ua={childNodesModified:function(a,n){var d=this.members_,c={},b,m=0,f=0,S=n.inserted,ba=n.deleted;if(S&&S.length)for(c.inserted=S;b=S[m];)d[b.basisObjectId]=b,m++;if(ba&&ba.length)for(c.deleted=ba;b=ba[f];)delete d[b.basisObjectId],
f++;(m||f)&&this.emit_itemsChanged(c)},destroy:function(){this.destroy()}},Ca=aa(B,{className:l+".ChildNodesDataset",sourceNode:null,init:function(){B.prototype.init.call(this);var a=this.sourceNode;z[a.basisObjectId]=this;a.firstChild&&ua.childNodesModified.call(this,a,{inserted:a.childNodes});a.addHandler(ua,this)},destroy:function(){this.sourceNode.removeHandler(ua,this);delete z[this.sourceNode.basisObjectId];B.prototype.destroy.call(this)}}),Ea=aa(qa,{className:l+".Selection",multiple:!1,emit_itemsChanged:function(a){var n;
qa.prototype.emit_itemsChanged.call(this,a);if(n=a.deleted)for(var d=0,c;c=n[d];d++)c.selected&&c.contextSelection===this&&(c.selected=!1,c.emit_unselect());if(n=a.inserted)for(d=0;c=n[d];d++)c.selected||c.contextSelection!==this||(c.selected=!0,c.emit_select())},add:function(a){if(a){if(!this.multiple&&this.itemCount)return this.set(a);Array.isArray(a)||(a=[a]);a=a.filter(this.filter,this);!this.multiple&&1<a.length&&(a=[a[0]]);if(a.length)return qa.prototype.add.call(this,a)}},set:function(a){if(!a)return this.clear();
Array.isArray(a)||(a=[a]);a=a.filter(this.filter,this);!this.multiple&&1<a.length&&(a=[a[0]]);return a.length?qa.prototype.set.call(this,a):this.clear()},filter:function(a){return a instanceof Da&&!a.selectedRA_&&a.contextSelection===this}});M.exports={DELEGATE:m,AbstractNode:d,Node:Da,GroupingNode:Z,PartitionNode:ga,ChildNodesDataset:Ca,Selection:Ea,nullSelection:new B}},"d.js":function(l,M,a,s,t,L,x,N,fa){function D(a){for(var b=[],f=0,e;e=a[f];f++)e=e.root,e instanceof g&&b.push(e),e.firstChild&&
b.push.apply(b,D(e.childNodes));return b}function J(a){H();if(e.itemCount)return setTimeout(J,10);h.forEach(function(a){var b=a.getEnvRunner();b&&b.destroy();a.root.reset()});p.setSource(h)}function H(){p.itemCount&&e.add(p.getItems().filter(function(a){return a.state==A.PROCESSING}));p.setSource()}var A=a.require("./1.js").STATE;L=a.require("./1.js").Value;var q=a.require("./1.js").Object;s=a.require("./1.js").Dataset;l=a.require("./e.js").Expression;x=a.require("./f.js").Filter;N=a.require("./f.js").Slice;
t=a.require("./g.js").count;fa=a.require("./g.js").sum;var F=a.require("./h.js").time,g=a.require("./i.js").TestCase,h=new s,e=new s({listen:{item:{stateChanged:function(a){a.state!=A.PROCESSING&&this.remove(a)}}}});s=new x({source:h,ruleEvents:"stateChanged",rule:function(a){return a.state==A.ERROR}});var p=new x({ruleEvents:"stateChanged",rule:function(a){return a.state!=A.READY&&a.state!=A.ERROR}}),b=new N({source:p,rule:"basisObjectId",limit:1,handler:{itemsChanged:function(f,e){e.inserted&&e.inserted.forEach(function(f){a.nextTick(function(){b.has(f)&&
f.run()})})}}}),I,f=new L({value:0});x=fa(h,"stateChanged",function(a){return a.state.data instanceof q?a.state.data.data.testCount:0});L=L.from(h,"itemsChanged","itemCount");t=t(h,"stateChanged",function(a){return a.state==A.ERROR||a.state==A.READY});l=new l(L,t,function(a,b){return a-b});l.addHandler({change:function(a,b){this.value&&!b&&(I=F());f.set(F(I))}});M.exports={time:f,faultTests:s,count:{assert:x,total:L,left:l,done:t},loadTests:function(a){H();h.set(D(a))},run:J,stop:H}},"e.js":function(l,
M,a,s,t,L,x,N,fa){l=this.path;var D=a.cleaner;s=a.require("./1.js");var J=s.AbstractData,H=s.Value,A=s.STATE;s=H.subclass({className:l+".Property",extendConstructor_:!1,init:function(a,b,e){this.value=a;this.handler=b;this.proxy=e;H.prototype.init.call(this)}});t=A.priority;var q={stateChanged:function(){this.fire(!1,!0)},update:function(){this.fire(!0)},change:function(){this.fire(!0)},destroy:function(a){this.remove(a)}},F=function(){function e(){var f=a.setImmediate(e);g=!1;for(var h in b){var F=
b[h];delete b[h];F.update()}a.clearImmediate(f)}var b={},g=!1;return{add:function(f){b[f.basisObjectId]=f;g||(g=a.asap(e))},remove:function(a){delete b[a.basisObjectId]}}}();t=H.subclass({className:l+".ObjectSet",objects:null,value:0,valueChanged_:!1,calculateValue:function(){return this.value+1},calculateOnInit:!1,statePriority:t,stateChanged_:!0,init:function(){H.prototype.init.call(this);var a=this.objects;this.objects=[];a&&Array.isArray(a)&&(this.lock(),this.add.apply(this,a),this.unlock());
this.valueChanged_=this.stateChanged_=!!this.calculateOnInit;this.update()},add:function(){for(var e=0,b=arguments.length;e<b;e++){var g=arguments[e];g instanceof J&&a.array.add(this.objects,g)&&g.addHandler(q,this)}this.fire(!0,!0)},remove:function(e){a.array.remove(this.objects,e)&&e.removeHandler(q,this);this.fire(!0,!0)},clear:function(){for(var a=0,b;b=this.objects[a];a++)b.removeHandler(q,this);this.objects.length=0;this.fire(!0,!0)},fire:function(a,b){this.locked||(this.valueChanged_=this.valueChanged_||
!!a,this.stateChanged_=this.stateChanged_||!!b,(this.valueChanged_||this.stateChanged_)&&F.add(this))},lock:function(){this.locked=!0},unlock:function(){this.locked=!1},update:function(){var a=this.valueChanged_,b=this.stateChanged_;this.stateChanged_=this.valueChanged_=!1;F.remove(this);if(!D.globalDestroy&&(a&&this.set(this.calculateValue()),b))if(a=this.objects.length){for(var b=-2,e,f=0;f<a;f++){var g=this.objects[f],h=this.statePriority.indexOf(String(g.state));h>b&&(e=g,b=h)}e&&this.setState(e.state,
e.state.data)}else this.setState(A.UNDEFINED)},destroy:function(){this.lock();this.clear();F.remove(this);H.prototype.destroy.call(this)}});var g=function(){F.add(this)},h=function(){this.destroy()},e=function(a){return a.bindingBridge.get(a)};l=H.subclass({className:l+".Expression",calc_:null,values_:null,extendConstructor_:!1,init:function(){H.prototype.init.call(this);var a=arguments.length-1,b=arguments[a];if("function"!=typeof b)throw 34;for(var e=Array(a),f=0;f<a;f++){var F=e[f]=arguments[f];
if(!F.bindingBridge)throw 35;F.bindingBridge.attach(F,g,this,h)}this.calc_=b;this.values_=e;this.update()},update:function(){F.remove(this);H.prototype.set.call(this,this.calc_.apply(null,this.values_.map(e)))},set:function(){},destroy:function(){F.remove(this);for(var a=0,b;b=this.values_[a];a++)b.bindingBridge.detach(b,g,this);H.prototype.destroy.call(this)}});M.exports={Property:s,ObjectSet:t,Expression:l}},"f.js":function(l,M,a,s,t,L,x,N,fa){function D(a,d){var c={},b;a&&a.length&&(b=c.inserted=
a);d&&d.length&&(b=c.deleted=d);if(b)return c}function J(a,d){return function ra(d){if(!d)return null;if(d.__extend__)return d;"string"==typeof d||Array.isArray(d)||(d=null);return e(K(d,a),{__extend__:ra})}(d)}function H(a,d,c,b){return new ka(e({keyGetter:d,itemClass:c,create:function(a,n){var d=ka.prototype.create.call(this,a,n);d.ruleValue=a;d.setDataset(new b({ruleValue:a}));return d}},a))}function A(a,d){if(!a.length)return 0;var c=d.value,b=d.object.basisObjectId,f,m,e,g,h=0,k=a.length-1;do if(e=
h+k>>1,g=a[e],f=g.value,c<f)k=e-1;else if(c>f)h=e+1;else if(m=g.object.basisObjectId,b<m)k=e-1;else if(b>m)h=e+1;else return e;while(h<=k);return e+(f==c?m<b:f<c)}function q(a,d){return+(a.value>d.value)||-(a.value<d.value)||a.object.basisObjectId-d.object.basisObjectId}function F(a,d,c){if((d=a.sourceMap_[d.basisObjectId])&&d.visited!==c){for(var b=d;b=b.ref;)if(b.object===a.source)return!0;d.visited=c;for(b=d;b=b.ref;)if(F(a,b.object,c||{}))return!0}}function g(a,d,b){var f=a.sourceMap_,m=a.members_;
d=V(d);for(var e=[],g=0;g<d.length;g++){var h=d[g],p=h.basisObjectId;p||(b=h.ref,h=h.object,p=h.basisObjectId);var k=f[p];if(k)k.ref={object:b,ref:k.ref};else if(k=f[p]={source:h,ref:{object:b,ref:null},visited:null,value:null},h instanceof c){var z=a.rule(h)||null;if(z instanceof c||z instanceof y)k.value=z,d.push({object:z,ref:h});m[p]=k;e.push(h);a.ruleEvents&&h.addHandler(a.ruleEvents,a)}else for(h.addHandler(ma,a),p=0,k=h.getItems();p<k.length;p++)d.push({object:k[p],ref:h})}return e}function h(a,
d,b){var f=a.sourceMap_,m=a.members_;d=V(d);for(var e=[],g=0;g<d.length;g++){var h=d[g],p=h.basisObjectId;p||(b=h.ref,h=h.object,p=h.basisObjectId);for(var k=f[p],z=k.value,v=k,E=k;v=v.ref;){if(v.object===b){E.ref=v.ref;break}E=v}if(k.ref)z&&!F(a,h)&&(k.value=null,d.push({object:z,ref:h}));else{if(h instanceof c)delete m[p],e.push(h),a.ruleEvents&&h.removeHandler(a.ruleEvents,a),z&&d.push({object:z,ref:h});else for(h.removeHandler(ma,a),k=0,z=h.getItems();k<z.length;k++)d.push({object:z[k],ref:h});
delete f[p]}}return e}l=this.path;t=a.Class;var e=a.object.extend,p=a.object.values,b=a.object.slice,I=a.array.add,f=a.array.remove,O=a.getter,aa=a.fn.$self,T=a.fn.$true,C=a.fn.$false,P=a.fn.$undef,V=a.array.from;L=a.require("./2.js");s=L.create;var K=L.createHandler,E=L.Emitter;a=a.require("./1.js");var v=a.SUBSCRIPTION,R=a.Value,c=a.Object,ka=a.KeyObjectMap,y=a.ReadOnlyDataset;fa=a.DatasetWrapper;var sa=a.resolveDataset,B=a.Dataset.setAccumulateState;v.add("SOURCE",{sourceChanged:function(a,d){d&&
v.unlink("source",a,d);a.source&&v.link("source",a,a.source)},sourcesChanged:function(a,d){var b;if(b=d.inserted)for(var c=0;b[c];c++)v.link("source",a,b[c]);if(b=d.deleted)for(c=0;b[c];c++)v.unlink("source",a,b[c])}},function(a,d){for(var b=d.sources||(d.source?[d.source]:[]),c=0,f;f=b[c++];)a("source",d,f)});v.addProperty("minuend");v.addProperty("subtrahend");var qa=t(y,{className:l+".Merge",subscribeTo:v.SOURCE,emit_sourcesChanged:s("sourcesChanged","delta"),sources:null,sourceValues_:null,sourcesMap_:null,
sourceDelta_:null,rule:function(a,d){return 0<a},emit_ruleChanged:s("ruleChanged","oldRule"),listen:{source:{itemsChanged:function(a,d){var b=this.members_,c={},f,m;if(d.inserted)for(var e=0;f=d.inserted[e];e++)m=f.basisObjectId,b[m]?b[m].count++:b[m]={count:1,object:f},c[m]=b[m];if(d.deleted)for(e=0;f=d.deleted[e];e++)m=f.basisObjectId,c[m]=b[m],b[m].count--;this.applyRule(c)}},sourceValue:{destroy:function(a){this.removeSource(a)}}},init:function(){y.prototype.init.call(this);var a=this.sources;
this.sources=[];this.sourcesMap_={};this.sourceValues_=[];a&&this.setSources(a)},setRule:function(a){a=O(a||qa.UNION);if(this.rule!==a){var d=this.rule;this.rule=a;this.emit_ruleChanged(d);return this.applyRule()}},applyRule:function(a){var d=this.members_,b=this.rule,c=this.sources.length,f=[],m=[],e,g;a||(a=d);for(var h in a)a=d[h],e=c&&a.count&&b(a.count,c),e!=h in this.items_&&(e?f.push(a.object):m.push(a.object)),0==a.count&&delete d[h];(g=D(f,m))&&this.emit_itemsChanged(g);return g},addDataset_:function(a){this.sources.push(a);
this.listen.source&&a.addHandler(this.listen.source,this);var d=this.members_,b;for(b in a.items_)d[b]?d[b].count++:d[b]={count:1,object:a.items_[b]};return!0},removeDataset_:function(a){f(this.sources,a);this.listen.source&&a.removeHandler(this.listen.source,this);var d=this.members_,b;for(b in a.items_)d[b].count--},updateDataset_:function(a){var d=this.owner,b=d.sourcesMap_;a=sa(this,d.updateDataset_,a,"adapter");var c,m;if(this.dataset!==a){if(a){var e=(b[a.basisObjectId]||0)+1;b[a.basisObjectId]=
e;1==e&&(d.addDataset_(a),c=[a])}this.dataset&&(e=(b[this.dataset.basisObjectId]||0)-1,b[this.dataset.basisObjectId]=e,0==e&&(d.removeDataset_(this.dataset),m=[this.dataset]));this.dataset=a;d.applyRule();if(b=D(c,m))(c=d.sourceDelta_)?(b.inserted&&b.inserted.forEach(function(a){f(this.deleted,a)||I(this.inserted,a)},c),b.deleted&&b.deleted.forEach(function(a){f(this.inserted,a)||I(this.deleted,a)},c)):d.emit_sourcesChanged(b);return b}},getSourceValues:function(){return this.sourceValues_.map(function(a){return a.source})},
addSource:function(a){if(a&&("object"==typeof a||"function"==typeof a)&&!this.hasSource(a)){var d={owner:this,source:a,adapter:null,dataset:null};this.sourceValues_.push(d);this.updateDataset_.call(d,a);this.listen.sourceValue&&a instanceof E&&a.addHandler(this.listen.sourceValue,this)}},removeSource:function(a){for(var d=0,b;b=this.sourceValues_[d];d++)if(b.source===a){this.listen.sourceValue&&a instanceof E&&a.removeHandler(this.listen.sourceValue,this);this.updateDataset_.call(b,null);this.sourceValues_.splice(d,
1);break}},hasSource:function(a){for(var d=0,b;b=this.sourceValues_[d];d++)if(b.source===a)return!0;return!1},setSources:function(a){var d=this.sourceValues_.map(function(a){return a.source}),b=[],c=[],m;a||(a=[]);this.sourceDelta_={inserted:b,deleted:c};for(var e=0;e<a.length;e++){var g=a[e];f(d,g)||this.addSource(g)}d.forEach(this.removeSource,this);this.sourceDelta_=null;(m=D(b,c))&&this.emit_sourcesChanged(m);return m},destroy:function(){this.setSources();y.prototype.destroy.call(this);this.sources=
this.sourceDelta_=this.sourcesMap_=this.sourceValues_=null}});qa.UNION=qa.prototype.rule;qa.INTERSECTION=function(a,d){return a==d};qa.DIFFERENCE=function(a,d){return 1==a};qa.MORE_THAN_ONE_INCLUDE=function(a,d){return 1==d||1<a};qa.AT_LEAST_ONE_EXCLUDE=function(a,d){return 1==d||a<d};var m=function(a){return!this.has(a)};a=t(y,{className:l+".Subtract",subscribeTo:v.MINUEND+v.SUBTRAHEND,minuend:null,minuendRA_:null,emit_minuendChanged:s("minuendChanged","oldMinuend"),subtrahend:null,subtrahendRA_:null,
emit_subtrahendChanged:s("subtrahendChanged","oldSubtrahend"),listen:{minuend:{itemsChanged:function(a,d){if(this.subtrahend){var b=D(d.inserted&&d.inserted.filter(m,this.subtrahend),d.deleted&&d.deleted.filter(this.has,this));b&&this.emit_itemsChanged(b)}},destroy:function(){this.minuendRA_||this.setMinuend(null)}},subtrahend:{itemsChanged:function(a,d){if(this.minuend){var b=D(d.deleted&&d.deleted.filter(this.minuend.has,this.minuend),d.inserted&&d.inserted.filter(this.has,this));b&&this.emit_itemsChanged(b)}},
destroy:function(){this.subtrahendRA_||this.setSubtrahend(null)}}},init:function(){y.prototype.init.call(this);var a=this.minuend,d=this.subtrahend;this.subtrahend=this.minuend=null;(a||d)&&this.setOperands(a,d)},setOperands:function(a,d){var b,c=!1;a=sa(this,this.setMinuend,a,"minuendRA_");d=sa(this,this.setSubtrahend,d,"subtrahendRA_");var m=this.minuend,f=this.subtrahend;if(m!==a){c=!0;this.minuend=a;var e=this.listen.minuend;e&&(m&&m.removeHandler(e,this),a&&a.addHandler(e,this));this.emit_minuendChanged(m)}if(f!==
d){c=!0;this.subtrahend=d;if(e=this.listen.subtrahend)f&&f.removeHandler(e,this),d&&d.addHandler(e,this);this.emit_subtrahendChanged(f)}if(!c)return!1;if(a&&d){var c=[],m=[],g;for(g in this.items_)a.items_[g]&&!d.items_[g]||c.push(this.items_[g]);for(g in a.items_)this.items_[g]||d.items_[g]||m.push(a.items_[g]);(b=D(m,c))&&this.emit_itemsChanged(b)}else this.itemCount&&this.emit_itemsChanged(b={deleted:this.getItems()});return b},setMinuend:function(a){return this.setOperands(a,this.subtrahendRA_?
this.subtrahendRA_.source:this.subtrahend)},setSubtrahend:function(a){return this.setOperands(this.minuendRA_?this.minuendRA_.source:this.minuend,a)},destroy:function(){this.setOperands();y.prototype.destroy.call(this)}});var z=t(y,{className:l+".SourceDataset",subscribeTo:v.SOURCE,source:null,emit_sourceChanged:s("sourceChanged","oldSource"),sourceRA_:null,sourceMap_:null,listen:{source:{destroy:function(){this.sourceRA_||this.setSource()}}},init:function(){this.sourceMap_={};y.prototype.init.call(this);
var a=this.source;a&&(this.source=null,this.setSource(a))},setSource:function(a){a=sa(this,this.setSource,a,"sourceRA_");if(this.source!==a){var d=this.source,b=this.listen.source;this.source=a;if(b){var c=b.itemsChanged;B(!0);d&&(d.removeHandler(b,this),c&&c.call(this,d,{deleted:d.getItems()}));a&&(a.addHandler(b,this),c&&c.call(this,a,{inserted:a.getItems()}));B(!1)}this.emit_sourceChanged(d)}},destroy:function(){this.setSource();y.prototype.destroy.call(this);this.sourceMap_=null}}),Y=t(z,{className:l+
".MapFilter",map:aa,filter:C,rule:O(T),emit_ruleChanged:s("ruleChanged","oldRule"),ruleEvents:J(function(a){var d=this.map?this.map(a):object;if(0==d instanceof c||this.filter(d))d=null;var b=this.sourceMap_[a.basisObjectId],m=b.member;if(m!==d){var f=this.members_,e,g,h;b.member=d;m&&(b=m.basisObjectId,this.removeMemberRef&&this.removeMemberRef(m,a),0==--f[b]&&(delete f[b],h=[m]));d&&(m=d.basisObjectId,this.addMemberRef&&this.addMemberRef(d,a),f[m]?f[m]++:(f[m]=1,g=[d]));(e=D(g,h))&&this.emit_itemsChanged(e)}},
"update"),addMemberRef:null,removeMemberRef:null,listen:{source:{itemsChanged:function(a,d){var b=this.sourceMap_,m=this.members_,f=[],e=[],g,h,p,k=this.ruleEvents;B(!0);if(d.inserted)for(var z=0;g=d.inserted[z];z++){p=this.map?this.map(g):g;if(0==p instanceof c||this.filter(p))p=null;k&&g.addHandler(k,this);b[g.basisObjectId]={sourceObject:g,member:p};p&&(h=p.basisObjectId,m[h]?m[h]++:(m[h]=1,f.push(p)),this.addMemberRef&&this.addMemberRef(p,g))}if(d.deleted)for(z=0;g=d.deleted[z];z++)h=g.basisObjectId,
p=b[h].member,k&&g.removeHandler(k,this),delete b[h],p&&(h=p.basisObjectId,0==--m[h]&&(delete m[h],e.push(p)),this.removeMemberRef&&this.removeMemberRef(p,g));B(!1);(d=D(f,e))&&this.emit_itemsChanged(d)}}},setMap:function(a){"function"!=typeof a&&(a=aa);if(this.map!==a)return this.map=a,this.applyRule()},setFilter:function(a){"function"!=typeof a&&(a=C);if(this.filter!==a)return this.filter=a,this.applyRule()},setRule:function(a){a=O(a||T);if(this.rule!==a){var d=this.rule;this.rule=a;this.emit_ruleChanged(d);
return this.applyRule()}},applyRule:function(){var a=this.sourceMap_,d=this.members_,b,m,f,e,g,h=[],p=[],k,z;for(z in a){g=a[z];e=g.sourceObject;b=g.member;m=this.map?this.map(e):e;if(0==m instanceof c||this.filter(m))m=null;b!=m&&(g.member=m,b&&(f=b.basisObjectId,this.removeMemberRef&&this.removeMemberRef(b,e),d[f]--),m&&(b=m.basisObjectId,this.addMemberRef&&this.addMemberRef(m,e),b in d?d[b]++:(d[b]=1,h.push(m))))}for(f in this.items_)0==d[f]&&(delete d[f],p.push(this.items_[f]));(k=D(h,p))&&this.emit_itemsChanged(k);
return k}});L=t(Y,{className:l+".Filter",filter:function(a){return!this.rule(a)}});x=t(Y,{className:l+".Split",subsetClass:y,subsetWrapperClass:fa,keyMap:null,map:function(a){return this.keyMap.resolve(a)},rule:O(P),setRule:function(a){a=O(a||P);if(this.rule!==a){var d=this.rule;this.rule=a;this.keyMap.keyGetter=a;this.emit_ruleChanged(d);return this.applyRule()}},addMemberRef:function(a,d){a.dataset.emit_itemsChanged({inserted:[d]})},removeMemberRef:function(a,d){a.dataset.emit_itemsChanged({deleted:[d]})},
init:function(){this.keyMap&&0!=this.keyMap instanceof ka||(this.keyMap=H(this.keyMap,this.rule,this.subsetWrapperClass,this.subsetClass));Y.prototype.init.call(this)},getSubset:function(a,d){return this.keyMap.get(a,d)},destroy:function(){Y.prototype.destroy.call(this);this.keyMap.destroy();this.keyMap=null}});N=t(z,{className:l+".Slice",rule:O(T),emit_ruleChanged:s("ruleChanged","oldRule","oldOrderDesc"),ruleEvents:J(function(a){var d=this.sourceMap_[a.basisObjectId];a=this.rule(a);var b=this.index_;
if(a!==d.value){var c=A(b,d),m=b[c-1],f=b[c+1];d.value=a;if(m&&(m.value>a||m.value==a&&m.object.basisObjectId>d.object.basisObjectId)||f&&(f.value<a||f.value==a&&f.object.basisObjectId<d.object.basisObjectId))b.splice(c,1),b.splice(A(b,d),0,d),this.applyRule()}},"update"),index_:null,left_:null,right_:null,orderDesc:!1,offset:0,limit:10,listen:{source:{itemsChanged:function(a,d){var b=this.sourceMap_,c=this.index_,m=this.ruleEvents,f=!1,e=!1,g,h=d.inserted,k=d.deleted;if(k){k.length>c.length-k.length&&
(f=!0,e=k.length!=c.length,c.length=0);for(var p=0,z;z=k[p];p++)f||(g=b[z.basisObjectId],c.splice(A(c,g),1)),delete b[z.basisObjectId],m&&z.removeHandler(m,this);if(e)for(var v in b)g=b[v],c.splice(A(c,g),0,g)}if(h){e=!c.length;for(p=0;z=h[p];p++)g={object:z,value:this.rule(z)},b[z.basisObjectId]=g,e?c.push(g):c.splice(A(c,g),0,g),m&&z.addHandler(m,this);e&&c.sort(q)}this.applyRule()}}},emit_rangeChanged:s("rangeChanged","oldOffset","oldLimit"),init:function(){this.index_=[];z.prototype.init.call(this)},
setRange:function(a,d){var b=this.offset,c=this.limit,m=!1;if(b!=a||c!=d)this.offset=a,this.limit=d,m=this.applyRule(),this.emit_rangeChanged(b,c);return m},setOffset:function(a){return this.setRange(a,this.limit)},setLimit:function(a){return this.setRange(this.offset,a)},setRule:function(a,d){a=O(a||T);d=!!d;if(this.rule!=a||this.orderDesc!=d){var b=this.rule,c=this.orderDesc;if(this.rule!=a){for(var m=this.index_,f=0;f<m.length;f++)m[f].value=a(m[f].object);m.sort(q);this.rule=a}this.orderDesc=
d;this.rule=a;this.emit_ruleChanged(b,c);return this.applyRule()}},applyRule:function(){var a=this.offset,d=a+this.limit;this.orderDesc&&(a=this.index_.length-d,d=a+this.limit);for(var c=b(this.members_),m=this.index_.slice(Math.max(0,a),Math.max(0,d)),f=[],e,g=0,h;h=m[g];g++){var z=h.object.basisObjectId;c[z]?delete c[z]:(f.push(h.object),this.members_[z]=h.object)}for(z in c)delete this.members_[z];if(this.left_)for(var k in this.left_)h=this.index_[this.orderDesc?d+Number(k)-1:a-Number(k)],this.left_[k].set(h?
h.object:null);if(this.right_)for(k in this.right_)h=this.index_[this.orderDesc?a-Number(k):d+Number(k)-1],this.right_[k].set(h?h.object:null);(e=D(f,p(c)))&&this.emit_itemsChanged(e);return e},left:function(a){a=parseInt(a,10)||0;this.left_||(this.left_={});var d=this.left_[a];if(!d){var d=this.offset,b=d+this.limit;this.orderDesc&&(d=this.index_.length-b,b=d+this.limit);d=this.index_[this.orderDesc?b+a-1:d-a];d=this.left_[a]=new R({value:d?d.object:null})}return d},right:function(a){a=parseInt(a,
10)||0;this.right_||(this.right_={});var d=this.right_[a];if(!d){var d=this.offset,b=d+this.limit;this.orderDesc&&(d=this.index_.length-b,b=d+this.limit);d=this.index_[this.orderDesc?d-a:b+a-1];d=this.right_[a]=new R({value:d?d.object:null})}return d},destroy:function(){z.prototype.destroy.call(this);if(this.left_){for(var a in this.left_)this.left_[a].destroy();this.left_=null}if(this.right_){for(a in this.right_)this.right_[a].destroy();this.right_=null}this.index_=null}});t=t(z,{className:l+".Cloud",
subsetClass:y,subsetWrapperClass:fa,rule:O(P),ruleEvents:J(function(a){var d=this.sourceMap_,b=this.members_,c=a.basisObjectId,m=d[c].list,d=d[c].list={},c=this.rule(a),f,e=[],g=[],h;if(Array.isArray(c))for(var k=0;k<c.length;k++)(h=this.keyMap.get(c[k],!0))&&!h.has(a)&&(p=h.basisObjectId,d[p]=h,m[p]||(h.dataset.emit_itemsChanged({inserted:[a]}),b[p]?b[p]++:(e.push(h),b[p]=1)));for(var p in m)d[p]||(h=m[p],h.dataset.emit_itemsChanged({deleted:[a]}),--b[p]||(delete b[p],g.push(h)));(f=D(e,g))&&this.emit_itemsChanged(f)},
"update"),keyMap:null,map:aa,listen:{source:{itemsChanged:function(a,b){var c=this.sourceMap_,m=this.members_,f=this.ruleEvents,e,g,h,p=[],k=[];B(!0);if(e=b.inserted)for(var z=0,v;v=e[z];z++){var E=this.rule(v),V={object:v,list:{}};c[v.basisObjectId]=V;if(Array.isArray(E))for(var K=0,y={};K<E.length;K++)(g=this.keyMap.get(E[K],!0))&&!y[g.basisObjectId]&&(h=g.basisObjectId,y[h]=!0,V.list[h]=g,g.dataset.emit_itemsChanged({inserted:[v]}),m[h]?m[h]++:(p.push(g),m[h]=1));f&&v.addHandler(f,this)}if(e=b.deleted)for(z=
0;v=e[z];z++){g=v.basisObjectId;E=c[g].list;delete c[g];for(h in E)g=E[h],g.dataset.emit_itemsChanged({deleted:[v]}),--m[h]||(delete m[h],k.push(g));f&&v.removeHandler(f,this)}B(!1);(b=D(p,k))&&this.emit_itemsChanged(b)}}},init:function(){this.keyMap&&0!=this.keyMap instanceof ka||(this.keyMap=H(this.keyMap,this.rule,this.subsetWrapperClass,this.subsetClass));z.prototype.init.call(this)},getSubset:function(a,b){return this.keyMap.get(a,b)},destroy:function(){z.prototype.destroy.call(this);this.keyMap.destroy();
this.keyMap=null}});fa=function(a,b){var c=b.inserted,m=b.deleted;c&&(c=g(this,c,a));m&&(m=h(this,m,a));(b=D(c,m))&&this.emit_itemsChanged(b)};var ma={itemsChanged:fa,destroy:function(a){for(var b=this.sourceMap_,c=b[a.basisObjectId];c=c.ref;)b[c.object.basisObjectId].value=null;delete b[a.basisObjectId]}};l=z.subclass({className:l+".Extract",rule:O(P),emit_ruleChanged:s("ruleChanged","oldRule"),ruleEvents:J(function(a){var b=this.sourceMap_[a.basisObjectId],m=this.rule(a)||null,f=b.value,e,p,z;if(m!==
f){if(m instanceof c||m instanceof y)e=g(this,m,a);f&&(p=h(this,f,a));b.value=m;(z=D(e,p))&&this.emit_itemsChanged(z)}},"update"),listen:{source:{itemsChanged:fa}},setRule:function(a){a=O(a||P);if(this.rule!==a){var b=this.rule;this.rule=a;this.emit_ruleChanged(b);return this.applyRule()}},applyRule:function(){var a={},b={},m,f;for(f in this.sourceMap_){var e=this.sourceMap_[f],z=e.source;if(z instanceof c){var v=this.rule(z)||null,E=e.value;if(v!==E){if(v instanceof c||v instanceof y)for(var V=g(this,
v,z),k=0;k<V.length;k++){var K=V[k],Y=K.basisObjectId;b[Y]?delete b[Y]:a[Y]=K}if(E)for(z=h(this,E,z),k=0;k<z.length;k++)K=z[k],Y=K.basisObjectId,a[Y]?delete a[Y]:b[Y]=K;e.value=v}}}(m=D(p(a),p(b)))&&this.emit_itemsChanged(m);return m}});M.exports={getDelta:D,createRuleEvents:J,Merge:qa,Subtract:a,SourceDataset:z,MapFilter:Y,Filter:L,Split:x,Extract:l,Slice:N,Cloud:t}},"g.js":function(l,M,a,s,t,L,x,N,fa){function D(a,b){if(!a.length)return 0;var c,f,e=0,d=a.length-1;do if(c=e+d>>1,f=a[c]||0,b<f)d=
c-1;else if(b>f)e=c+1;else return b==f?c:0;while(e<=d);return c+(f<b)}function J(){}function H(a,b,c){var f=a.indexCache_;a.lock();if(b)for(var e=0,d;d=b[e++];){var g=a.normalize(a.valueGetter(d));f[d.basisObjectId]=g;a.add_(g)}if(c)for(e=0;d=c[e++];)b=d.basisObjectId,a.remove_(f[b]),delete f[b];a.unlock()}function A(a,b){if(0==b instanceof J)throw 38;var c=a.basisObjectId,f=sa[c];f||(f=sa[c]={},a.addHandler(y),y.itemsChanged.call(a,a,{inserted:a.getItems()}));var c=b.indexId,e=f[c];if(!e){b=T[c];
if(!b)throw 39;e=new b.indexClass;e.addHandler(C,a);f[c]=e;H(e,a.getItems())}return e}function q(a,b){var c=sa[a.basisObjectId];if(c&&c[b.indexId]){delete c[b.indexId];b.removeHandler(C,a);for(var f in c)return;a.removeHandler(y);y.itemsChanged.call(a,a,{deleted:a.getItems()});delete sa[a.basisObjectId]}}function F(){return"calc-index-preset-"+a.number.lead(qa++,8)}l=this.path;var g=a.Class;s=a.require("./1.js");var h=s.Value,e=s.KeyObjectMap,p=s.ReadOnlyDataset,b=s.DatasetWrapper;s=a.require("./f.js");
var I=s.MapFilter,f=s.createRuleEvents,O=g(h,{className:l+".Index",autoDestroy:!0,indexCache_:null,valueGetter:a.fn.$null,updateEvents:{},value:0,setNullOnEmitterDestroy:!1,init:function(){this.indexCache_={};h.prototype.init.call(this)},add_:function(a){},remove_:function(a){},update_:function(a,b){},normalize:function(a){return Number(a)||0},destroy:function(){h.prototype.destroy.call(this);this.indexCache_=null}});s=g(O,{className:l+".Sum",add_:function(a){this.value+=a},remove_:function(a){this.value-=
a},update_:function(a,b){this.set(this.value-b+a)}});t=g(O,{className:l+".Count",valueGetter:a.fn.$true,add_:function(a){this.value+=a},remove_:function(a){this.value-=a},normalize:function(a){return!!a},update_:function(a,b){this.set(this.value-!!b+!!a)}});L=g(O,{className:l+".Avg",sum_:0,count_:0,add_:function(a){this.sum_+=a;this.count_+=1;this.value=this.sum_/this.count_},remove_:function(a){this.sum_-=a;--this.count_;this.value=this.count_?this.sum_/this.count_:0},update_:function(a,b){this.sum_+=
a-b;this.set(this.sum_/this.count_)}});x=g(O,{className:l+".VectorIndex",vectorGetter:a.fn.$null,vector_:null,value:void 0,init:function(){this.vector_=[];O.prototype.init.call(this)},add_:function(a){null!==a&&(this.vector_.splice(D(this.vector_,a),0,a),this.value=this.vectorGetter(this.vector_))},remove_:function(a){null!==a&&(this.vector_.splice(D(this.vector_,a),1),this.value=this.vectorGetter(this.vector_))},update_:function(a,b){null!==b&&this.vector_.splice(D(this.vector_,b),1);null!==a&&this.vector_.splice(D(this.vector_,
a),0,a);this.set(this.vectorGetter(this.vector_))},normalize:function(a){return"string"==typeof a||"number"==typeof a?a:null},destroy:function(){O.prototype.destroy.call(this);this.vector_=null}});N=g(x,{className:l+".Min",vectorGetter:function(a){return a[0]}});fa=g(x,{className:l+".Max",vectorGetter:function(a){return a[a.length-1]}});var aa=g(O,{className:l+".Distinct",map_:null,init:function(){this.map_={};O.prototype.init.call(this)},add_:function(a){this.map_.hasOwnProperty(a)||(this.map_[a]=
0);1==++this.map_[a]&&(this.value+=1)},remove_:function(a){0==--this.map_[a]&&--this.value},update_:function(a,b){var c=0;this.map_.hasOwnProperty(a)||(this.map_[a]=0);1==++this.map_[a]&&(c+=1);0==--this.map_[b]&&--c;c&&this.set(this.value+c)},normalize:String,destroy:function(){O.prototype.destroy.call(this);this.map_=null}}),T={},C={destroy:function(a){q(this,a)}},P=function(c,f){return function(e,h,n){var d;if(e instanceof p||e instanceof b)d=e,e=h,h=n;h||(h=e,e="");h=h||f;if(!g.isClass(c)||!c.isSubclassOf(O))throw 36;
h=a.getter(h);e=e||"update";if("string"!=typeof e)throw 37;e=e.trim().split(" ").sort();n=[c.basisClassId_,h[a.getter.ID],e].join("_");var v=T[n];if(v)h=v.owner;else{for(var E={},v=0;v<e.length;v++)E[e[v]]=!0;v=new J;T[n]={owner:v,indexClass:c.subclass({indexId:n,updateEvents:E,valueGetter:h})};v.indexId=n;h=v}return d?A(d,h):h}},V=P(t,a.fn.$true),K=P(s),E=P(L),v=P(N),R=P(fa),c=P(aa),ka={"*":function(a){var b,c,f=a.type,e=a.sender,d=e.basisObjectId,g=sa[this.basisObjectId],h;for(h in g)c=g[h],c.updateEvents[f]&&
(a=c.indexCache_[d],b=c.normalize(c.valueGetter(e)),b!==a&&(c.update_(b,a),c.indexCache_[d]=b))}},y={itemsChanged:function(a,b){var c;if(c=b.inserted)for(var f=c.length;0<f--;)c[f].addHandler(ka,this);if(c=b.deleted)for(f=c.length;0<f--;)c[f].removeHandler(ka,this);c=sa[this.basisObjectId];for(var e in c)H(c[e],b.inserted,b.deleted)},destroy:function(){var a=sa[this.basisObjectId],b;for(b in a)q(this,a[b])}},sa={},B=g(null,{className:l+".CalcIndexPreset",extendConstructor_:!0,indexes:{},calc:a.fn.$null}),
qa=1;l=g(I,{className:l+".IndexMap",calcs:null,indexes:null,indexes_:null,indexesBind_:null,timer_:void 0,indexUpdated:null,indexValues:null,memberSourceMap:null,keyMap:null,map:function(a){return this.keyMap.get(a,!0)},addMemberRef:function(a,b){this.memberSourceMap[a.basisObjectId]=b.basisObjectId;this.listen.member&&a.addHandler(this.listen.member,this);this.sourceMap_[b.basisObjectId].updated=!0;0<a.subscriberCount&&this.calcMember(a)},removeMemberRef:function(a,b){delete this.memberSourceMap[a.basisObjectId];
this.listen.member&&a.removeHandler(this.listen.member,this)},emit_sourceChanged:function(a){I.prototype.emit_sourceChanged.call(this,a);for(var b in this.indexes_){var c=this.indexes_[b];a&&(this.removeIndex(b),q(a,this.indexes[b]));this.source&&this.addIndex(b,A(this.source,c))}},listen:{index:{change:function(a){var b=this.indexMap;b.indexValues[this.key]=a.value;b.indexUpdated=!0;b.recalcRequest()}},member:{subscribersChanged:function(a,b){0<a.subscriberCount&&this.calcMember(a)}}},ruleEvents:f(function(a,
b){I.prototype.ruleEvents.update.call(this,a,b);this.sourceMap_[a.basisObjectId].updated=!0;this.recalcRequest()},"update"),init:function(){this.recalc=this.recalc.bind(this);this.indexUpdated=!1;this.indexesBind_={};this.memberSourceMap={};var b=this.indexes;this.indexes={};this.indexes_={};this.indexValues={};var c=this.calcs;this.calcs={};this.keyMap&&0!=this.keyMap instanceof e||(this.keyMap=new e(a.object.complete({create:function(a,b){return new this.itemClass(b)}},this.keyMap)));I.prototype.init.call(this);
a.object.iterate(b,this.addIndex,this);a.object.iterate(c,this.addCalc,this)},addIndex:function(a,b){if(!this.indexes[a]){if(b instanceof J){if(this.indexes_[a])return;this.indexes_[a]=b;b=this.source?A(this.source,b):null}if(b instanceof O){this.indexValues[a]=b.value;this.indexes[a]=b;this.indexesBind_[a]={key:a,indexMap:this};var c=this.listen.index;c&&(b.addHandler(c,this.indexesBind_[a]),c.change&&c.change.call(this.indexesBind_[a],b,b.value))}}},removeIndex:function(a){if(this.indexes_[a]||
this.indexes[a])this.indexes[a]&&this.listen.index&&this.indexes[a].removeHandler(this.listen.index,this.indexesBind_[a]),delete this.indexValues[a],delete this.indexesBind_[a],delete this.indexes[a],delete this.indexes_[a]},addCalc:function(a,b){if(b instanceof B){this.calcs[a]=b.calc;for(var c in b.indexes)this.addIndex(c,b.indexes[c])}else this.calcs[a]=b;this.recalcRequest()},removeCalc:function(a){var b=this.calcs[a];if(b&&b.preset instanceof B){var b=b.preset.indexes,c;for(c in b)this.removeIndex(c,
b[c])}delete this.calcs[a]},lock:function(){for(var a in this.indexes)this.indexes[a].lock()},unlock:function(){for(var a in this.indexes)this.indexes[a].unlock()},recalcRequest:function(){this.timer_||(this.timer_=a.setImmediate(this.recalc))},recalc:function(){for(var b in this.items_)this.calcMember(this.items_[b]);this.indexUpdated=!1;this.timer_=a.clearImmediate(this.timer_)},calcMember:function(a){var b=this.sourceMap_[this.memberSourceMap[a.basisObjectId]];if(a.subscriberCount&&(b.updated||
this.indexUpdated)){b.updated=!1;var c={},f,e,d,g;for(g in this.calcs)f=this.calcs[g](b.sourceObject.data,this.indexValues,b.sourceObject),e=a.data[g],a.data[g]===f||"number"==typeof f&&"number"==typeof e&&isNaN(f)&&isNaN(e)||(c[g]=f,d=!0);d&&a.update(c)}},getMember:function(a){return this.keyMap.get(a,!0)},destroy:function(){this.keyMap.destroy();this.keyMap=null;for(var b in this.indexes)this.removeIndex(b);I.prototype.destroy.call(this);this.timer_=a.clearImmediate(this.timer_);this.indexesBind_=
this.memberSourceMap=this.indexValues=this.indexes_=this.indexes=this.calcs=null}});M.exports={IndexConstructor:J,createIndexConstructor:P,getDatasetIndex:A,removeDatasetIndex:q,Index:O,Count:t,Sum:s,Avg:L,VectorIndex:x,Min:N,Max:fa,Distinct:aa,count:V,sum:K,avg:E,max:R,min:v,distinct:c,CalcIndexPreset:B,percentOfRange:function(b,c){var f="min_"+F(),e="max_"+F(),g={};g[f]=v(b,c);g[e]=R(b,c);c=a.getter(c||b);var d=function(a,b,d){return(c(d)-b[f])/(b[e]-b[f])};return d.preset=new B({indexes:g,calc:d})},
percentOfMax:function(b,c){var f="max_"+F(),e={};e[f]=R(b,c);c=a.getter(c||b);var g=function(a,b,e){return c(e)/b[f]};return g.preset=new B({indexes:e,calc:g})},percentOfSum:function(b,c){var f="sum_"+F(),e={};e[f]=K(c,b);b=a.getter(b||c);var g=function(a,c,e){return b(e)/c[f]};return g.preset=new B({indexes:e,calc:g})},IndexMap:l}},"h.js":function(l,M,a,s,t,L,x,N,fa){var D="undefined"!==typeof performance?performance:Date,J="webkitNow"in D?"webkitNow":"now";M.exports={time:function(a){return arguments.length?
parseInt(D[J]()-a):D[J]()},test:function(a,l){for(var q=this.time(),F=0;F<a;F++)l(F);return this.time(q)}}},"i.js":function(l,M,a,s,t,L,x,N,fa){function D(f){f.testcase&&a.dev.warn("`testcase` setting is deprecated, use `test` instead");var e=f.test||f.testcase;f=a.object.slice(f);a.object.splice(f,["test","testcase"]);e?a.resource.isResource(f)&&(e=e.fetch()):e=function(){};f.name||(f.name="Untitled test");f.beforeEach="function"==typeof f.beforeEach?b.getFnInfo(f.beforeEach).code:!1;f.afterEach=
"function"==typeof f.afterEach?b.getFnInfo(f.afterEach).code:!1;f={data:f};"function"==typeof e?(e=b.getFnInfo(e),f.data.async=!!e.args.length,f.data.testArgs=e.args,f.data.testSource=e.code,f.data.type="case",e=C):(f.childNodes=Array.isArray(e)?e:[],f.data.type="suite",e=P);return new e(f)}function J(a,b){var e=f.parse(a);"none"==b&&f.traverseAst(e,function(a){if("Program"!=a.type){if("FunctionExpression"==a.type){var b=f.getNodeRangeTokens(a),c=f.translateAst(e,b[0].range[0],b[1].range[1]);b[0].value=
"__wrapFunctionExpression("+b[0].value;b[1].value+=", "+c+")"}"FunctionDeclaration"==a.type&&(b=f.getNodeRangeTokens(a.body),b[0].value+="\ntry {\n",b[1].value="\n} catch(e) {__exception(e);throw e;}\n"+b[1].value);"CallExpression"==a.type&&"ExpressionStatement"==a.parentNode.type&&(b=f.getNodeRangeTokens(a)[0],c=1==a.arguments.length?a.arguments[0]:null,b.value="__isFor(["+a.range+"], "+(a.loc.end.line-1)+") || "+b.value,c&&"BinaryExpression"==c.type&&c.operator.match(/^(===?)$/)&&(b=f.getNodeRangeTokens(a.arguments[0].left),
c=f.getNodeRangeTokens(a.arguments[0].right),b[0].value='__actual("'+a.arguments[0].operator+'",'+b[0].value,b[1].value+=")",c[0].value="__expected("+c[0].value,c[1].value+=")"));if("BlockStatement"==a.parentNode.type||"Program"==a.parentNode.type)a=f.getNodeRangeTokens(a)[0],a.value="__enterLine("+(a.loc.start.line-1)+");"+a.value}});return f.translateAst(e,0,e.source.length)}var H=a.require("./1.js").STATE,A=a.require("./1.js").Value,q=a.require("./1.js").Object,F=a.require("./1.js").Dataset,g=
a.require("./e.js").Expression,h=a.require("./f.js").Split;a.require("./f.js");var e=a.require("./c.js").Node,p=a.require("./h.js").time,b=a.require("./s.js"),I=a.require("./k.js"),f=a.require("./l.js"),O=function(){},aa={update:function(b,f){if("content"in f){var e=a.resource.extensions[".js"](b.data.content,b.data.filename+"."+Math.random()),e=Array.isArray(e)?{test:e}:e,e=D(e);this.parentNode.replaceChild(e,this);this.destroy()}}},T=e.subclass({className:"AbstractTest",name:"",envRunner:null,init:function(){e.prototype.init.call(this)},
hasOwnEnvironment:function(){return Boolean(this.data.init||this.data.html||!this.parentNode)},getHtml:function(){for(var a=this;!a.data.html&&a.parentNode;)a=a.parentNode;return a.data.html},getEnvRunner:function(a){if(this.envRunner)return this.envRunner;var b;this.data.init||(b=this.parentNode&&this.parentNode.getEnvRunner(a));(this.data.init||this.data.html||!b)&&a&&(b=I.create(this.data.init,this.getHtml()),b.addHandler({destroy:function(){this.envRunner=null;this.reset()}},this),this.envRunner=
b);return b},reset:function(){this.envRunner&&(this.envRunner.destroy(),this.envRunner=null)},destroy:function(){e.prototype.destroy.call(this);this.envRunner&&(this.envRunner.destroy(),this.envRunner=null);this.file&&(this.file.removeHandler(aa,this),this.file=null)}}),C=T.subclass({className:"TestCase",name:"",testSource:null,testWrappedSources:null,childClass:null,getSourceCode:function(a,b){for(var f=this.data.testSource,e=this,g=[],c=[],h=0,p=0,F=0,I=0;e&&e instanceof T;)e.data.beforeEach&&g.unshift(e.data.beforeEach),
e.data.afterEach&&c.push(e.data.afterEach),e=e.parentNode;g.length&&(p=g.length,g=g.join("\n")+"\n// ----- before each end\n\n",h=g.match(/\n/g).length,f=g+f);c.length&&(I=c.length,c="\n\n// ----- after each start\n"+c.join("\n"),F=c.match(/\n/g).length,f+=c);if(!a)return{beforeLines:h,beforeCount:p,source:f,afterLines:F,afterCount:I};"number"!=typeof b&&(b="none");null===this.testWrappedSources&&(this.testWrappedSources={});this.testWrappedSources[b]||(this.testWrappedSources[b]="function("+this.data.testArgs.concat("assert",
"__isFor","__enterLine","__exception","__wrapFunctionExpression","__actual","__expected").join(", ")+"){\n"+J(f,b)+"\n}");return this.testWrappedSources[b]},reset:function(){T.prototype.reset.call(this);this.setState(H.UNDEFINED)},run:function(){var f=[],e=[],g=NaN,h,F,c=this.data.async?1:0,I=null,y=this.getSourceCode(),l,B,C,m={test:null,beforeLines:y.beforeLines,beforeCount:y.beforeCount,testSource:y.source,afterLines:y.afterLines,afterCount:y.afterCount,time:g,lastLine:0,pending:!1,successCount:0,
testCount:0,error:null,exception:null,errorLines:{},warns:null},z={async:function(b){c++;a.nextTick(function(){if(0<c)try{b.call(this)}catch(a){D(a)}finally{0<c&&(--c||Z())}}.bind(this))},is:function(a,c,d){var f;1==arguments.length?(f=b.isTruthy(a),l?(c=B,a=C):(c=a,a=!0)):f=b.compareValues(a,c,d);if(f&&I){var e=I.line,g=m.errorLines[e];g||(g=m.errorLines[e]=[]);g.push({num:m.testCount,node:I,error:f,expected:b.makeStaticCopy(a),expectedStr:b.value2string(a,!1,d),actual:b.makeStaticCopy(c),actualStr:b.value2string(c,
!1,d)})}l=!1;C=B=void 0;m.successCount+=!f;m.testCount++},report:m},A=function(a,b){l=a;return B=b},s=function(a){return C=a},n=function(a,b){m.lastLine=b;I={range:a,line:b}},d=function(a){m.lastLine=a},aa=function(a,b){var c=function(){try{return a.apply(this,arguments)}catch(b){throw D(b),40;}};c.originalFn_=b;return c},D=function(a){m.exception||(m.exception=a,m.testCount=0,m.successCount=0,Z("ERROR_TEST_CRASH"))},T=c?a.fn.runOnce(function(){0<c&&c--;c||Z()}):O,Z=function(b){g=p(h);F=clearTimeout(F);
c=0;b||m.testCount==m.successCount||(b="ERROR_TEST_FAULT");a.object.extend(m,{test:this,time:g,error:b,pending:!b&&!m.testCount,warns:f.length?f:null});this.setState(b||e.length?H.ERROR:H.READY,new q({data:m}))}.bind(this);this.setState(H.PROCESSING);if(this.data.pending)return Z();this.getEnvRunner(!0).run(this.getSourceCode(y),this,function(b){h=p();var f=z.is.bind(z);f.exception=f["throws"]=function(a){try{m.exception=!0,a(),f(!1)}catch(b){f(!0)}finally{m.exception=!1}};f.deep=function(a,b){f(a,
b,!0)};var e=a.array.create(this.data.testArgs.length);e.length&&(e[0]=T);e.push(f,n,d,D,aa,A,s);try{b.apply(z,e)}catch(g){return D(g)}c?F=setTimeout(function(){Z("ERROR_TIMEOUT")},this.data.timeout||250):Z()})}}),P=T.subclass({className:"TestSuite",childFactory:D,childClass:T,init:function(){T.prototype.init.call(this);this.nestedTests_=new F({items:this.childNodes.reduce(function(a,b){return a.concat(b instanceof P?b.nestedTests_.getItems():b)},[])});this.testByState_=new h({source:this.nestedTests_,
ruleEvents:"stateChanged",rule:function(a){return a.state==H.READY&&a.state.data.data.pending?"pending":String(a.state)}});this.state_=new g(A.from(this.nestedTests_,"itemsChanged","itemCount"),A.from(this.testByState_.getSubset("processing",!0),"itemsChanged","itemCount"),A.from(this.testByState_.getSubset("error",!0),"itemsChanged","itemCount"),A.from(this.testByState_.getSubset("ready",!0),"itemsChanged","itemCount"),A.from(this.testByState_.getSubset("pending",!0),"itemsChanged","itemCount"),
function(a,b,f,e,g){return a?0==b+f+e+g?[H.UNDEFINED]:b||f+e+g<a?[H.PROCESSING,(f+e)/a]:[f?H.ERROR:H.READY,new q({data:{pending:g==a,error:f?"ERROR_TEST_FAULT":null,testCount:a,successCount:e+g}})]:[H.READY,new q({data:{pending:!0,testCount:a,successCount:e}})]});this.state_.link(this,function(a){this.setState.apply(this,a)})},reset:function(){T.prototype.reset.call(this);this.childNodes.forEach(function(a){a.reset()})},destroy:function(){this.testByState_.destroy();this.testByState_=null;this.nestedTests_.destroy();
this.nestedTests_=null;this.state_.destroy();this.state_=null;T.prototype.destroy.call(this)}});M.exports={AbstractTest:T,TestCase:C,TestSuite:P,map:{},create:D}},"1.js":function(l,M,a,s,t,L,x,N,fa){function D(a,b){return function(){a.apply(this,arguments);b.apply(this,arguments)}}function J(a){var b=sa[a];if(!b)for(var d=[],f={},e=1,b=sa[a]={actions:d,handler:f};a;){if(a&1){var g=c[e];d.push(g.action);for(var k in g.handler)f[k]=f[k]?D(f[k],g.handler[k]):g.handler[k]}e<<=1;a>>=1}return b}function H(a,
b){for(;b&&b!==a&&b!==b.delegate;)b=b.delegate;return b===a}function A(a,b,c){var d=a.delegate;d&&(a.root=d.root,a.target=d.target,a.data=d.data,a.state=d.state);if(a.root!==b){if(d=a.listen.root)b&&b!==a&&b.removeHandler(d,a),a.root&&a.root!==a&&a.root.addHandler(d,a);a.emit_rootChanged(b)}if(a.target!==c){if(d=a.listen.target)c&&c!==a&&c.removeHandler(d,a),a.target&&a.target!==a&&a.target.addHandler(d,a);a.emit_targetChanged(c)}for(a=a.delegates_;a;)a.delegate&&A(a.delegate,b,c),a=a.next}function q(a,
b){var c={},d;a&&a.length&&(d=c.inserted=a);b&&b.length&&(d=c.deleted=b);if(d)return c}function F(a,b){if(a&&a.itemCount){if(b&&b.itemCount){var c=[],d=[],f;for(f in a.items_){var e=a.items_[f];0==e.basisObjectId in b.items_&&d.push(e)}for(f in b.items_)e=b.items_[f],0==e.basisObjectId in a.items_&&c.push(e);return q(c,d)}if(a.itemCount)return{deleted:a.getItems()}}else if(b&&b.itemCount)return{inserted:b.getItems()}}function g(){this.fn.call(this.context,this.source)}function h(a,b,c,d){var f=a[d]||
null,e=null;b!==g&&"function"==typeof c&&(c=c.call(a,a));if(c){var k=e=f&&f.source===c?f:null;c instanceof Ca?(e=k||new Aa(a,b,c,Ba),c=c.dataset):c.bindingBridge&&(e=k||new va(a,b,c,wa),c=h(e,g,c.value,"next"))}0==c instanceof Ea&&(c=null);d&&f!==e&&(f&&(f.detach(),f.next&&h(f,null,null,"next")),e&&e.attach($),a[d]=e);return c}function e(a,b,c,d){var f=a[d]||null,k=null;b!==g&&"function"==typeof c&&(c=c.call(a,a));c&&c.bindingBridge&&(k=f&&f.source===c?f:new va(a,b,c,wa),c=e(k,g,c.bindingBridge.get(c),
"next"));0==c instanceof Z&&(c=null);d&&f!==k&&(f&&(f.detach(),f.next&&e(f,null,null,"next")),k&&k.attach($),a[d]=k);return c}function p(a,b,c,d){var f=a[d]||null,e=null;c&&b!==g&&"function"==typeof c&&c.factory===E&&(c=c.call(a,a));c&&c.bindingBridge&&(e=f&&f.source===c?f:new va(a,b,c,wa),c=p(e,g,c.bindingBridge.get(c),"next"));d&&f!==e&&(f&&(f.detach(),f.next&&p(f,null,null,"next")),e&&e.attach(ea),a[d]=e);return c}function b(a){return Array.isArray(a)?a.map(function(a){return{data:a}}):{data:a}}
function I(a){a&&a.constructor===Object||(a={value:a});return new Z({data:a})}l=this.path;s=a.Class;var f=Array.prototype.slice,O=a.object.values,aa=a.fn.$self;L=a.require("./2.js");var T=L.Emitter;t=L.create;var C=L.createHandler,P=L.events,V={},K=[],E={},v={},R={priority:[],values:{},add:function(a,b){var c=a.toLowerCase();R[a]=c;v[c]=a;this.values[c]=a;b=b?this.priority.indexOf(b):-1;-1==b?this.priority.push(c):this.priority.splice(b,0,c)},getList:function(){return O(v)},factory:function(b,c){return d.factory(b,
a.getter(c,R.from))},from:function(a){return d.from(a,"stateChanged","state")||R.UNDEFINED}};R.add("READY");R.add("DEPRECATED");R.add("UNDEFINED");R.add("ERROR");R.add("PROCESSING");var c={},ka=1,y={NONE:0,ALL:0,link:function(a,b,c){a+=b.basisObjectId;var d=c.subscribers_;d||(d=c.subscribers_={});d[a]||(d[a]=b,1==(c.subscriberCount+=1)&&c.emit_subscribersChanged(1))},unlink:function(a,b,c){a+=b.basisObjectId;(b=c.subscribers_)&&b[a]&&(delete b[a],0==--c.subscriberCount&&(c.emit_subscribersChanged(-1),
c.subscribers_=null))},add:function(a,b,d){c[ka]={handler:b,action:d};y[a]=ka;y.ALL|=ka;ka<<=1},addProperty:function(a,b){var c={};c[b||a+"Changed"]=function(b,c){c instanceof B&&y.unlink(a,b,c);b[a]instanceof B&&y.link(a,b,b[a])};this.add(a.toUpperCase(),c,function(b,c){c[a]&&b(a,c,c[a])})}},sa={};y.addProperty("delegate");y.addProperty("target");y.addProperty("dataset");y.addProperty("value","change");var B=s(T,{className:l+".AbstractData",state:R.UNDEFINED,stateRA_:null,emit_stateChanged:t("stateChanged",
"oldState"),active:!1,activeRA_:null,emit_activeChanged:t("activeChanged"),subscribeTo:y.NONE,subscriberCount:0,subscribers_:null,emit_subscribersChanged:t("subscribersChanged","delta"),syncEvents:s.oneFunctionProperty(function(){this.isSyncRequired()&&this.syncAction()},{stateChanged:!0,subscribersChanged:!0}),syncAction:null,init:function(){T.prototype.init.call(this);this.active&&(this.active=!!p(this,this.setActive,this.active,"activeRA_"))&&this.addHandler(J(this.subscribeTo).handler);"string"!=
typeof this.state&&(this.state=String(p(this,this.setState,this.state,"stateRA_")));var a=this.syncAction;a&&(this.syncAction=null,this.setSyncAction(a))},setState:function(a,b){a=p(this,this.setState,a,"stateRA_");var c=String(a);if(!v[c])throw 3;this.stateRA_&&void 0===b&&(b=a.data);if(this.state!=c||this.state.data!=b){var d=this.state;this.state=Object(c);this.state.data=b;this.emit_stateChanged(d);return!0}return!1},deprecate:function(){this.state!=R.PROCESSING&&this.setState(R.DEPRECATED)},
setActive:function(a){a=!!p(this,this.setActive,a,"activeRA_");if(this.active!=a){this.active=a;this.emit_activeChanged();if(a){a=J(this.subscribeTo);for(var b=0,c;c=a.actions[b];b++)c(y.link,this);this.addHandler(a.handler)}else{a=J(this.subscribeTo);for(b=0;c=a.actions[b++];)c(y.unlink,this);this.removeHandler(a.handler)}return!0}return!1},setSubscription:function(a){var b=this.subscribeTo,d=a&y.ALL;if(a=b^d){this.subscribeTo=d;if(this.active){var f=J(b),d=J(d);this.removeHandler(f.handler);this.addHandler(d.handler);
for(f=1;a;)a&1&&(d=c[f],b&f?d.action(y.unlink,this):d.action(y.link,this)),f<<=1,a>>=1}return!0}return!1},isSyncRequired:function(){return 0<this.subscriberCount&&(this.state==R.UNDEFINED||this.state==R.DEPRECATED)},setSyncAction:function(a){var b=this.syncAction;"function"!=typeof a&&(a=null);(this.syncAction=a)?(b||this.addHandler(this.syncEvents),this.isSyncRequired()&&this.syncAction()):b&&this.removeHandler(this.syncEvents)},destroy:function(){T.prototype.destroy.call(this);if(this.active)for(var a=
J(this.subscribeTo),b=0,c;c=a.actions[b];b++)c(y.unlink,this);this.activeRA_&&p(this,!1,!1,"activeRA_");this.stateRA_&&p(this,!1,!1,"stateRA_");this.state=R.UNDEFINED}}),qa=a.getter.ID,m={destroy:function(a){this.value.unlink(a,this.fn)}},z={destroy:function(a){this.set(null)}},Y={},ma={},n=function(a){this.set(this.fn(a))},d=s(B,{className:l+".Value",subscribeTo:y.VALUE,emit_change:t("change","oldValue")&&function(a){P.change.call(this,a);for(var b=this;b=b.links_;)b.fn.call(b.context,this.value,
a)},value:null,initValue:null,proxy:null,locked:0,lockedValue_:null,links_:null,setNullOnEmitterDestroy:!0,bindingBridge:{attach:function(a,b,c,d){a.link(c,b,!0,d)},detach:function(a,b,c){a.unlink(c,b)},get:function(a){return a.value}},init:function(){B.prototype.init.call(this);this.proxy&&(this.value=this.proxy(this.value));this.setNullOnEmitterDestroy&&this.value instanceof T&&this.value.addHandler(z,this);this.initValue=this.value},set:function(a){var b=this.value;a=this.proxy?this.proxy(a):a;
var c=a!==b;c&&(this.setNullOnEmitterDestroy&&(b instanceof T&&b.removeHandler(z,this),a instanceof T&&a.addHandler(z,this)),this.value=a,this.locked||this.emit_change(b));return c},reset:function(){this.set(this.initValue)},isLocked:function(){return 0<this.locked},lock:function(){this.locked++;1==this.locked&&(this.lockedValue_=this.value)},unlock:function(){if(this.locked&&(this.locked--,!this.locked)){var a=this.lockedValue_;this.lockedValue_=null;this.value!==a&&this.emit_change(a)}},compute:function(b,
c){c||(c=b,b=null);c||(c=aa);var d=this,f=C(b,function(a){this.set(c(a,d.value))}),e=f.events.concat(c[qa]||String(c),this.basisObjectId).join("_"),g=Y[e];if(!g){var k={};f.destroy=function(a){delete k[a.basisObjectId];this.destroy()};this.addHandler({change:function(){for(var a in k){var b=k[a];b.token.set(c(b.object,this.value))}},destroy:function(){for(var a in k){var b=k[a];b.object.removeHandler(f,b.token);b.token.destroy()}d=k=null}});g=Y[e]=function(b){var e=b.basisObjectId,g=k[e],h=c(b,d.value);
g?g.token.set(h):(g=new a.Token(h),b.addHandler(f,g),g=k[e]={token:g,object:b});return g.token};g.factory=E;g.deferred=function(){return function(a){return g(a).deferred()}}}return g},as:function(b,c){b||(b=aa);if(this.links_)for(var d=this,f=b[qa]||String(b);d=d.links_;){var e=d.context;if(e instanceof a.Token&&(e.fn[qa]||String(e.fn))==f)return c?e.deferred():e}d=new a.Token;d.fn=b;this.link(d,n);return c?d.deferred():d},deferred:function(a){return this.as(a,!0)},link:function(a,b,c,d){if("function"!=
typeof b){var f=String(b);(b=ma[f])||(b=ma[f]=function(a){this[f]=a})}this.links_={value:this,context:a,fn:b,destroy:d||null,links_:this.links_};a instanceof T&&a.addHandler(m,this.links_);c||b.call(a,this.value);return a},unlink:function(b,c){for(var d=this,f;f=d,d=d.links_;)d.context!==b||c&&d.fn!==c||(d.fn=a.fn.$undef,f.links_=d.links_,d.context instanceof T&&d.context.removeHandler(m,d))},destroy:function(){B.prototype.destroy.call(this);this.setNullOnEmitterDestroy&&this.value instanceof T&&
this.value.removeHandler(z,this);for(var a=this;a=a.links_;)a.context instanceof T&&a.context.removeHandler(m,a),a.destroy&&a.destroy.call(a.context);this.links_=this.lockedValue_=this.value=this.initValue=this.proxy=null}}),ga={},ra=function(a){d.prototype.set.call(this,a)};d.from=function(b,c,f){var e;if(!b)return null;if(b instanceof T){f||(f=c,c=null);f||(f=aa);var g=C(c,ra),k=g.events.concat(f[qa]||String(f),b.basisObjectId).join("_");e=ga[k];e||(e=ga[k]=new d({value:b,proxy:a.getter(f),set:a.fn.$undef,
handler:{destroy:function(){ga[k]=null;b.removeHandler(g,this)}}}),g.destroy=function(a){ga[k]=null;this.destroy()},b.addHandler(g,e))}if(!e){var k=b.basisObjectId,h=b.bindingBridge;k&&h&&(e=ga[k],e||(e=ga[k]=new d({value:h.get(b),set:a.fn.$undef,handler:{destroy:function(){ga[k]=null;h.detach(b,d.prototype.set,e)}}}),h.attach(b,d.prototype.set,e,e.destroy)))}if(!e)throw 4;return e};d.factory=function(a,b){var c=function(c){return d.from(c,a,b)};c.factory=E;return c};var Da={},Z=s(B,{className:l+
".Object",subscribeTo:y.DELEGATE+y.TARGET,data:null,emit_update:t("update","delta")&&function(a){var b=this.delegates_;for(P.update.call(this,a);b;)b.delegate&&b.delegate.emit_update(a),b=b.next},emit_stateChanged:function(a){var b=this.delegates_;for(B.prototype.emit_stateChanged.call(this,a);b;)b.delegate&&(b.delegate.state=this.state,b.delegate.emit_stateChanged(a)),b=b.next},delegate:null,delegateRA_:null,delegates_:null,emit_delegateChanged:t("delegateChanged","oldDelegate"),target:null,emit_targetChanged:t("targetChanged",
"oldTarget"),root:null,emit_rootChanged:t("rootChanged","oldRoot"),init:function(){this.root=this;B.prototype.init.call(this);var a=this.delegate,b=this.data;a?(this.target=this.delegate=null,this.data=Da,this.setDelegate(a),this.data===Da&&(this.data=b||{})):(b||(this.data={}),null!==this.target&&(this.target=this))},setDelegate:function(a){if((a=e(this,this.setDelegate,a,"delegateRA_"))&&a instanceof Z){if(a.delegate&&H(this,a))return!1}else a=null;if(this.delegate!==a){var b=this.state,c=this.data,
d=this.delegate,f=this.target,g=this.root,k=this.listen.delegate,u=!1,G;if(d){k&&d.removeHandler(k,this);for(var h=d.delegates_,m=d;h;){if(h.delegate===this){h.delegate=null;m===d?d.delegates_=h.next:m.next=h.next;break}m=h;h=h.next}}if(a){if(this.delegate=a,k&&a.addHandler(k,this),a.delegates_={delegate:this,next:a.delegates_},this.data!==Da){G={};for(var n in a.data)!1===n in c&&(u=!0,G[n]=void 0);for(n in c)c[n]!==a.data[n]&&(u=!0,G[n]=c[n])}}else for(n in this.target=this.delegate=null,this.root=
this,this.data={},c)this.data[n]=c[n];A(this,g,f);u&&this.emit_update(G);!G||b===this.state||String(b)==this.state&&b.data===this.state.data||this.emit_stateChanged(b);this.emit_delegateChanged(d);return!0}return!1},setState:function(a,b){return this.delegate?this.root.setState(a,b):B.prototype.setState.call(this,a,b)},update:function(a){if(this.delegate)return this.root.update(a);if(a){var b={},c=!1,d;for(d in a)this.data[d]!==a[d]&&(c=!0,b[d]=this.data[d],this.data[d]=a[d]);if(c)return this.emit_update(b),
b}return!1},destroy:function(){B.prototype.destroy.call(this);var a=this.delegates_;for(this.delegates_=null;a;)a.delegate.setDelegate(),a=a.next;this.delegate&&this.setDelegate();this.delegateRA_&&e(this,!1,!1,"delegateRA_");this.data=V;this.target=this.root=null}});L=s(Z,{className:l+".Slot"});var ua={destroy:function(){delete this.map[this.id]}};x=s(B,{className:l+".KeyObjectMap",itemClass:Z,keyGetter:a.getter(aa),autoDestroyMembers:!0,map_:null,extendConstructor_:!0,init:function(){this.map_=
{};B.prototype.init.call(this)},resolve:function(a){return this.get(this.keyGetter(a),a)},create:function(a,b){return new this.itemClass(a instanceof Z?{delegate:a}:{data:{id:a,title:a}})},get:function(a,b){var c=a instanceof Z?a.basisObjectId:a,d=this.map_[c];!d&&b&&(d=this.map_[c]={map:this.map_,id:c,item:this.create(a,b)},d.item.addHandler(ua,d));if(d)return d.item},destroy:function(){B.prototype.destroy.call(this);var a=this.map_;this.map_=null;for(var b in a){var c=a[b];this.autoDestroyMembers?
c.item.destroy():c.item.removeHandler(ua,c)}}});var Ca=s(Z,{className:l+".DatasetWrapper",subscribeTo:Z.prototype.subscribeTo+y.DATASET,listen:{dataset:{itemsChanged:function(a,b){this.itemCount=a.itemCount;this.emit_itemsChanged(b)},destroy:function(){this.setDataset()}}},dataset:null,datasetRA_:null,emit_datasetChanged:t("datasetChanged","oldDataset"),emit_itemsChanged:t("itemsChanged","delta"),init:function(){Z.prototype.init.call(this);var a=this.dataset;a&&(this.dataset=null,this.setDataset(a))},
setDataset:function(a){a=h(this,this.setDataset,a,"datasetRA_");if(this.dataset!==a){var b=this.listen.dataset,c=this.dataset,d;b&&(c&&c.removeHandler(b,this),a&&a.addHandler(b,this));this.itemCount=a?a.itemCount:0;this.dataset=a;(d=F(c,a))&&this.emit_itemsChanged(d);this.emit_datasetChanged(c)}},has:function(a){return this.dataset?this.dataset.has(a):null},getItems:function(){return this.dataset?this.dataset.getItems():[]},getValues:function(a){return this.dataset?this.dataset.getValues(a):[]},pick:function(){return this.dataset?
this.dataset.pick():null},top:function(a){return this.dataset?this.dataset.top(a):[]},forEach:function(a){if(this.dataset)return this.dataset.forEach(a)},destroy:function(){(this.dataset||this.datasetRA_)&&this.setDataset();Z.prototype.destroy.call(this)}}),Ea=s(B,{className:l+".ReadOnlyDataset",itemCount:0,items_:null,members_:null,cache_:null,emit_itemsChanged:t("itemsChanged","delta")&&function(a){var b,c=0,d=0,f;if(b=a.inserted)for(;f=b[c];)this.items_[f.basisObjectId]=f,c++;if(b=a.deleted)for(;f=
b[d];)delete this.items_[f.basisObjectId],d++;this.itemCount+=c-d;this.cache_=c==this.itemCount?a.inserted:null;P.itemsChanged.call(this,a)},init:function(){B.prototype.init.call(this);this.members_={};this.items_={}},has:function(a){return!(!a||!this.items_[a.basisObjectId])},getItems:function(){this.cache_||(this.cache_=O(this.items_));return this.cache_},getValues:function(b){return this.getItems().map(a.getter(b||aa))},pick:function(){for(var a in this.items_)return this.items_[a];return null},
top:function(a){var b=[];if(a)for(var c in this.items_)if(b.push(this.items_[c])>=a)break;return b},forEach:function(a){for(var b=this.getItems(),c=0;c<b.length;c++)a(b[c])},destroy:function(){B.prototype.destroy.call(this);this.cache_=K;this.itemCount=0;this.items_=this.members_=null}}),k=s(Ea,{className:l+".Dataset",listen:{item:{destroy:function(a){this.remove([a])}}},init:function(){Ea.prototype.init.call(this);var a=this.items;a&&(this.items=null,this.set(a))},add:function(a){var b=this.members_,
c=this.listen.item,d=[],f;a&&!Array.isArray(a)&&(a=[a]);for(var e=0;e<a.length;e++){var g=a[e];if(g instanceof Z){var u=g.basisObjectId;b[u]||(b[u]=g,c&&g.addHandler(c,this),d.push(g))}}d.length&&this.emit_itemsChanged(f={inserted:d});return f},remove:function(a){var b=this.members_,c=this.listen.item,d=[],f;a&&!Array.isArray(a)&&(a=[a]);for(var e=0;e<a.length;e++){var g=a[e];if(g instanceof Z){var u=g.basisObjectId;b[u]&&(c&&g.removeHandler(c,this),delete b[u],d.push(g))}}d.length&&this.emit_itemsChanged(f=
{deleted:d});return f},set:function(a){if(!this.itemCount)return this.add(a);if(!a||!a.length)return this.clear();for(var b=this.members_,c=this.listen.item,d={},f=[],e=[],g,u,k,h=0;h<a.length;h++)g=a[h],g instanceof Z&&(u=g.basisObjectId,d[u]=g,b[u]||(b[u]=g,c&&g.addHandler(c,this),e.push(g)));for(u in b)d[u]||(g=b[u],c&&g.removeHandler(c,this),delete b[u],f.push(g));(k=q(e,f))&&this.emit_itemsChanged(k);return k},sync:function(a){a=this.set(a)||{};var b=a.deleted;k.setAccumulateState(!0);if(b)for(var c=
0,d;d=b[c];c++)d.destroy();k.setAccumulateState(!1);return a.inserted},clear:function(){var a=this.getItems(),b=this.listen.item,c;if(a.length){if(b)for(c=0;c<a.length;c++)a[c].removeHandler(b,this);this.emit_itemsChanged(c={deleted:a});this.members_={}}return c},destroy:function(){this.clear();Ea.prototype.destroy.call(this)}}),Aa=function(a,b,c,d){this.context=a;this.fn=b;this.source=c;this.handler=d};Aa.prototype={context:null,fn:null,source:null,handler:null,next:null,attach:function(){this.source.addHandler(this.handler,
this)},detach:function(){this.source.removeHandler(this.handler,this)}};var va=function(){Aa.apply(this,arguments)};va.prototype=new Aa;va.prototype.attach=function(a){this.source.bindingBridge.attach(this.source,this.handler,this,a)};va.prototype.detach=function(){this.source.bindingBridge.detach(this.source,this.handler,this)};var wa=function(){this.fn.call(this.context,this.source)},$=function(){this.fn.call(this.context,null)},ea=function(){this.fn.call(this.context,p(V,null,this.source.bindingBridge.get(this.source)))},
Ba={datasetChanged:wa,destroy:$};k.setAccumulateState=function(){function b(){var a=g;g={};for(var c in a){var d=a[c];d&&u.call(d.dataset,d)}}function c(a){var b=this.basisObjectId,d=a.inserted,e=a.deleted,k=g[b];if(d&&e||k&&k.mixed)k&&(g[b]=null,u.call(k.dataset,k)),u.call(this,a);else if(k){a=d?"inserted":"deleted";var h=k[a];if(h)h.push.apply(h,d||e);else{for(var h=d?"deleted":"inserted",m=k[h],n={},d=d||e,e=[],p=0,v=0;v<m.length;v++)n[m[v].basisObjectId]=v;for(v=0;v<d.length;v++){var Z=d[v].basisObjectId;
0==Z in n?e.push(d[v]):(p||(m=f.call(m)),p++,m[n[Z]]=null)}p&&(m=p<m.length?m.filter(Boolean):null,k[h]=m);e.length?(k[a]=e,m&&(k.mixed=!0)):m||(g[b]=null)}}else g[b]={inserted:d,deleted:e,dataset:this,mixed:!1}}function d(){h=null;k&&(k=0,e.emit_itemsChanged=u,b())}var e=Ea.prototype,g={},k=0,h,u;return function(f){f?(0==k&&(u=e.emit_itemsChanged,e.emit_itemsChanged=c,h||(h=a.setImmediate(d))),k++):(k-=0<k,0==k&&(e.emit_itemsChanged=u,b()))}}();M.exports={STATE:R,SUBSCRIPTION:y,FACTORY:E,PROXY:d.factory("subscribersChanged",
"subscriberCount"),AbstractData:B,Value:d,Object:Z,Slot:L,KeyObjectMap:x,ReadOnlyDataset:Ea,Dataset:k,DatasetWrapper:Ca,isConnected:H,getDatasetDelta:F,ResolveAdapter:Aa,resolveDataset:h,resolveObject:e,resolveValue:p,wrapData:b,wrapObject:I,wrap:function(a,c){var d=c?I:b;return Array.isArray(a)?a.map(d):d(a)}}},"j.js":function(l,M,a,s,t,L,x,N,fa){function D(l){if(0<l[a.getter.ID]){var A="getter(";if("string"==typeof l.base)A+='"'+l.base.replace(/"/g,'\\"')+'"';else if(l.mod)A+=D(l.base);else return D(l.base);
l.mod&&(A="string"==typeof l.mod?A+(', "'+l.mod.replace(/"/g,'\\"')+'"'):A+(", "+D(l.mod)));return A+")"}return Function.prototype.toString.call(l)}function J(a){function l(b,h){2!=arguments.length&&(h=e);g!=h&&(F.push([b||"content",a.substring(g,h)]),g=h)}for(var q=a.split(""),F=[],g=0,h,e=0;e<q.length;e++)a:{var p=q[e];switch(p){case "/":l();h=e;if("/"===q[h+1]){for(h+=2;h<q.length&&"\n"!==q[h]&&"\r"!==q[h];)h++;l("comment",h);e=g-1;break}if("*"==q[h+1]){for(h+=2;h<q.length&&("*"!==q[h]||"/"!==
q[h+1]);)h++;l("comment",h+2);e=g-1;break}for(;h<q.length;){h++;if("\n"==q[h])break a;if("\\"==q[h])h++;else if(q[h]==p)break}l("regexp",h+1);e=g-1;break;case '"':case "'":l();for(h=e;h<q.length;)if(h++,"\\"==q[h])h++;else if(q[h]==p)break;l("string",h+1);e=g-1;break;case "(":case "{":l();g=e+1;F.push(["open",p]);break;case ")":case "}":l();g=e+1;F.push(["close",p]);break;default:if(/\s/.test(p)){l();for(h=e+1;h<q.length&&/\s/.test(q[h]);)h++;l("space",h);e=g-1}}}l();return F}M.exports={fn:function(a){var l=
D(a);a=Function.prototype.toString.call(a);for(var q=J(a),F="anonymous",g=!1,h=!0,e=[],p;(p=q.shift())&&"{"!=p[1];)"content"==p[0]?(h=!0,g?e.push(p[1]):"function"!=p[1]&&(F=p[1])):g||(g=h&&"("==p[1]);for(;(p=q.pop())&&"}"!=p[1];);for(g=0;g<q.length;g++)q[g]=q[g][1];e=e.join("").trim().replace(/\s*,\s*/g,", ");return{source:a,name:F,fullname:F+"("+e+")",args:e,body:q.join(""),getter:l!=a?l:!1}}}},"k.js":function(l,M,a,s,t,L,x,N,fa){var D;s.document&&(D=a.require("./t.js"));M.exports={create:function(a,
l){return new D({initEnv:a,html:l})}}},"t.js":function(l,M,a,s,t,L,x,N,fa){function D(a,l){(a.execScript||function(l){a.eval.call(a,l)})(l)}var J=a.require("./j.js").fn,H=a.require("./3.js").Node;l=H.subclass({applyEnvironment:null,initEnv:null,html:null,postInit:function(){H.prototype.postInit.call(this);a.doc.body.add(this.element)},template:a.template.get("#1"),binding:{src:function(l){return l.html&&"default"!=l.html?l.html:a.path.resolve(a.require("./k.js").baseURI||"","res/_OXc_YC-JNYkD4Cy89EBCg.html")}},
action:{ready:function(){var l=this.element.contentWindow,q="",F=a.resource("./0.code").fetch();"function"==typeof F&&(F=J(F).body);D(l,F);"function"==typeof this.initEnv&&(q=J(this.initEnv).body);this.applyEnvironment=l.__initTestEnvironment(q,function(){this.destroy()}.bind(this));this.runArgs&&(this.run.apply(this,this.runArgs),this.runArgs=null)}},run:function(a,l,F){this.applyEnvironment?F.call(l,this.applyEnvironment(a)):this.runArgs=arguments},destroy:function(){H.prototype.destroy.call(this);
this.runArgs=this.applyEnvironment=null}});M.exports=l},"0.js":function(l,M,a,s,t,L,x,N,fa){function D(a,g){if(a.data.filename_===g)return a;if(a.childNodes)for(var h=0,e;e=a.childNodes[h];h++)if(e=D(e,g))return e}l=a.require("./1.js").Value;t=a.require("./1.js").Object;L=a.require("./3.js").Node;var J=a.require("./d.js"),H=a.require("./u.js");x=a.require("./v.js");var A=new t({getChildNodesDataset:function(){}});H.addHandler({delegateChanged:function(){for(var a=this;!a.data.filename_&&a.root.parentNode;)a=
a.root.parentNode;location.hash="#"+(a.root.parentNode&&a.data.filename_?a.data.filename_:"")},childNodesModified:function(){J.loadTests(this.childNodes.slice(0))}});H.selection.addHandler({itemsChanged:function(a){this.setDelegate(a.pick())}},x);x.selection.addHandler({itemsChanged:function(a){(a=a.pick())&&this.setDelegate(a.root)}},H);var q=new L({template:a.template.get("#9"),action:{reset:function(){H.setDelegate(A)},run:function(){J.run()}},binding:{toc:H,tests:x,name:l.from(A,"update","data.name"),
time:J.time,total:J.count.total,assert:J.count.assert,left:J.count.left,done:J.count.done}});M.exports={loadTests:function(l,g){Array.isArray(l)&&(l={test:l});var h=a.require("./i.js").create(l),e=location.hash.substr(1),p;e&&(p=D(h,e));H.setDelegate(p||A);A.setDelegate(h)}};a.config.exports?s.basisjsTestRunner=a.object.extend(M.exports,{setup:function(l){for(var g in l){var h=l[g];switch(g){case "element":"string"==typeof h&&(h=document.getElementById(h));a.nextTick(function(){this.appendChild(q.element)}.bind(h));
break;case "baseURI":a.require("./k.js").baseURI=h}}},run:function(){J.run()}}):a.ready(function(){a.doc.body.add(q.element)})},"2.js":function(l,M,a,s,t,L,x,N,fa){function D(a){var l=H[a];l||(l=function(){for(var g=this,h,e;g=g.handler;){e=g.callbacks[a];if("function"==typeof e){if(!h){h=[this];for(var p=0;p<arguments.length;p++)h.push(arguments[p])}e.apply(g.context||this,h)}e=g.callbacks["*"];if("function"==typeof e){if(!h)for(h=[this],p=0;p<arguments.length;p++)h.push(arguments[p]);e.call(g.context||
this,{sender:this,type:a,args:h})}}},H[a]=l);return l}l=a.Class;var J={},H={},A=function(){};l=l(null,{className:this.path+".Emitter",extendConstructor_:!0,handler:null,emit_destroy:D("destroy"),listen:l.nestedExtendProperty(),init:function(){this.handler&&!this.handler.callbacks&&(this.handler={callbacks:this.handler,context:this,handler:null})},addHandler:function(a,l){this.handler={callbacks:a,context:l||this,handler:this.handler}},removeHandler:function(a,l){var g=this,h;for(l=l||this;h=g,g=g.handler;)if(g.callbacks===
a&&g.context===l){g.callbacks=J;h.handler=g.handler;break}},destroy:function(){this.destroy=A;this.emit_destroy();this.handler=null}});M.exports={create:D,createHandler:function(a,l){var g={events:[]};if(a){a=String(a).trim().split(/\s+|\s*,\s*/).sort();for(var g={events:a},h=0,e;e=a[h];h++)"destroy"!=e&&(g[e]=l)}return g},events:H,Emitter:l}},"l.js":function(l,M,a,s,t,L,x,N,fa){function D(a,g){var h=g.call(null,a);if(h)return 1==h?h:!1;for(var h=q[a.type],e=0,p;p=h[e];e++)if(p=a[p],"object"==typeof p&&
null!==p)if(Array.isArray(p))for(var b=0,l;l=p[b];b++){if(D(l,g)&1)return 1}else if(D(p,g)&1)return 1}function J(a,g,h){for(var e,p=0,b,l;p<a.tokens.length;p++)if(l=a.tokens[p],!(l.range[0]<g)){if(l.range[1]>h){l=b;break}e||(e=l);b=l}return[e,l]}function H(a,g,h){for(var e=a.source,p=[],b=0,l,f;b<a.tokens.length;b++)if(f=a.tokens[b],!(f.range[0]<g)){if(f.range[1]>h){f=l;break}(l=e.substring(l?l.range[1]:g,f.range[0]))&&p.push(l);p.push(f.value);l=f}p.push(e.substring(f?f.range[1]:g,h));return p.join("")}
var A=a.require("./m.js"),q={ArrayExpression:["elements"],AssignmentExpression:["left","right"],BinaryExpression:["left","right"],BlockStatement:["body"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DoWhileStatement:["test","body"],EmptyStatement:[],ExpressionStatement:["expression"],ForInStatement:["left","right","body"],ForStatement:["init","test",
"update","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","defaults","body"],Identifier:[],IfStatement:["test","consequent","alternate"],LabeledStatement:["label","body"],Literal:[],LogicalExpression:["left","right"],MemberExpression:["object","property"],NewExpression:["callee","arguments"],ObjectExpression:["properties"],Program:["body"],Property:["key","value"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SwitchCase:["test","consequent"],SwitchStatement:["discriminant",
"cases"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handlers","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"]};M.exports={TRAVERSE_ABORT:1,TRAVERSE_STOP_DEEP:2,parse:function(a){function g(a){for(var p=q[a.type],b=0,l;l=p[b];b++){var f=a[l];"object"==typeof f&&null!==f&&(Array.isArray(f)?f.forEach(function(b){g(b);b.root=
h;b.parentNode=a;b.parentCollection=f}):(g(f),f.root=h,f.parentNode=a))}}var h=A.parse(a,{loc:!0,range:!0,comment:!0,tokens:!0});g(h);h.source=a;return h.root=h},traverseAst:D,translateAst:H,translateNode:function(a){return H(a.root,a.range[0],a.range[1])},getRangeTokens:J,getNodeRangeTokens:function(a){return J(a.root,a.range[0],a.range[1])}}},"m.js":function(l,M,a,s,t,L,x,N,fa){(function(a,s){"function"===typeof define&&define.amd?define(["exports"],s):"undefined"!==typeof l?s(l):s(a.esprima={})})(this,
function(a){function l(a,b){return U.slice(a,b)}function s(a){return 0<="0123456789".indexOf(a)}function A(a){return 0<="01234567".indexOf(a)}function q(a){return" "===a||"\t"===a||"\x0B"===a||"\f"===a||" "===a||5760<=a.charCodeAt(0)&&0<=" ᠎             　﻿".indexOf(a)}function F(a){return"\n"===a||"\r"===a||"\u2028"===a||"\u2029"===a}function g(a){return"$"===a||"_"===a||"\\"===a||"a"<=a&&"z">=a||"A"<=a&&"Z">=a||128<=a.charCodeAt(0)&&$a.NonAsciiIdentifierStart.test(a)}function h(a){return"$"===a||
"_"===a||"\\"===a||"a"<=a&&"z">=a||"A"<=a&&"Z">=a||"0"<=a&&"9">=a||128<=a.charCodeAt(0)&&$a.NonAsciiIdentifierPart.test(a)}function e(a){switch(a){case "class":case "enum":case "export":case "extends":case "import":case "super":return!0}return!1}function p(a){switch(a){case "implements":case "interface":case "package":case "private":case "protected":case "public":case "static":case "yield":case "let":return!0}return!1}function b(a){return"eval"===a||"arguments"===a}function I(a){var b=!1;switch(a.length){case 2:b=
"if"===a||"in"===a||"do"===a;break;case 3:b="var"===a||"for"===a||"new"===a||"try"===a;break;case 4:b="this"===a||"else"===a||"case"===a||"void"===a||"with"===a;break;case 5:b="while"===a||"break"===a||"catch"===a||"throw"===a;break;case 6:b="return"===a||"typeof"===a||"delete"===a||"switch"===a;break;case 7:b="default"===a||"finally"===a;break;case 8:b="function"===a||"continue"===a||"debugger"===a;break;case 10:b="instanceof"===a}if(b)return!0;switch(a){case "const":return!0;case "yield":case "let":return!0}return xa&&
p(a)?!0:e(a)}function f(){var a,b,c;for(c=b=!1;r<la;)if(a=U[r],c)a=U[r++],F(a)&&(c=!1,"\r"===a&&"\n"===U[r]&&++r,++da,ja=r);else if(b)F(a)?("\r"===a&&"\n"===U[r+1]&&++r,++da,++r,ja=r,r>=la&&R({},W.UnexpectedToken,"ILLEGAL")):(a=U[r++],r>=la&&R({},W.UnexpectedToken,"ILLEGAL"),"*"===a&&(a=U[r],"/"===a&&(++r,b=!1)));else if("/"===a)if(a=U[r+1],"/"===a)r+=2,c=!0;else if("*"===a)r+=2,b=!0,r>=la&&R({},W.UnexpectedToken,"ILLEGAL");else break;else if(q(a))++r;else if(F(a))++r,"\r"===a&&"\n"===U[r]&&++r,++da,
ja=r;else break}function O(a){var b,c,d=0;b="u"===a?4:2;for(a=0;a<b;++a)if(r<la&&0<="0123456789abcdefABCDEF".indexOf(U[r]))c=U[r++],d=16*d+"0123456789abcdef".indexOf(c.toLowerCase());else return"";return String.fromCharCode(d)}function aa(){var a,b,c,d;a=U[r];if(g(a)){b=r;if("\\"===a){++r;if("u"!==U[r])return;++r;d=r;if(a=O("u")){if("\\"===a||!g(a))return;c=a}else r=d,c="u"}else c=U[r++];for(;r<la;){a=U[r];if(!h(a))break;if("\\"===a){++r;if("u"!==U[r])return;++r;d=r;if(a=O("u")){if("\\"===a||!h(a))return;
c+=a}else r=d,c+="u"}else c+=U[r++]}return 1===c.length?{type:X.Identifier,value:c,lineNumber:da,lineStart:ja,range:[b,r]}:I(c)?{type:X.Keyword,value:c,lineNumber:da,lineStart:ja,range:[b,r]}:"null"===c?{type:X.NullLiteral,value:c,lineNumber:da,lineStart:ja,range:[b,r]}:"true"===c||"false"===c?{type:X.BooleanLiteral,value:c,lineNumber:da,lineStart:ja,range:[b,r]}:{type:X.Identifier,value:c,lineNumber:da,lineStart:ja,range:[b,r]}}}function T(){var a=r,b=U[r],c,d,f;if(";"===b||"{"===b||"}"===b||","===
b||"("===b||")"===b)return++r,{type:X.Punctuator,value:b,lineNumber:da,lineStart:ja,range:[a,r]};c=U[r+1];if("."===b&&!s(c))return{type:X.Punctuator,value:U[r++],lineNumber:da,lineStart:ja,range:[a,r]};d=U[r+2];f=U[r+3];if(">"===b&&">"===c&&">"===d&&"="===f)return r+=4,{type:X.Punctuator,value:">>>=",lineNumber:da,lineStart:ja,range:[a,r]};if("="===b&&"="===c&&"="===d)return r+=3,{type:X.Punctuator,value:"===",lineNumber:da,lineStart:ja,range:[a,r]};if("!"===b&&"="===c&&"="===d)return r+=3,{type:X.Punctuator,
value:"!==",lineNumber:da,lineStart:ja,range:[a,r]};if(">"===b&&">"===c&&">"===d)return r+=3,{type:X.Punctuator,value:">>>",lineNumber:da,lineStart:ja,range:[a,r]};if("<"===b&&"<"===c&&"="===d)return r+=3,{type:X.Punctuator,value:"<<=",lineNumber:da,lineStart:ja,range:[a,r]};if(">"===b&&">"===c&&"="===d)return r+=3,{type:X.Punctuator,value:">>=",lineNumber:da,lineStart:ja,range:[a,r]};if("="===c&&0<="<>=!+-*%&|^/".indexOf(b)||b===c&&0<="+-<>&|".indexOf(b)&&0<="+-<>&|".indexOf(c))return r+=2,{type:X.Punctuator,
value:b+c,lineNumber:da,lineStart:ja,range:[a,r]};if(0<="[]<>+-*%&|^!~?:=/".indexOf(b))return{type:X.Punctuator,value:U[r++],lineNumber:da,lineStart:ja,range:[a,r]}}function C(){var a,b,c;c=U[r];if(!s(c)&&"."!==c)throw 41;b=r;a="";if("."!==c){a=U[r++];c=U[r];if("0"===a){if("x"===c||"X"===c){for(a+=U[r++];r<la;){c=U[r];if(!(0<="0123456789abcdefABCDEF".indexOf(c)))break;a+=U[r++]}2>=a.length&&R({},W.UnexpectedToken,"ILLEGAL");r<la&&(c=U[r],g(c)&&R({},W.UnexpectedToken,"ILLEGAL"));return{type:X.NumericLiteral,
value:parseInt(a,16),lineNumber:da,lineStart:ja,range:[b,r]}}if(A(c)){for(a+=U[r++];r<la;){c=U[r];if(!A(c))break;a+=U[r++]}r<la&&(c=U[r],(g(c)||s(c))&&R({},W.UnexpectedToken,"ILLEGAL"));return{type:X.NumericLiteral,value:parseInt(a,8),octal:!0,lineNumber:da,lineStart:ja,range:[b,r]}}s(c)&&R({},W.UnexpectedToken,"ILLEGAL")}for(;r<la;){c=U[r];if(!s(c))break;a+=U[r++]}}if("."===c)for(a+=U[r++];r<la;){c=U[r];if(!s(c))break;a+=U[r++]}if("e"===c||"E"===c){a+=U[r++];c=U[r];if("+"===c||"-"===c)a+=U[r++];
c=U[r];if(s(c))for(a+=U[r++];r<la;){c=U[r];if(!s(c))break;a+=U[r++]}else R({},W.UnexpectedToken,"ILLEGAL")}r<la&&(c=U[r],g(c)&&R({},W.UnexpectedToken,"ILLEGAL"));return{type:X.NumericLiteral,value:parseFloat(a),lineNumber:da,lineStart:ja,range:[b,r]}}function P(){var a,b,c,d,e,u;d=!1;var g;e=!1;Ja=null;f();c=r;b=U[r];if("/"!==b)throw 41;for(a=U[r++];r<la;)if(b=U[r++],a+=b,"\\"===b)b=U[r++],F(b)&&R({},W.UnterminatedRegExp),a+=b;else if(d)"]"===b&&(d=!1);else if("/"===b){e=!0;break}else"["===b?d=!0:
F(b)&&R({},W.UnterminatedRegExp);e||R({},W.UnterminatedRegExp);d=a.substr(1,a.length-2);for(e="";r<la;){b=U[r];if(!h(b))break;++r;if("\\"===b&&r<la)if(b=U[r],"u"===b)if(++r,g=r,b=O("u"))for(e+=b,a+="\\u";g<r;++g)a+=U[g];else r=g,e+="u",a+="\\u";else a+="\\";else e+=b,a+=b}try{u=new RegExp(d,e)}catch(k){R({},W.InvalidRegExp)}return{literal:a,value:u,range:[c,r]}}function V(){var a;f();if(r>=la)return{type:X.EOF,lineNumber:da,lineStart:ja,range:[r,r]};a=T();if("undefined"!==typeof a)return a;a=U[r];
if("'"===a||'"'===a){a="";var b,c,d,e,u,g=!1;b=U[r];if("'"!==b&&'"'!==b)throw 41;c=r;for(++r;r<la;)if(d=U[r++],d===b){b="";break}else if("\\"===d)if(d=U[r++],F(d))++da,"\r"===d&&"\n"===U[r]&&++r;else switch(d){case "n":a+="\n";break;case "r":a+="\r";break;case "t":a+="\t";break;case "u":case "x":u=r;(e=O(d))?a+=e:(r=u,a+=d);break;case "b":a+="\b";break;case "f":a+="\f";break;case "v":a+="\x0B";break;default:A(d)?(e="01234567".indexOf(d),0!==e&&(g=!0),r<la&&A(U[r])&&(g=!0,e=8*e+"01234567".indexOf(U[r++]),
0<="0123".indexOf(d)&&r<la&&A(U[r])&&(e=8*e+"01234567".indexOf(U[r++]))),a+=String.fromCharCode(e)):a+=d}else if(F(d))break;else a+=d;""!==b&&R({},W.UnexpectedToken,"ILLEGAL");return{type:X.StringLiteral,value:a,octal:g,lineNumber:da,lineStart:ja,range:[c,r]}}if("."===a||s(a))return C();a=aa();if("undefined"!==typeof a)return a;R({},W.UnexpectedToken,"ILLEGAL")}function K(){var a;if(Ja)return r=Ja.range[1],da=Ja.lineNumber,ja=Ja.lineStart,a=Ja,Ja=null,a;Ja=null;return V()}function E(){var a,b,c;if(null!==
Ja)return Ja;a=r;b=da;c=ja;Ja=V();r=a;da=b;ja=c;return Ja}function v(){var a,b,c,d;a=r;b=da;c=ja;f();d=da!==b;r=a;da=b;ja=c;return d}function R(a,b){var c,d=Array.prototype.slice.call(arguments,2);c=b.replace(/%(\d)/g,function(a,b){return d[b]||""});"number"===typeof a.lineNumber?(c=Error("Line "+a.lineNumber+": "+c),c.index=a.range[0],c.lineNumber=a.lineNumber,c.column=a.range[0]-ja+1):(c=Error("Line "+da+": "+c),c.index=r,c.lineNumber=da,c.column=r-ja+1);throw 42;}function c(){try{R.apply(null,
arguments)}catch(a){if(w.errors)w.errors.push(a);else throw 43;}}function ka(a){a.type===X.EOF&&R(a,W.UnexpectedEOS);a.type===X.NumericLiteral&&R(a,W.UnexpectedNumber);a.type===X.StringLiteral&&R(a,W.UnexpectedString);a.type===X.Identifier&&R(a,W.UnexpectedIdentifier);if(a.type===X.Keyword){if(e(a.value))R(a,W.UnexpectedReserved);else if(xa&&p(a.value)){c(a,W.StrictReservedWord);return}R(a,W.UnexpectedToken,a.value)}R(a,W.UnexpectedToken,a.value)}function y(a){var b=K();b.type===X.Punctuator&&b.value===
a||ka(b)}function t(a){var b=K();b.type===X.Keyword&&b.value===a||ka(b)}function B(a){var b=E();return b.type===X.Punctuator&&b.value===a}function x(a){var b=E();return b.type===X.Keyword&&b.value===a}function m(){var a;";"===U[r]?K():(a=da,f(),da===a&&(B(";")?K():(a=E(),a.type===X.EOF||B("}")||ka(a))))}function z(a){return a.type===Q.Identifier||a.type===Q.MemberExpression}function Y(a,d){var f,e;f=xa;e=Qa();d&&xa&&b(a[0].name)&&c(d,W.StrictParamName);xa=f;return{type:Q.FunctionExpression,id:null,
params:a,defaults:[],body:e,rest:null,generator:!1,expression:!1}}function ma(){var a=K();return a.type===X.StringLiteral||a.type===X.NumericLiteral?(xa&&a.octal&&c(a,W.StrictOctalLiteral),Oa(a)):{type:Q.Identifier,name:a.value}}function n(){var a,b,d;a=E();if(a.type===X.Identifier){b=ma();if("get"!==a.value||B(":")){if("set"!==a.value||B(":"))return y(":"),{type:Q.Property,key:b,value:u(),kind:"init"};b=ma();y("(");a=E();if(a.type!==X.Identifier)return y(")"),c(a,W.UnexpectedToken,a.value),{type:Q.Property,
key:b,value:Y([]),kind:"set"};d=[na()];y(")");return{type:Q.Property,key:b,value:Y(d,a),kind:"set"}}b=ma();y("(");y(")");return{type:Q.Property,key:b,value:Y([]),kind:"get"}}if(a.type===X.EOF||a.type===X.Punctuator)ka(a);else return b=ma(),y(":"),{type:Q.Property,key:b,value:u(),kind:"init"}}function d(){var a;y("(");a=G();y(")");return a}function ga(){var a=E(),b=a.type;if(b===X.Identifier)return{type:Q.Identifier,name:K().value};if(b===X.StringLiteral||b===X.NumericLiteral)return xa&&a.octal&&c(a,
W.StrictOctalLiteral),Oa(K());if(b===X.Keyword){if(x("this"))return K(),{type:Q.ThisExpression};if(x("function"))return Ra()}if(b===X.BooleanLiteral)return K(),a.value="true"===a.value,Oa(a);if(b===X.NullLiteral)return K(),a.value=null,Oa(a);if(B("[")){a=[];for(y("[");!B("]");)B(",")?(K(),a.push(null)):(a.push(u()),B("]")||y(","));y("]");return{type:Q.ArrayExpression,elements:a}}if(B("{")){var a=[],f,e,g={},k=String;for(y("{");!B("}");)b=n(),f=b.key.type===Q.Identifier?b.key.name:k(b.key.value),e=
"init"===b.kind?Pa.Data:"get"===b.kind?Pa.Get:Pa.Set,Object.prototype.hasOwnProperty.call(g,f)?(g[f]===Pa.Data?xa&&e===Pa.Data?c({},W.StrictDuplicateProperty):e!==Pa.Data&&c({},W.AccessorDataProperty):e===Pa.Data?c({},W.AccessorDataProperty):g[f]&e&&c({},W.AccessorGetSet),g[f]|=e):g[f]=e,a.push(b),B("}")||y(",");y("}");return{type:Q.ObjectExpression,properties:a}}return B("(")?d():B("/")||B("/=")?Oa(P()):ka(K())}function L(){var a=[];y("(");if(!B(")"))for(;r<la;){a.push(u());if(B(")"))break;y(",")}y(")");
return a}function M(){var a=K();a.type!==X.Identifier&&a.type!==X.Keyword&&a.type!==X.BooleanLiteral&&a.type!==X.NullLiteral&&ka(a);return{type:Q.Identifier,name:a.value}}function Z(){y(".");return M()}function ua(){var a;y("[");a=G();y("]");return a}function Ca(){var a;t("new");a={type:Q.NewExpression,callee:k(),arguments:[]};B("(")&&(a.arguments=L());return a}function Ea(){var a;for(a=x("new")?Ca():ga();B(".")||B("[")||B("(");)a=B("(")?{type:Q.CallExpression,callee:a,arguments:L()}:B("[")?{type:Q.MemberExpression,
computed:!0,object:a,property:ua()}:{type:Q.MemberExpression,computed:!1,object:a,property:Z()};return a}function k(){var a;for(a=x("new")?Ca():ga();B(".")||B("[");)a=B("[")?{type:Q.MemberExpression,computed:!0,object:a,property:ua()}:{type:Q.MemberExpression,computed:!1,object:a,property:Z()};return a}function Aa(){var a=Ea();if(E().type!==X.Punctuator)return a;!B("++")&&!B("--")||v()||(xa&&a.type===Q.Identifier&&b(a.name)&&c({},W.StrictLHSPostfix),z(a)||c({},W.InvalidLHSInAssignment),a={type:Q.UpdateExpression,
operator:K().value,argument:a,prefix:!1});return a}function va(){var a,d;a=E();return a.type!==X.Punctuator&&a.type!==X.Keyword?Aa():B("++")||B("--")?(a=K(),d=va(),xa&&d.type===Q.Identifier&&b(d.name)&&c({},W.StrictLHSPrefix),z(d)||c({},W.InvalidLHSInAssignment),d={type:Q.UpdateExpression,operator:a.value,argument:d,prefix:!0}):B("+")||B("-")||B("~")||B("!")?d={type:Q.UnaryExpression,operator:K().value,argument:va(),prefix:!0}:x("delete")||x("void")||x("typeof")?(d={type:Q.UnaryExpression,operator:K().value,
argument:va(),prefix:!0},xa&&"delete"===d.operator&&d.argument.type===Q.Identifier&&c({},W.StrictDelete),d):Aa()}function wa(){for(var a=va();B("*")||B("/")||B("%");)a={type:Q.BinaryExpression,operator:K().value,left:a,right:va()};return a}function $(){for(var a=wa();B("+")||B("-");)a={type:Q.BinaryExpression,operator:K().value,left:a,right:wa()};return a}function ea(){for(var a=$();B("<<")||B(">>")||B(">>>");)a={type:Q.BinaryExpression,operator:K().value,left:a,right:$()};return a}function Ba(){var a,
b;b=ha.allowIn;ha.allowIn=!0;for(a=ea();B("<")||B(">")||B("<=")||B(">=")||b&&x("in")||x("instanceof");)a={type:Q.BinaryExpression,operator:K().value,left:a,right:ea()};ha.allowIn=b;return a}function S(){for(var a=Ba();B("==")||B("!=")||B("===")||B("!==");)a={type:Q.BinaryExpression,operator:K().value,left:a,right:Ba()};return a}function ba(){for(var a=S();B("&");)K(),a={type:Q.BinaryExpression,operator:"&",left:a,right:S()};return a}function oa(){for(var a=ba();B("^");)K(),a={type:Q.BinaryExpression,
operator:"^",left:a,right:ba()};return a}function Ha(){for(var a=oa();B("|");)K(),a={type:Q.BinaryExpression,operator:"|",left:a,right:oa()};return a}function ya(){for(var a=Ha();B("&&");)K(),a={type:Q.LogicalExpression,operator:"&&",left:a,right:Ha()};return a}function Ia(){for(var a=ya();B("||");)K(),a={type:Q.LogicalExpression,operator:"||",left:a,right:ya()};return a}function ca(){var a,b,c;a=Ia();B("?")&&(K(),b=ha.allowIn,ha.allowIn=!0,c=u(),ha.allowIn=b,y(":"),a={type:Q.ConditionalExpression,
test:a,consequent:c,alternate:u()});return a}function u(){var a,d;a=E();d=ca();var f;f=E();var e=f.value;f=f.type!==X.Punctuator?!1:"="===e||"*="===e||"/="===e||"%="===e||"+="===e||"-="===e||"<<="===e||">>="===e||">>>="===e||"&="===e||"^="===e||"|="===e;f&&(z(d)||c({},W.InvalidLHSInAssignment),xa&&d.type===Q.Identifier&&b(d.name)&&c(a,W.StrictLHSAssignment),d={type:Q.AssignmentExpression,operator:K().value,left:d,right:u()});return d}function G(){var a=u();if(B(","))for(a={type:Q.SequenceExpression,
expressions:[a]};r<la&&B(",");)K(),a.expressions.push(u());return a}function ia(){y("{");for(var a=[],b;r<la&&!B("}");){b=N();if("undefined"===typeof b)break;a.push(b)}y("}");return{type:Q.BlockStatement,body:a}}function na(){var a=K();a.type!==X.Identifier&&ka(a);return{type:Q.Identifier,name:a.value}}function ta(a){var d=na(),f=null;xa&&b(d.name)&&c({},W.StrictVarName);"const"===a?(y("="),f=u()):B("=")&&(K(),f=u());return{type:Q.VariableDeclarator,id:d,init:f}}function pa(a){var b=[];do{b.push(ta(a));
if(!B(","))break;K()}while(r<la);return b}function Na(a){var b;t(a);b=pa(a);m();return{type:Q.VariableDeclaration,declarations:b,kind:a}}function Ga(){var a=K();return{type:Q.VariableDeclaration,declarations:pa(),kind:a.value}}function Fa(){var a=null;t("continue");if(";"===U[r])return K(),ha.inIteration||R({},W.IllegalContinue),{type:Q.ContinueStatement,label:null};if(v())return ha.inIteration||R({},W.IllegalContinue),{type:Q.ContinueStatement,label:null};E().type===X.Identifier&&(a=na(),Object.prototype.hasOwnProperty.call(ha.labelSet,
a.name)||R({},W.UnknownLabel,a.name));m();null!==a||ha.inIteration||R({},W.IllegalContinue);return{type:Q.ContinueStatement,label:a}}function La(){var a=null;t("break");if(";"===U[r])return K(),ha.inIteration||ha.inSwitch||R({},W.IllegalBreak),{type:Q.BreakStatement,label:null};if(v())return ha.inIteration||ha.inSwitch||R({},W.IllegalBreak),{type:Q.BreakStatement,label:null};E().type===X.Identifier&&(a=na(),Object.prototype.hasOwnProperty.call(ha.labelSet,a.name)||R({},W.UnknownLabel,a.name));m();
null!==a||ha.inIteration||ha.inSwitch||R({},W.IllegalBreak);return{type:Q.BreakStatement,label:a}}function za(){var a,b=null;t("return");ha.inFunctionBody||c({},W.IllegalReturn);if(" "===U[r]&&g(U[r+1]))return b=G(),m(),{type:Q.ReturnStatement,argument:b};if(v())return{type:Q.ReturnStatement,argument:null};B(";")||(a=E(),B("}")||a.type===X.EOF||(b=G()));m();return{type:Q.ReturnStatement,argument:b}}function Ua(){var a,b=[],c;x("default")?(K(),a=null):(t("case"),a=G());for(y(":");r<la&&!(B("}")||x("default")||
x("case"));){c=Ka();if("undefined"===typeof c)break;b.push(c)}return{type:Q.SwitchCase,test:a,consequent:b}}function Va(){var a;t("catch");y("(");B(")")&&ka(E());a=na();xa&&b(a.name)&&c({},W.StrictCatchVariable);y(")");return{type:Q.CatchClause,param:a,body:ia()}}function Ka(){var a=E(),b,d;a.type===X.EOF&&ka(a);if(a.type===X.Punctuator)switch(a.value){case ";":return y(";"),{type:Q.EmptyStatement};case "{":return ia();case "(":return b=G(),m(),{type:Q.ExpressionStatement,expression:b}}if(a.type===
X.Keyword)switch(a.value){case "break":return La();case "continue":return Fa();case "debugger":return t("debugger"),m(),{type:Q.DebuggerStatement};case "do":return t("do"),d=ha.inIteration,ha.inIteration=!0,b=Ka(),ha.inIteration=d,t("while"),y("("),d=G(),y(")"),B(";")&&K(),{type:Q.DoWhileStatement,body:b,test:d};case "for":var f,e,u,g,a=f=e=null;t("for");y("(");B(";")?K():(x("var")||x("let")?(ha.allowIn=!1,a=Ga(),ha.allowIn=!0,1===a.declarations.length&&x("in")&&(K(),b=a,d=G(),a=null)):(ha.allowIn=
!1,a=G(),ha.allowIn=!0,x("in")&&(z(a)||c({},W.InvalidLHSInForIn),K(),b=a,d=G(),a=null)),"undefined"===typeof b&&y(";"));"undefined"===typeof b&&(B(";")||(f=G()),y(";"),B(")")||(e=G()));y(")");g=ha.inIteration;ha.inIteration=!0;u=Ka();ha.inIteration=g;b="undefined"===typeof b?{type:Q.ForStatement,init:a,test:f,update:e,body:u}:{type:Q.ForInStatement,left:b,right:d,body:u,each:!1};return b;case "function":return Sa();case "if":return t("if"),y("("),b=G(),y(")"),d=Ka(),x("else")?(K(),a=Ka()):a=null,
{type:Q.IfStatement,test:b,consequent:d,alternate:a};case "return":return za();case "switch":t("switch");y("(");b=G();y(")");y("{");d=[];if(B("}"))K();else{f=ha.inSwitch;ha.inSwitch=!0;for(e=!1;r<la&&!B("}");)a=Ua(),null===a.test&&(e&&R({},W.MultipleDefaultsInSwitch),e=!0),d.push(a);ha.inSwitch=f;y("}")}b={type:Q.SwitchStatement,discriminant:b,cases:d};return b;case "throw":return t("throw"),v()&&R({},W.NewlineAfterThrow),b=G(),m(),{type:Q.ThrowStatement,argument:b};case "try":return d=[],a=null,
t("try"),b=ia(),x("catch")&&d.push(Va()),x("finally")&&(K(),a=ia()),0!==d.length||a||R({},W.NoCatchOrFinally),{type:Q.TryStatement,block:b,guardedHandlers:[],handlers:d,finalizer:a};case "var":return t("var"),b=pa(),m(),{type:Q.VariableDeclaration,declarations:b,kind:"var"};case "while":return t("while"),y("("),b=G(),y(")"),a=ha.inIteration,ha.inIteration=!0,d=Ka(),ha.inIteration=a,{type:Q.WhileStatement,test:b,body:d};case "with":return xa&&c({},W.StrictModeWith),t("with"),y("("),b=G(),y(")"),d=
Ka(),{type:Q.WithStatement,object:b,body:d}}b=G();if(b.type===Q.Identifier&&B(":"))return K(),Object.prototype.hasOwnProperty.call(ha.labelSet,b.name)&&R({},W.Redeclaration,"Label",b.name),ha.labelSet[b.name]=!0,d=Ka(),delete ha.labelSet[b.name],{type:Q.LabeledStatement,label:b,body:d};m();return{type:Q.ExpressionStatement,expression:b}}function Qa(){var a,b=[],d,f,e,u;for(y("{");r<la;){d=E();if(d.type!==X.StringLiteral)break;a=N();b.push(a);if(a.expression.type!==Q.Literal)break;a=l(d.range[0]+1,
d.range[1]-1);"use strict"===a?(xa=!0,f&&c(f,W.StrictOctalLiteral)):!f&&d.octal&&(f=d)}d=ha.labelSet;f=ha.inIteration;e=ha.inSwitch;u=ha.inFunctionBody;ha.labelSet={};ha.inIteration=!1;ha.inSwitch=!1;for(ha.inFunctionBody=!0;r<la&&!B("}");){a=N();if("undefined"===typeof a)break;b.push(a)}y("}");ha.labelSet=d;ha.inIteration=f;ha.inSwitch=e;ha.inFunctionBody=u;return{type:Q.BlockStatement,body:b}}function Sa(){var a,d,f=[],e,u,g,k,h;t("function");e=E();a=na();xa?b(e.value)&&c(e,W.StrictFunctionName):
b(e.value)?(g=e,k=W.StrictFunctionName):p(e.value)&&(g=e,k=W.StrictReservedWord);y("(");if(!B(")"))for(h={};r<la;){e=E();d=na();xa?(b(e.value)&&(u=e,k=W.StrictParamName),Object.prototype.hasOwnProperty.call(h,e.value)&&(u=e,k=W.StrictParamDupe)):g||(b(e.value)?(g=e,k=W.StrictParamName):p(e.value)?(g=e,k=W.StrictReservedWord):Object.prototype.hasOwnProperty.call(h,e.value)&&(g=e,k=W.StrictParamDupe));f.push(d);h[d.name]=!0;if(B(")"))break;y(",")}y(")");e=xa;d=Qa();xa&&g&&R(g,k);xa&&u&&c(u,k);xa=e;
return{type:Q.FunctionDeclaration,id:a,params:f,defaults:[],body:d,rest:null,generator:!1,expression:!1}}function Ra(){var a,d=null,e,f,u,g,k=[],h;t("function");B("(")||(a=E(),d=na(),xa?b(a.value)&&c(a,W.StrictFunctionName):b(a.value)?(f=a,u=W.StrictFunctionName):p(a.value)&&(f=a,u=W.StrictReservedWord));y("(");if(!B(")"))for(h={};r<la;){a=E();g=na();xa?(b(a.value)&&(e=a,u=W.StrictParamName),Object.prototype.hasOwnProperty.call(h,a.value)&&(e=a,u=W.StrictParamDupe)):f||(b(a.value)?(f=a,u=W.StrictParamName):
p(a.value)?(f=a,u=W.StrictReservedWord):Object.prototype.hasOwnProperty.call(h,a.value)&&(f=a,u=W.StrictParamDupe));k.push(g);h[g.name]=!0;if(B(")"))break;y(",")}y(")");g=xa;a=Qa();xa&&f&&R(f,u);xa&&e&&c(e,u);xa=g;return{type:Q.FunctionExpression,id:d,params:k,defaults:[],body:a,rest:null,generator:!1,expression:!1}}function N(){var a=E();if(a.type===X.Keyword)switch(a.value){case "const":case "let":return Na(a.value);case "function":return Sa();default:return Ka()}if(a.type!==X.EOF)return Ka()}function Wa(){xa=
!1;for(var a=Q.Program,b,d=[],e,f;r<la;){e=E();if(e.type!==X.StringLiteral)break;b=N();d.push(b);if(b.expression.type!==Q.Literal)break;b=l(e.range[0]+1,e.range[1]-1);"use strict"===b?(xa=!0,f&&c(f,W.StrictOctalLiteral)):!f&&e.octal&&(f=e)}for(;r<la;){b=N();if("undefined"===typeof b)break;d.push(b)}return{type:a,body:d}}function Xa(a,b,c,d,e){if("number"!==typeof c)throw 41;0<w.comments.length&&w.comments[w.comments.length-1].range[1]>c||w.comments.push({type:a,value:b,range:[c,d],loc:e})}function fa(){var a,
b,c,d,e,f;a="";for(f=e=!1;r<la;)if(b=U[r],f)b=U[r++],F(b)?(c.end={line:da,column:r-ja-1},f=!1,Xa("Line",a,d,r-1,c),"\r"===b&&"\n"===U[r]&&++r,++da,ja=r,a=""):r>=la?(f=!1,a+=b,c.end={line:da,column:la-ja},Xa("Line",a,d,la,c)):a+=b;else if(e)F(b)?("\r"===b&&"\n"===U[r+1]?(++r,a+="\r\n"):a+=b,++da,++r,ja=r,r>=la&&R({},W.UnexpectedToken,"ILLEGAL")):(b=U[r++],r>=la&&R({},W.UnexpectedToken,"ILLEGAL"),a+=b,"*"===b&&(b=U[r],"/"===b&&(a=a.substr(0,a.length-1),e=!1,++r,c.end={line:da,column:r-ja},Xa("Block",
a,d,r,c),a="")));else if("/"===b)if(b=U[r+1],"/"===b)c={start:{line:da,column:r-ja}},d=r,r+=2,f=!0,r>=la&&(c.end={line:da,column:r-ja},f=!1,Xa("Line",a,d,r,c));else if("*"===b)d=r,r+=2,e=!0,c={start:{line:da,column:r-ja-2}},r>=la&&R({},W.UnexpectedToken,"ILLEGAL");else break;else if(q(b))++r;else if(F(b))++r,"\r"===b&&"\n"===U[r]&&++r,++da,ja=r;else break}function bb(){var a,b,c,d;f();a={start:{line:da,column:r-ja}};b=w.advance();a.end={line:da,column:r-ja};b.type!==X.EOF&&(c=[b.range[0],b.range[1]],
d=l(b.range[0],b.range[1]),w.tokens.push({type:Ma[b.type],value:d,range:c,loc:a}));return b}function cb(){var a,b,c,d;f();a=r;b={start:{line:da,column:r-ja}};c=w.scanRegExp();b.end={line:da,column:r-ja};0<w.tokens.length&&(d=w.tokens[w.tokens.length-1],d.range[0]===a&&"Punctuator"===d.type&&("/"!==d.value&&"/="!==d.value||w.tokens.pop()));w.tokens.push({type:"RegularExpression",value:c.literal,range:[a,r],loc:b});return c}function Oa(a){return{type:Q.Literal,value:a.value}}function Ta(a){return{type:Q.Literal,
value:a.value,raw:l(a.range[0],a.range[1])}}function Ya(){var a={};a.range=[r,r];a.loc={start:{line:da,column:r-ja},end:{line:da,column:r-ja}};a.end=function(){this.range[1]=r;this.loc.end.line=da;this.loc.end.column=r-ja};a.applyGroup=function(a){w.range&&(a.groupRange=[this.range[0],this.range[1]]);w.loc&&(a.groupLoc={start:{line:this.loc.start.line,column:this.loc.start.column},end:{line:this.loc.end.line,column:this.loc.end.column}})};a.apply=function(a){w.range&&(a.range=[this.range[0],this.range[1]]);
w.loc&&(a.loc={start:{line:this.loc.start.line,column:this.loc.start.column},end:{line:this.loc.end.line,column:this.loc.end.column}})};return a}function Za(){var a,b;f();a=Ya();y("(");b=G();y(")");a.end();a.applyGroup(b);return b}function db(){var a,b;f();a=Ya();for(b=x("new")?Ca():ga();B(".")||B("[");)b=B("[")?{type:Q.MemberExpression,computed:!0,object:b,property:ua()}:{type:Q.MemberExpression,computed:!1,object:b,property:Z()},a.end(),a.apply(b);return b}function eb(){var a,b;f();a=Ya();for(b=
x("new")?Ca():ga();B(".")||B("[")||B("(");)b=B("(")?{type:Q.CallExpression,callee:b,arguments:L()}:B("[")?{type:Q.MemberExpression,computed:!0,object:b,property:ua()}:{type:Q.MemberExpression,computed:!1,object:b,property:Z()},a.end(),a.apply(b);return b}function ab(a){var b,c,d;b="[object Array]"===Object.prototype.toString.apply(a)?[]:{};for(c in a)a.hasOwnProperty(c)&&"groupRange"!==c&&"groupLoc"!==c&&(d=a[c],b[c]=null===d||"object"!==typeof d||d instanceof RegExp?d:ab(d));return b}function fb(a,
b){return function(c){function d(a){return a.type===Q.LogicalExpression||a.type===Q.BinaryExpression}function e(c){var f,u;d(c.left)&&e(c.left);d(c.right)&&e(c.right);a&&(c.left.groupRange||c.right.groupRange?(f=c.left.groupRange?c.left.groupRange[0]:c.left.range[0],u=c.right.groupRange?c.right.groupRange[1]:c.right.range[1],c.range=[f,u]):"undefined"===typeof c.range&&(f=c.left.range[0],u=c.right.range[1],c.range=[f,u]));b&&(c.left.groupLoc||c.right.groupLoc?(f=c.left.groupLoc?c.left.groupLoc.start:
c.left.loc.start,u=c.right.groupLoc?c.right.groupLoc.end:c.right.loc.end,c.loc={start:f,end:u}):"undefined"===typeof c.loc&&(c.loc={start:c.left.loc.start,end:c.right.loc.end}))}return function(){var u,g;f();u=Ya();g=c.apply(null,arguments);u.end();a&&"undefined"===typeof g.range&&u.apply(g);b&&"undefined"===typeof g.loc&&u.apply(g);d(g)&&e(g);return g}}}var X,Ma,Q,Pa,W,$a,U,xa,r,da,ja,la,Ja,ha,w;X={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8};
Ma={};Ma[X.BooleanLiteral]="Boolean";Ma[X.EOF]="<end>";Ma[X.Identifier]="Identifier";Ma[X.Keyword]="Keyword";Ma[X.NullLiteral]="Null";Ma[X.NumericLiteral]="Numeric";Ma[X.Punctuator]="Punctuator";Ma[X.StringLiteral]="String";Q={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",
ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",
NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",
WithStatement:"WithStatement"};Pa={Data:1,Get:2,Set:4};W={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",
InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",
StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",
AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"};
$a={NonAsciiIdentifierStart:RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),
NonAsciiIdentifierPart:RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԧԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠࢢ-ࢬࣤ-ࣾऀ-ॣ०-९ॱ-ॷॹ-ॿঁ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఁ-ఃఅ-ఌఎ-ఐఒ-నప-ళవ-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಂಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲംഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤜᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶᴀ-ᷦ᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚗꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺꩻꪀ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︦︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")};
"undefined"===typeof"esprima"[0]&&(l=function(a,b){return U.slice(a,b).join("")});a.version="1.0.4";a.parse=function(a,b){var c,e;e=String;"string"===typeof a||a instanceof String||(a=e(a));U=a;r=0;da=0<U.length?1:0;ja=0;la=U.length;Ja=null;ha={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1};w={};"undefined"!==typeof b&&(w.range="boolean"===typeof b.range&&b.range,w.loc="boolean"===typeof b.loc&&b.loc,w.raw="boolean"===typeof b.raw&&b.raw,"boolean"===typeof b.tokens&&b.tokens&&
(w.tokens=[]),"boolean"===typeof b.comment&&b.comment&&(w.comments=[]),"boolean"===typeof b.tolerant&&b.tolerant&&(w.errors=[]));if(0<la&&"undefined"===typeof U[0]&&(a instanceof String&&(U=a.valueOf()),"undefined"===typeof U[0])){e=a;var g=e.length,h=[],m;for(m=0;m<g;++m)h[m]=e.charAt(m);U=h}w.comments&&(w.skipComment=f,f=fa);w.raw&&(w.createLiteral=Oa,Oa=Ta);if(w.range||w.loc)w.parseGroupExpression=d,w.parseLeftHandSideExpression=k,w.parseLeftHandSideExpressionAllowCall=Ea,d=Za,k=db,Ea=eb,e=fb(w.range,
w.loc),w.parseAdditiveExpression=$,w.parseAssignmentExpression=u,w.parseBitwiseANDExpression=ba,w.parseBitwiseORExpression=Ha,w.parseBitwiseXORExpression=oa,w.parseBlock=ia,w.parseFunctionSourceElements=Qa,w.parseCatchClause=Va,w.parseComputedMember=ua,w.parseConditionalExpression=ca,w.parseConstLetDeclaration=Na,w.parseEqualityExpression=S,w.parseExpression=G,w.parseForVariableDeclaration=Ga,w.parseFunctionDeclaration=Sa,w.parseFunctionExpression=Ra,w.parseLogicalANDExpression=ya,w.parseLogicalORExpression=
Ia,w.parseMultiplicativeExpression=wa,w.parseNewExpression=Ca,w.parseNonComputedProperty=M,w.parseObjectProperty=n,w.parseObjectPropertyKey=ma,w.parsePostfixExpression=Aa,w.parsePrimaryExpression=ga,w.parseProgram=Wa,w.parsePropertyFunction=Y,w.parseRelationalExpression=Ba,w.parseStatement=Ka,w.parseShiftExpression=ea,w.parseSwitchCase=Ua,w.parseUnaryExpression=va,w.parseVariableDeclaration=ta,w.parseVariableIdentifier=na,$=e(w.parseAdditiveExpression),u=e(w.parseAssignmentExpression),ba=e(w.parseBitwiseANDExpression),
Ha=e(w.parseBitwiseORExpression),oa=e(w.parseBitwiseXORExpression),ia=e(w.parseBlock),Qa=e(w.parseFunctionSourceElements),Va=e(w.parseCatchClause),ua=e(w.parseComputedMember),ca=e(w.parseConditionalExpression),Na=e(w.parseConstLetDeclaration),S=e(w.parseEqualityExpression),G=e(w.parseExpression),Ga=e(w.parseForVariableDeclaration),Sa=e(w.parseFunctionDeclaration),Ra=e(w.parseFunctionExpression),k=e(k),ya=e(w.parseLogicalANDExpression),Ia=e(w.parseLogicalORExpression),wa=e(w.parseMultiplicativeExpression),
Ca=e(w.parseNewExpression),M=e(w.parseNonComputedProperty),n=e(w.parseObjectProperty),ma=e(w.parseObjectPropertyKey),Aa=e(w.parsePostfixExpression),ga=e(w.parsePrimaryExpression),Wa=e(w.parseProgram),Y=e(w.parsePropertyFunction),Ba=e(w.parseRelationalExpression),Ka=e(w.parseStatement),ea=e(w.parseShiftExpression),Ua=e(w.parseSwitchCase),va=e(w.parseUnaryExpression),ta=e(w.parseVariableDeclaration),na=e(w.parseVariableIdentifier);"undefined"!==typeof w.tokens&&(w.advance=V,w.scanRegExp=P,V=bb,P=cb);
try{c=Wa();if("undefined"!==typeof w.comments){var p,l,v;e=[];for(p=0;p<w.comments.length;++p)l=w.comments[p],v={type:l.type,value:l.value},w.range&&(v.range=l.range),w.loc&&(v.loc=l.loc),e.push(v);w.comments=e;c.comments=w.comments}if("undefined"!==typeof w.tokens){var Z,y,E;p=[];for(Z=0;Z<w.tokens.length;++Z)y=w.tokens[Z],E={type:y.type,value:y.value},w.range&&(E.range=y.range),w.loc&&(E.loc=y.loc),p.push(E);w.tokens=p;c.tokens=w.tokens}"undefined"!==typeof w.errors&&(c.errors=w.errors);if(w.range||
w.loc)c.body=ab(c.body)}catch(pa){throw 44;}finally{"function"===typeof w.skipComment&&(f=w.skipComment);w.raw&&(Oa=w.createLiteral);if(w.range||w.loc)$=w.parseAdditiveExpression,u=w.parseAssignmentExpression,ba=w.parseBitwiseANDExpression,Ha=w.parseBitwiseORExpression,oa=w.parseBitwiseXORExpression,ia=w.parseBlock,Qa=w.parseFunctionSourceElements,Va=w.parseCatchClause,ua=w.parseComputedMember,ca=w.parseConditionalExpression,Na=w.parseConstLetDeclaration,S=w.parseEqualityExpression,G=w.parseExpression,
Ga=w.parseForVariableDeclaration,Sa=w.parseFunctionDeclaration,Ra=w.parseFunctionExpression,d=w.parseGroupExpression,k=w.parseLeftHandSideExpression,Ea=w.parseLeftHandSideExpressionAllowCall,ya=w.parseLogicalANDExpression,Ia=w.parseLogicalORExpression,wa=w.parseMultiplicativeExpression,Ca=w.parseNewExpression,M=w.parseNonComputedProperty,n=w.parseObjectProperty,ma=w.parseObjectPropertyKey,ga=w.parsePrimaryExpression,Aa=w.parsePostfixExpression,Wa=w.parseProgram,Y=w.parsePropertyFunction,Ba=w.parseRelationalExpression,
Ka=w.parseStatement,ea=w.parseShiftExpression,Ua=w.parseSwitchCase,va=w.parseUnaryExpression,ta=w.parseVariableDeclaration,na=w.parseVariableIdentifier;"function"===typeof w.scanRegExp&&(V=w.advance,P=w.scanRegExp);w={}}return c};a.Syntax=function(){var a,b={};"function"===typeof Object.create&&(b=Object.create(null));for(a in Q)Q.hasOwnProperty(a)&&(b[a]=Q[a]);"function"===typeof Object.freeze&&Object.freeze(b);return b}()})},"u.js":function(l,M,a,s,t,L,x,N,fa){var D=a.require("./1.js").STATE;l=
a.require("./1.js").Value;var J=a.require("./1.js").Object;s=a.require("./3.js").Node;var H=a.require("./d.js"),A=a.require("./i.js").TestSuite;t=s.subclass({template:a.template.get("#2"),binding:{name:"data:",progress:["stateChanged",function(a){return 100*(a.state==D.PROCESSING?a.state.data:1)}],pending:["stateChanged",function(a){return a.state.data instanceof J&&Boolean(a.state.data.data.pending)}],stateMessage:["stateChanged",function(a){var g=a.state.data;switch(String(a.state)){case D.READY:return g.data&&
g.data.pending?"Pending":"OK";case D.ERROR:return 0==g instanceof J?"Error":g.data.exception?"Exception":"ERROR_TIMEOUT"==g.data.error?"Timeout":g.data.testCount-g.data.successCount+" of "+g.data.testCount+" fault";case D.PROCESSING:return"running";default:return""}}]},action:{pickup:function(a){this.parentNode&&this.root instanceof A&&this.parentNode.setDelegate(this.root)}}});var q=new s({dataSource:l.factory("rootChanged",function(a){return a.root.getChildNodesDataset()}),template:a.template.get("#3"),
binding:{faultTests:"satellite:",levelUp:"satellite:"},selection:!0,listen:{selection:{itemsChanged:function(a){a.itemCount||this.satellite.faultTests.select()}}},childClass:t});q.setSatellite("faultTests",new t({contextSelection:q.selection,delegate:new J({data:{name:"Summary"},getChildNodesDataset:function(){return H.faultTests}})}));q.setSatellite("levelUp",{events:"rootChanged",existsIf:function(a){return a.root.parentNode},delegate:function(a){return a.root.parentNode},instance:new t({binding:{name:function(){return".."}},
action:{select:function(){this.owner.setDelegate(this.root)}}})});a.ready(function(){q.selection.itemCount||q.satellite.faultTests.select()});M.exports=q},"3.js":function(l,M,a,s,t,L,x,N,fa){function D(a){if(a=a.nodes)for(var b=a.length-1,e;e=a[b];b--)e.parentNode.insertBefore(e,e.nextSibling)}l=this.path;var J=s.document;s=a.Class;var H=a.require("./2.js").create;t=a.require("./4.js");var A=t.Template,q=t.marker,F=a.require("./9.js").TemplateSwitcher;x=a.require("./c.js");t=x.Node;L=x.PartitionNode;
var g=x.GroupingNode,h=1,e=function(){var a={},b=/^([a-z_][a-z0-9_]*):(.*)/i;return{add:function(b,e){a[b]||(a[b]=e)},process:function(e,f){var g,c=f.match(b);c&&(g=a[c[1]],f=c[2]||e);return g?g(f):f}}}();e.add("data",function(a){return{events:"update",getter:"data."+a}});e.add("satellite",function(a){return{events:"satelliteChanged",getter:function(b){return b.satellite[a]?b.satellite[a].element:null}}});var p=s.customExtendProperty({active:{events:"activeChanged",getter:function(a){return a.active}},
state:{events:"stateChanged",getter:function(a){return String(a.state)}},childNodesState:{events:"childNodesStateChanged",getter:function(a){return String(a.childNodesState)}},childCount:{events:"childNodesModified",getter:function(a){return a.childNodes?a.childNodes.length:0}},hasChildren:{events:"childNodesModified",getter:function(a){return!!a.firstChild}},empty:{events:"childNodesModified",getter:function(a){return!a.firstChild}}},function(b,f){b.bindingId=h++;for(var g in f){var p=null,l=f[g];
P&&l instanceof P||a.resource.isResource(l)?p={events:"satelliteChanged",getter:function(a,b){var e="function"==typeof b?b:null,f=function(g){f=!1;if(e){b=e();if(0==b instanceof P)return;e=null}g.setSatellite(a,b)};return function(b){f&&f(b);return e||(b.satellite[a]?b.satellite[a].element:null)}}(g,l)}:l&&("string"==typeof l?l=e.process(g,l):l.bindingBridge&&(l=a.fn.$const(l)),p="object"!=typeof l?{getter:"function"==typeof l?l:a.getter(l)}:Array.isArray(l)?{events:l[0],getter:a.getter(l[1])}:{events:l.events,
getter:a.getter(l.getter)});b[g]=p}}),b={attach:function(a,b,e){a.addHandler(b,e)},detach:function(a,b,e){a.removeHandler(b,e)}},I=s.extensibleProperty({select:function(a){this.isDisabled()||(this.contextSelection&&this.contextSelection.multiple?this.select(a.ctrlKey||a.metaKey):this.select())}}),f={"*":function(a){var b=this.templateSwitcher_;b&&b.ruleEvents&&b.ruleEvents[a.type]&&this.setTemplate(b.resolve(this))}},O=new A("<div/>"),aa=[],T;x=function(e){return{template:O,emit_templateChanged:H("templateChanged"),
templateSwitcher_:null,binding:p,action:I,tmpl:null,element:null,childNodesElement:null,init:function(){this.element=this.childNodesElement=aa.pop()||J.createDocumentFragment();e.init.call(this)},postInit:function(){e.postInit.call(this);var a=this.template;if(a){var b=this.childNodesElement;this.template=null;this.setTemplate(a);aa.push(b);this.container&&(this.container.appendChild(this.element),this.container=null)}},templateSync:function(){var a=this.element,e=this.tmpl,f=this.template.createInstance(this,
this.templateAction,this.templateSync,this.binding,b);f.childNodesHere&&(f.childNodesElement=f.childNodesHere.parentNode,f.childNodesElement.insertPoint=f.childNodesHere);this.tmpl=f;this.element=f.element;this.childNodesElement=f.childNodesElement||f.element;1!=this.childNodesElement.nodeType&&(this.childNodesElement=J.createDocumentFragment());if(this.grouping){this.grouping.syncDomRefs();for(f=this;f.grouping;)f=f.grouping;for(var g=f.lastChild;g;g=g.previousSibling)g instanceof C?f.insertBefore(g,
g.nextSibling):D(g);D(f.nullGroup)}else for(f=this.lastChild;f;f=f.previousSibling)this.insertBefore(f,f.nextSibling);this instanceof C&&D(this);a&&a!==this.element&&11!=a.nodeType&&(f=a&&a.parentNode)&&(this.owner&&this.owner.tmpl&&this.owner.tmpl.set(a,this.element),this.element.parentNode!==f&&f.replaceChild(this.element,a));e&&this.emit_templateChanged()},setTemplate:function(a){var b=this.templateSwitcher_,e;a instanceof F&&(e=a,a=e.resolve(this));0==a instanceof A&&(a=null);a&&(e&&(this.templateSwitcher_=
e,b||this.addHandler(f,this)),b&&b.resolve(this)!==a&&(this.templateSwitcher_=null,this.removeHandler(f,this)),b=this.tmpl,e=this.template,e!==a&&(this.template=a,this.templateSync(),e&&e.clearInstance(b)))},updateBind:function(a){var b=this.binding[a];(b=b&&b.getter)&&this.tmpl&&this.tmpl.set(a,b(this))},templateAction:function(a,b){var e=this.action[a];e&&e.call(this,b)},focus:function(b){var e=this.tmpl?this.tmpl.focus||this.element:null;e&&(T&&(T=a.clearImmediate(T)),T=a.setImmediate(function(){try{e.focus(),
b&&e.select()}catch(a){}}))},blur:function(){var a=this.tmpl?this.tmpl.focus||this.element:null;if(a)try{a.blur()}catch(b){}},destroy:function(){var a=this.template,b=this.element;this.templateSwitcher_&&(this.templateSwitcher_=null,this.removeHandler(f,this));a.clearInstance(this.tmpl);e.destroy.call(this);this.childNodesElement=this.element=this.tmpl=null;(a=b&&b.parentNode)&&1==a.nodeType&&a.removeChild(b)}}};N=function(a){return{insertBefore:function(b,e){b=a.insertBefore.call(this,b,e);var f=
(b.groupNode||this).childNodesElement||this.childNodesElement,g=b.nextSibling,c=b.element,g=(g&&g.element.parentNode==f?g.element:null)||f.insertPoint||null;c.parentNode===f&&c.nextSibling===g||f.insertBefore(c,g);return b},removeChild:function(b){a.removeChild.call(this,b);var e=b.element,f=e.parentNode;f&&f.removeChild(e);return b},clear:function(b){if(b)for(var e=this.firstChild;e;){var f=e.element,g=f.parentNode;g&&g.removeChild(f);e=e.nextSibling}a.clear.call(this,b)},setChildNodes:function(b,
e){var f=J.createDocumentFragment(),g=this.grouping||this,c=g.childNodesElement;g.childNodesElement=f;a.setChildNodes.call(this,b,e);c.insertBefore(f,c.insertPoint||null);g.childNodesElement=c}}};var C=s(L,x,{className:l+".PartitionNode",binding:{title:"data:"}});L=s(g,N,{className:l+".GroupingNode",childClass:C,groupingClass:s.SELF,element:null,childNodesElement:null,emit_ownerChanged:function(a){this.syncDomRefs();g.prototype.emit_ownerChanged.call(this,a)},init:function(){this.element=this.childNodesElement=
J.createDocumentFragment();g.prototype.init.call(this)},syncDomRefs:function(){var a=this,b=this.owner,e=null;b&&(e=b.tmpl&&b.tmpl.groupsElement||b.childNodesElement);do a.element=a.childNodesElement=e;while(a=a.grouping)},destroy:function(){g.prototype.destroy.call(this);this.childNodesElement=this.element=null}});var P=s(t,x,N,{className:l+".Node",binding:{selected:{events:"select unselect",getter:function(a){return a.selected}},unselected:{events:"select unselect",getter:function(a){return!a.selected}},
disabled:{events:"disable enable",getter:function(a){return a.isDisabled()}},enabled:{events:"disable enable",getter:function(a){return!a.isDisabled()}},tabindex:{events:"enable disable",getter:function(a){return a.isDisabled()?-1:a.tabindex||0}}},childClass:s.SELF,childFactory:function(a){return new this.childClass(a)},groupingClass:L});l=P.subclass({className:l+".ShadowNodeList",emit_ownerChanged:function(a){P.prototype.emit_ownerChanged.call(this,a);this.setDataSource(this.owner&&this.owner.getChildNodesDataset())},
getChildNodesElement:function(a){return a.childNodesElement},listen:{owner:{templateChanged:function(){this.childNodes.forEach(function(a){this.appendChild(a.element)},this.getChildNodesElement(this.owner)||this.owner.element)}}},childClass:{className:l+".ShadowNode",getElement:function(a){return a.element},templateSync:function(){P.prototype.templateSync.call(this);var a=this.getElement(this.delegate);a&&(a[q]=this.delegate.element[q],this.element=a)},listen:{delegate:{templateChanged:function(){var a=
this.element,b=a.parentNode,e=this.getElement(this.delegate);e&&(e[q]=this.delegate.element[q]);this.element=e||this.tmpl.element;b&&b.replaceChild(this.element,a)}}}}});M.exports={BINDING_PRESET:e,Node:P,PartitionNode:C,GroupingNode:L,ShadowNodeList:l,ShadowNode:l.prototype.childClass}},"4.js":function(l,M,a,s,t,L,x,N,fa){function D(a){var b=a.dictionary,b=b.resource?b.resource.url:"",c=a.name+"@"+b,d,e=a.as(function(b){return"markup"==a.type?(b!=this.value&&d&&(d.detach(a,a.apply),d=null),b&&"path:"==
b.substr(0,5)&&(d=f(b.substr(5)),d.attach(a,a.apply)),d?d.bindingBridge.get(d):b):this.value});e.id="{l10n:"+c+"}";e.url=b+":"+a.name;return e}function J(a){"string"==typeof a&&(a=e(a));if(!a)return null;var b=a.basisObjectId,c=$[b];c||(c=$[b]=new Ba(D(a)));return c}function H(a){return function(b){if("click"!=b.type||3!=b.which){for(var c=ra[b.type]||"mouseenter"!=b.type&&"mouseleave"!=b.type,d=b.sender,e;d;){e=d.getAttribute&&d.getAttribute(a);if(!c||"string"==typeof e)break;d=d.parentNode}if("string"==
typeof e){var f=d,c=f,g,k;ra[b.type]&&(g=b.relatedTarget)&&(f===g||wa(f,g))&&(f=null);for(;f;){g=f[Y];if("number"==typeof g&&(k=A(g)))break;f=f.parentNode}if(k&&k.action)for(e=e.trim().split(/\s+/),b.actionTarget=c,c=0;f=e[c++];)switch(f){case "prevent-default":b.preventDefault();break;case "stop-propagation":b.stopPropagation();break;default:k.action.call(k.context,f,b)}}if(b.type in ga)ga[b.type](b,d)}}}function A(a){var b=n[a&4095];return b&&b.instances[a>>12]}l=this.path;var q=s.document,F=s.Node,
g=a.require("./5.js"),h=a.string.camelize;t=a.require("./6.js");var e=t.token,p=t.Token,b=a.require("./7.js").getFunctions;x=a.require("./9.js");var I=x.TemplateSwitchConfig;t=x.TemplateSwitcher;L=x.Template;var f=x.get;x=a.require("./8.js");var O=x.TYPE_ELEMENT,aa=x.TYPE_ATTRIBUTE,T=x.TYPE_ATTRIBUTE_CLASS,C=x.TYPE_ATTRIBUTE_STYLE,P=x.TYPE_ATTRIBUTE_EVENT,V=x.TYPE_TEXT,K=x.TYPE_COMMENT,E=x.TOKEN_TYPE,v=x.TOKEN_BINDINGS,R=x.TOKEN_REFS,c=x.ATTR_NAME,ka=x.ATTR_VALUE,y=x.ATTR_VALUE_INDEX,sa=x.ELEMENT_NAME,
B=x.TEXT_VALUE,qa=x.COMMENT_VALUE,m=x.CLASS_BINDING_ENUM,z=x.CLASS_BINDING_BOOL,Y="basisTemplateId_"+a.genUID(),ma={},n={},d={svg:"http://www.w3.org/2000/svg"},ga={},ra={},Da="onmouseenter"in q.documentElement,Z=!q.addEventListener&&"__basisTemplate"+parseInt(1E9*Math.random());Z&&(s[Z]=function(a,b){g.fireEvent(q,a);b.returnValue=!0;var c=ma[a];c&&c(new g.Event(b))});var ua=function(){var a=q.createElement("div");a.appendChild(q.createTextNode("a"));a.appendChild(q.createTextNode("a"));return 1==
a.cloneNode(!0).childNodes.length}(),Ca=function(){var a=q.createElement("div");a.setAttribute("class","a");return!a.className}(),Ea=function(){var a=q.createElement("div");a.setAttribute("style","position:absolute");return"absolute"!=a.style.position}(),k;a:{try{k=q.documentElement.style.color="x";break a}catch(Aa){}k=void 0}var va=!!k,wa=function(a,b){return a.contains(b)};F&&!F.prototype.contains&&(wa=function(a,b){return!!(a.compareDocumentPosition(b)&16)});var $={},ea=function(a,b){function e(a,
b){f(b);ra[a]=!0;ga[b]=function(b){b=new g.Event(b);b.type=a;ma[a](b)};ga[a]=function(b,c){if(c=c&&c.parentNode)b=new g.Event(b),b.type=a,b.sender=c,ma[a](b)}}function f(a){if(!ma[a]&&(ma[a]=H("event-"+a),!Z)){if(!Da&&"mouseenter"==a)return e(a,"mouseover");if(!Da&&"mouseleave"==a)return e(a,"mouseout");for(var b=0,c=g.browserEvents(a),d;d=c[b];b++)g.addGlobalHandler(d,ma[a])}}function k(a,b){f(a);Z&&u.setAttribute("on"+a,Z+'("'+a+'",event)');u.setAttribute("event-"+a,b)}function h(a,b){Ca&&"class"==
a&&(a="className");if(Ea&&"style"==a)return u.style.cssText=b;u.setAttribute(a,b)}for(var u=b||q.createDocumentFragment(),G,n=b?4:0,p;p=a[n];n++)switch(G=p[E],G){case O:G=p[sa];var l=G.split(/:/);G=1<l.length?q.createElementNS(d[l[0]],G):q.createElement(G);ea(p,G);u.appendChild(G);break;case aa:p[v]||h(p[c],p[ka]||"");break;case T:G=(G=p[y[G]])?[G]:[];if(p[v])for(var l=0,pa;pa=p[v][l];l++){var I=pa[4];if(I){var Ga=pa[0];if(Array.isArray(Ga))G.push(pa[0][I-1]);else switch(pa[2]){case z:G.push(Ga+pa[3]);
break;case m:G.push(Ga+pa[5][I-1])}}}(G=G.join(" ").trim())&&h("class",G);break;case C:(p=p[y[G]])&&h("style",p);break;case P:k(p[1],p[2]||p[1]);break;case K:u.appendChild(q.createComment(p[qa]||(p[R]?"{"+p[R].join("|")+"}":"")));break;case V:ua&&n&&a[n-1][E]==V&&u.appendChild(q.createComment("")),u.appendChild(q.createTextNode(p[B]||(p[R]?"{"+p[R].join("|")+"}":"")||(p[v]?"{"+p[v]+"}":"")))}b||1!=a.length||(u=u.firstChild);return u};k=function(){function c(){this.set(this.name,this.value)}function d(a,
b,e){var f=b&&b.bindingBridge,g=this.attaches&&this.attaches[a],u=null;if(f||g)if(f){if(g&&b===g.value)u=b&&"markup"==b.type?g.tmpl:null;else{g&&(g.tmpl&&J(g.value).clearInstance(g.tmpl),g.value.bindingBridge.detach(g.value,c,g));if("markup"==b.type&&b instanceof p){var k=J(b),h=this.context,G=this.bindings,m=this.bindingInterface,u=k.createInstance(h,null,function Ra(){u=n.tmpl=k.createInstance(h,null,Ra,G,m);u.parent=u.element.parentNode||u.element;c.call(n)},G,m);u.parent=u.element.parentNode||
u.element}this.attaches||(this.attaches=new e);var n=this.attaches[a]={name:a,value:b,tmpl:u,set:this.tmpl.set};f.attach(b,c,n)}if(u)return u.parent;b=f.get(b)}else g&&(g.tmpl&&J(g.value).clearInstance(g.tmpl),g.value.bindingBridge.detach(g.value,c,g),this.attaches[a]=null);return b}function f(a,b){var c=a[0],d=a[1],e=b[c],g=b[d];switch(a.length){case 1:return function(a){this(c,e(a))};case 2:return function(a){this(c,e(a));this(d,g(a))};default:var u=a.map(function(a){return b[a]});return function(b){for(var c=
0;c<a.length;c++)this(a[c],u[c](b))}}}var g=/\s+/,k=s.DOMTokenList&&q&&q.documentElement.classList instanceof s.DOMTokenList,m;a:{try{m=q instanceof F;break a}catch(u){}m=void 0}var G=m?function(b,c,d,e){b=!e&&d&&d instanceof F?d:b;if(b!==c){11!==b.nodeType||b.insertedNodes||(b.insertBefore(q.createTextNode(""),b.firstChild),b.insertedNodes=a.array(b.childNodes));if(11===c.nodeType&&(d=c.insertedNodes)){c=d[0];e=1;for(var f;f=d[e];e++)c.parentNode.removeChild(f)}c.parentNode.replaceChild(b,c)}return b}:
function(a,b,c,d){c=!d&&c&&"object"==typeof c?c:a;if(c!==b)try{b.parentNode.replaceChild(c,b)}catch(e){c=a,b!==c&&b.parentNode.replaceChild(c,b)}return c},l=function(a,b,c,d){c!==d&&(d?a.setAttribute(b,d):a.removeAttribute(b));return d},Z={bind_textNode:function(a,b,c,d){b=G(a,b,c,d);b===a&&(a.nodeValue=String(c));return b},bind_node:G,bind_element:function(a,b,c,d){b=G(a,b,c,d);b===a&&"string"==typeof c&&(a.innerHTML=c);return b},bind_comment:G,bind_attr:l,bind_attrClass:k?function(b,c,d,e){var f=
d?d:"";f!=c&&(c&&b.classList.remove(c),f&&(b.classList.add(f),e&&(b.classList.add(f+"-anim"),a.nextTick(function(){b.classList.remove(f+"-anim")}))));return f}:function(b,c,d,e){var f=d?d:"";if(f!=c){d=b.className;var u="string"!=typeof d;u&&(d=d.baseVal);d=d.split(g);c&&a.array.remove(d,c);f&&(d.push(f),e&&(a.array.add(d,f+"-anim"),a.nextTick(function(){var c=(u?b.className.baseVal:b.className).split(g);a.array.remove(c,f+"-anim");u?b.className.baseVal=c.join(" "):b.className=c.join(" ")})));u?b.className.baseVal=
d.join(" "):b.className=d.join(" ")}return f},bind_attrStyle:va?function(a,b,c,d){c!==d&&(a.style[h(b)]=d);return d}:function(a,b,c,d){if(c!==d)try{a.style[h(b)]=d}catch(e){}return d},resolve:d,l10nToken:e,createBindingFunction:function(a){var b={};return function(c,d,e,g){if(!c)return{};var u="bindingId"in c?c.bindingId:null,k=b[u];if(!k){for(var k=[],h={},G={},m=0,p;p=a[m];m++){var n=c[p],l=n&&n.getter;if(l&&(h[p]=l,k.push(p),n.events))for(var n=String(n.events).trim().split(/\s+|\s*,\s*/),l=0,
ia;ia=n[l];l++)G[ia]?G[ia].push(p):G[ia]=[p]}c=f(k,h);for(var Z in G)G[Z]=f(G[Z],h);k={names:k,sync:c,handler:Z?G:null};u&&(b[u]=k)}e&&k.sync.call(e,d);if(g)return k.handler&&g.attach(d,k.handler,e),k.handler}}};return function(c){var f=b(c,!0,this.source.url,c.source_,!ua,Y),g,u={},k={},h=[],G=[],m=0,p=ea(c),y=this.templateId;n[y]={template:this,instances:u};if(f.createL10nSync){var I=f.createL10nSync(p,k,l,ua);if(f.l10nKeys){c=0;for(var z;z=f.l10nKeys[c];c++){var v=e(z),B={path:z,token:v,handler:function(b){var c=
"markup"==this.token.type;c?a.array.add(G,this):a.array.remove(G,this);I(this.path,c?null:b);for(var d in u)u[d].tmpl.set(this.path,c?this.token:b)}};B.token.attach(B.handler,B);h.push(B);"markup"==v.type?(G.push(B),I(z,null)):I(z,v.value);v=B=null}}}g=f.createInstance(y,u,p,Z,k,ua);return{createInstance:function(a,b,c,d,e){var f=m++;a=g(f,a,b,c,d,e);b=0;for(c=G.length;b<c;b++)a.tmpl.set(G[b].path,G[b].token);u[f]=a;return a.tmpl},destroyInstance:function(a){a=a.templateId_;var b=u[a];if(b){b.handler&&
b.bindingInterface.detach(b.context,b.handler,b.tmpl.set);for(var c in b.attaches)d.call(b,c,null);delete u[a]}},keys:f.keys,destroy:function(a){for(var b=0,c;c=h[b];b++)c.token.detach(c.handler,c);for(var e in u)if(b=u[e],a&&b.rebuild&&b.rebuild.call(b.context),!a||e in u)for(e in b.handler&&b.bindingInterface.detach(b.context,b.handler,b.tmpl.set),b.attaches)d.call(e,null);n[y]&&n[y].instances===u&&delete n[y];u=I=h=k=p=f=null}}}}();var Ba=L.subclass({className:l+".Template",__extend__:function(a){return a instanceof
Ba?a:a instanceof I?new S(a):new Ba(a)},builder:k}),S=t.subclass({className:l+".TemplateSwitcher",templateClass:Ba});M.exports={marker:Y,Template:Ba,TemplateSwitcher:S};a.namespace("basis.template").extend({buildHtml:ea,resolveTemplateById:function(a){return(a=n[a&4095])&&a.template},resolveObjectById:function(a){return(a=A(a))&&a.context},resolveTmplById:function(a){return(a=A(a))&&a.tmpl}})},"v.js":function(l,M,a,s,t,L,x,N,fa){var D=a.require("./1.js").STATE,J=a.require("./1.js").Object;a.require("./i.js");
l=a.require("./n.js");a=new l.TestSuiteNode({template:a.template.get("#8"),binding:{sourceCode:"satellite:",type:["update",function(a){return a.data.type||"unknown"}],hasDelegate:["delegateChanged",function(a){return!!a.delegate}]},isRootNode:!0,selection:!0,satellite:{sourceCode:{satelliteClass:l.CodeView,events:"update stateChanged",existsIf:function(a){return"case"==a.data.type},delegate:function(a){return a.state==D.ERROR&&a.state.data instanceof J?a.state.data:a}}}});a.contextSelection=a.selection;
a.addHandler({delegateChanged:function(){this.selection.clear()}});M.exports=a},"n.js":function(l,M,a,s,t,L,x,N,fa){function D(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var J=a.require("./1.js").Value,H=a.require("./1.js").Object,A=a.require("./1.js").STATE,q=a.require("./3.js").Node,F=s.document,g=a.require("./o.js");a.require("./i.js");var h=a.require("./p.js");l=q.subclass({template:a.template.get("#4"),binding:{beforeCode:"beforeElement",beforeCount:"data:beforeCount",
beforeCollapsed:"beforeCollapsed",sourceCode:"mainElement",afterCode:"afterElement",afterCount:"data:afterCount",afterCollapsed:"afterCollapsed",hasParent:{events:"ownerChanged",getter:function(a){return J.from(a.owner,"parentChanged",function(a){return a.parentNode?!a.parentNode.isRootNode:!1})}}},action:{toggleBefore:function(){this.beforeCollapsed.set(!this.beforeCollapsed.value)},toggleAfter:function(){this.afterCollapsed.set(!this.afterCollapsed.value)}},init:function(){this.beforeElement=F.createElement("div");
this.beforeCollapsed=new a.Token(!0);this.mainElement=F.createElement("div");this.afterElement=F.createElement("div");this.afterCollapsed=new a.Token(!0);q.prototype.init.call(this);this.syncCode()},destroy:function(){this.afterCollapsed=this.afterElement=this.mainElement=this.beforeCollapsed=this.beforeElement=this.lines=null;q.prototype.destroy.call(this)},emit_update:function(a){q.prototype.emit_update.call(this,a);this.syncCode()},syncCode:function(){this.mainElement.innerHTML=g(this.data.testSource,
{keepFormating:!0,noLineNumber:!0});var b=a.array.from(this.mainElement.childNodes);if(this.data.exception){var e=this.data.lastLine;this.data.beforeLines&&e<this.data.beforeLines&&this.beforeCollapsed.set(!1);this.data.afterLines&&e>=b.length-this.data.afterLines&&this.afterCollapsed.set(!1);for(b[e++].className+=" exception-line";e<b.length;e++)b[e].className+=" disabled-line"}else{var e=this.data.errorLines,f;for(f in e)b[f].className+=" error-line",b[f].innerHTML+='<div class="error-line-details">'+
e[f].map(function(a){for(var b=h["string"==typeof a.expected&&"string"==typeof a.actual?"diffChars":"diffWords"](a.expectedStr,a.actualStr),e="",f="",g=0,p;p=b[g];g++)p.removed?e+='<span class="diff-removed">'+D(p.value)+"</span>":p.added?f+='<span class="diff-added">'+D(p.value)+"</span>":(e+=D(p.value),f+=D(p.value));return'<div class="error-line-details-item"><span class="num">'+(a.num+1)+'</span><span class="caption">Expected:</span><span class="expected">'+e+'</span><span class="caption">Actual:</span><span class="actual">'+
f+"</span></div>"}).join("")+"</div>"}this.data.afterLines&&(this.afterElement.innerHTML="",b.slice(b.length-this.data.afterLines).forEach(function(a){this.afterElement.appendChild(a)},this));this.data.beforeLines&&(this.beforeElement.innerHTML="",b.slice(0,this.data.beforeLines).forEach(function(a){this.beforeElement.appendChild(a)},this))}});s=q.subclass({template:a.template.get("#5"),binding:{name:"data:",hasOwnEnvironment:["rootChanged",function(a){return a.root.hasOwnEnvironment()}],time:["stateChanged",
function(a){return a.state.data&&a.state.data.data&&a.state.data.data.time}],errorMessage:["stateChanged",function(a){return a.state==A.ERROR&&a.state.data?a.state.data.data.error:""}],pending:["stateChanged",function(a){return a.state.data instanceof H&&Boolean(a.state.data.data.pending)}],stateData:["stateChanged",function(a){return a.state==A.PROCESSING?(100*a.state.data||0).toFixed(2):a.state.data instanceof H&&a.state.data.data.error||""}],stateMessage:["stateChanged",function(a){var e=a.state.data;
switch(String(a.state)){case A.READY:return e instanceof H&&e.data.pending?"Pending":"OK";case A.ERROR:return 0==e instanceof H?"Error":e.data.exception?e.data.exception:"ERROR_TIMEOUT"==e.data.error?"Timeout":e.data.testCount-e.data.successCount+" of "+e.data.testCount+" fault";case A.PROCESSING:return"running";default:return""}}]}});var e=s.subclass({dataSource:J.factory("rootChanged",function(a){return a.root?a.root.getChildNodesDataset():null}),template:a.template.get("#6"),childClass:s,childFactory:function(a){return"case"==
a.delegate.data.type?new p(a):new e(a)}}),p=s.subclass({template:a.template.get("#7"),binding:{source:"satellite:"},satellite:{source:{events:"stateChanged",existsIf:function(a){return a.state==A.ERROR&&a.state.data instanceof H&&a.state.data.data.testSource},delegate:"state.data",satelliteClass:l}}});M.exports={TestNode:s,TestCaseNode:p,TestSuiteNode:e,CodeView:l}},"o.js":function(l,M,a,s,t,L,x,N,fa){function D(a){function l(b,e,h,I){p!=e&&g.push(a.substring(p,e).replace(A,'<span class="token-keyword">$1</span>'));
p=h+1;b&&g.push('<span class="token-'+b+'">'+a.substring(e,h+1)+"</span>"+(I||""))}for(var g=[],h=a.split(""),e,p=0,b,I=0;I<h.length;I++)if("'"==h[I]||'"'==h[I])for(b=h[I],e=I;++I<h.length;){"\\"==h[I]&&("\n"==h[I+1]?(l("string",e,I),e=++I+1):I+=2);if(h[I]==b){l("string",e,I);break}if("\n"==h[I])break}else if("/"==h[I])if(e=I,I++,"/"==h[I]){for(;++I<h.length&&"\n"!=h[I];);l("comment",e,I-1)}else if("*"==h[I])for(;++I<h.length;)if("*"==h[I]&&"/"==h[I+1]){l("comment",e,++I);break}else"\n"==h[I]&&(l("comment",
e,I-1,"\n"),p=e=I+1);l(null,a.length);return g}var J=a.number.lead,H=a.string.repeat,A=RegExp("\\b(break|case|catch|continue|default|delete|do|else|false|for|function|if|in|instanceof|new|null|return|super|switch|this|throw|true|try|typeof|var|while|with)\\b","g");M.exports=function(a,l){l||(l={});for(var g=D(function(a){a=a.trimRight().replace(/\r\n|\n\r|\r/g,"\n");l.keepFormating||(a=a.replace(/^(?:\s*[\n]+)+?([ \t]*)/,"$1"));a=a.replace(/\n[ \t]+/g,function(a){return a.replace(/\t/g,"  ")}).replace(/\n[ \t]+\n/g,
"\n\n");if(!l.keepFormating){for(var b=1E3,e=a.split(/\n+/),g=Number(null!=a.match(/^function/));g<e.length;g++){var h=e[g].match(/^\s*/);h[0].length<b&&(b=h[0].length);if(0==b)break}0<b&&(a=a.replace(new RegExp("(^|\\n) {"+b+"}","g"),"$1"))}return a=a.replace(RegExp("(^|\\n)( +)","g"),function(a,b,e){return b+H(" ",e.length)})}(a||"").replace(/</g,"&lt;")).join("").split("\n"),h=String(g.length).length,e=l.noLineNumber?"":" hasLineNumber",p=[],b=0;b<g.length;b++)p.push('<div class="line '+(b%2?"odd":
"even")+e+'"><span class="lineContent">'+(l.noLineNumber?"":'<input class="lineNumber" value="'+J(b+1,h)+'" type="none" unselectable="on" readonly="readonly" tabindex="-1" /><span class="over"></span>')+(g[b]+"\r\n")+"</span></div>");return p.join("")}},"p.js":function(l,M,a,s,t,L,x,N,fa){l=function(){function a(e){for(var g=[],b=0;b<e.length;b++)e[b]&&g.push(e[b]);return g}function l(a){a=a.replace(/&/g,"&amp;");a=a.replace(/</g,"&lt;");a=a.replace(/>/g,"&gt;");return a=a.replace(/"/g,"&quot;")}
var s=function(a){this.ignoreWhitespace=a};s.prototype={diff:function(a,g){if(g===a)return[{value:g}];if(!g)return[{value:a,removed:!0}];if(!a)return[{value:g,added:!0}];g=this.tokenize(g);a=this.tokenize(a);var b=g.length,h=a.length,f=b+h,l=[{newPos:-1,components:[]}],q=this.extractCommon(l[0],g,a,0);if(l[0].newPos+1>=b&&q+1>=h)return l[0].components;for(var s=1;s<=f;s++)for(var C=-1*s;C<=s;C+=2){var t;t=l[C-1];var x=l[C+1],q=(x?x.newPos:0)-C;t&&(l[C-1]=void 0);var A=t&&t.newPos+1<b,E=x&&0<=q&&q<
h;if(A||E){!A||E&&t.newPos<x.newPos?(t={newPos:x.newPos,components:x.components.slice(0)},this.pushComponent(t.components,a[q],void 0,!0)):(t={newPos:t.newPos,components:t.components.slice(0)},t.newPos++,this.pushComponent(t.components,g[t.newPos],!0,void 0));q=this.extractCommon(t,g,a,C);if(t.newPos+1>=b&&q+1>=h)return t.components;l[C]=t}else l[C]=void 0}},pushComponent:function(a,g,b,h){var f=a[a.length-1];f&&f.added===b&&f.removed===h?a[a.length-1]={value:this.join(f.value,g),added:b,removed:h}:
a.push({value:g,added:b,removed:h})},extractCommon:function(a,g,b,h){var f=g.length,l=b.length,q=a.newPos;for(h=q-h;q+1<f&&h+1<l&&this.equals(g[q+1],b[h+1]);)q++,h++,this.pushComponent(a.components,g[q],void 0,void 0);a.newPos=q;return h},equals:function(a,g){var b=/\S/;return!this.ignoreWhitespace||b.test(a)||b.test(g)?a===g:!0},join:function(a,g){return a+g},tokenize:function(a){return a}};var t=new s,q=new s(!0),x=new s;q.tokenize=x.tokenize=function(e){return a(e.split(/(\s+|\b)/))};var g=new s(!0);
g.tokenize=function(e){return a(e.split(/([{}:;,]|\s+)/))};var h=new s;h.tokenize=function(a){var g=[];a=a.split(/^/m);for(var b=0;b<a.length;b++){var h=a[b],f=a[b-1];"\n"==h&&f&&"\r"===f[f.length-1]?g[g.length-1]+="\n":h&&g.push(h)}return g};return{Diff:s,diffChars:function(a,g){return t.diff(a,g)},diffWords:function(a,g){return q.diff(a,g)},diffWordsWithSpace:function(a,g){return x.diff(a,g)},diffLines:function(a,g){return h.diff(a,g)},diffCss:function(a,h){return g.diff(a,h)},createPatch:function(a,
g,b,l,f){function q(a){return a.map(function(a){return" "+a})}function t(a,b,c){var e=C[C.length-2],f=b===C.length-2;b=b===C.length-3&&(c.added!==e.added||c.removed!==e.removed);/\n$/.test(c.value)||!f&&!b||a.push("\\ No newline at end of file")}var s=[];s.push("Index: "+a);s.push("===================================================================");s.push("--- "+a+("undefined"===typeof l?"":"\t"+l));s.push("+++ "+a+("undefined"===typeof f?"":"\t"+f));var C=h.diff(g,b);C[C.length-1].value||C.pop();
C.push({value:"",lines:[]});g=a=0;b=[];f=l=1;for(var x=0;x<C.length;x++){var A=C[x],D=A.lines||A.value.replace(/\n$/,"").split("\n");A.lines=D;if(A.added||A.removed){if(!a){var E=C[x-1];a=l;g=f;E&&(b=q(E.lines.slice(-4)),a-=b.length,g-=b.length)}b.push.apply(b,D.map(function(a){return(A.added?"+":"-")+a}));t(b,x,A);A.added?f+=D.length:l+=D.length}else a&&(8>=D.length&&x<C.length-2?b.push.apply(b,q(D)):(E=Math.min(D.length,4),s.push("@@ -"+a+","+(l-a+E)+" +"+g+","+(f-g+E)+" @@"),s.push.apply(s,b),
s.push.apply(s,q(D.slice(0,E))),4>=D.length&&t(s,x,A),g=a=0,b=[])),l+=D.length,f+=D.length}return s.join("\n")+"\n"},applyPatch:function(a,g){for(var b=g.split("\n"),h=[],f=!1,l=!1,q="I"===b[0][0]?4:0;q<b.length;q++)if("@"===b[q][0]){var s=b[q].split(/@@ -(\d+),(\d+) \+(\d+),(\d+) @@/);h.unshift({start:s[3],oldlength:s[2],oldlines:[],newlength:s[4],newlines:[]})}else"+"===b[q][0]?h[0].newlines.push(b[q].substr(1)):"-"===b[q][0]?h[0].oldlines.push(b[q].substr(1)):" "===b[q][0]?(h[0].newlines.push(b[q].substr(1)),
h[0].oldlines.push(b[q].substr(1))):"\\"===b[q][0]&&("+"===b[q-1][0]?f=!0:"-"===b[q-1][0]&&(l=!0));b=a.split("\n");for(q=h.length-1;0<=q;q--){for(var s=h[q],t=0;t<s.oldlength;t++)if(b[s.start-1+t]!==s.oldlines[t])return!1;Array.prototype.splice.apply(b,[s.start-1,+s.oldlength].concat(s.newlines))}if(f)for(;!b[b.length-1];)b.pop();else l&&b.push("");return b.join("\n")},convertChangesToXML:function(a){for(var g=[],b=0;b<a.length;b++){var h=a[b];h.added?g.push("<ins>"):h.removed&&g.push("<del>");g.push(l(h.value));
h.added?g.push("</ins>"):h.removed&&g.push("</del>")}return g.join("")},convertChangesToDMP:function(a){for(var g=[],b,h=0;h<a.length;h++)b=a[h],g.push([b.added?1:b.removed?-1:0,b.value]);return g}}}();"undefined"!==typeof M&&(M.exports=l)},"5.js":function(l,M,a,s,t,L,x,N,fa){function D(a){return a instanceof Y?a.event_:a||s.event}function J(a){return"string"==typeof a?v.getElementById(a):a}function H(a){a=a.target||a.srcElement||v;return 3==a.nodeType?a.parentNode:a}function A(a){a.stopPropagation?
a.stopPropagation():a.cancelBubble=!0}function q(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function F(a,b){(b=J(b))?P(b,a,F):(q(a),A(a))}function g(a){return a.keyCode||a.which||0}function h(a){return a.charCode||a.keyCode||0}function e(a,b){return"number"==typeof a.which?a.which==b.VALUE:!!(a.button&b.BIT)}function p(a){return a.changedTouches?a.changedTouches[0].pageX:"pageX"in a?a.pageX:"clientX"in a?a.clientX+("CSS1Compat"==v.compatMode?v.documentElement.scrollLeft:v.body.scrollLeft):
0}function b(a){return a.changedTouches?a.changedTouches[0].pageY:"pageY"in a?a.pageY:"clientY"in a?a.clientY+("CSS1Compat"==v.compatMode?v.documentElement.scrollTop:v.body.scrollTop):0}function I(a){var b=0;"deltaY"in a?b=-a.deltaY:"wheelDelta"in a?b=a.wheelDelta:"DOMMouseScroll"==a.type&&(b=-a.detail);return b&&b/Math.abs(b)}function f(b){ga&&b!==ra&&(ra=b,a.asap.process())}function O(a){var b=c(ma[a.type]),d=n[a.type],e=new Y(a);if(d)d.handler.call(d.thisObject,e),F(a);else if(b)for(d=b.length;0<
d--;){var g=b[d];g.handler.call(g.thisObject,e)}f(a)}function aa(a){var b=n[a];b&&(C(a,b.handler,b.thisObject),delete n[a])}function T(a,b,c){var e=ma[a];if(e){a=0;for(var f;f=e[a];a++)if(f.handler===b&&f.thisObject===c)return}else d?P(v,a,R):v.addEventListener(a,O,!0),e=ma[a]=[];e.push({handler:b,thisObject:c})}function C(a,b,c){var e=ma[a];if(e)for(var f=0,g;g=e[f];f++)if(g.handler===b&&g.thisObject===c){e.splice(f,1);e.length||(delete ma[a],d?V(v,a,R):v.removeEventListener(a,O,!0));break}}function P(a,
b,c,e){a=J(a);if(!a)throw 5;if("function"!=typeof c)throw 6;var g=a===s?ka:a[y];g||(g=a[y]={});var h=g[b],m={handler:c,thisObject:e};if(h){for(a=0;g=h[a];a++)if(g.handler===c&&g.thisObject===e)return;h.push(m)}else h=g[b]=[m],h.fireEvent=function(a){a=D(a);if(d&&a&&ma[b]&&"undefined"==typeof a.returnValue){O(a);if(!0===a.cancelBubble)return;"undefined"==typeof a.returnValue&&(a.returnValue=!0)}for(var c=0,e=new Y(a),g;g=h[c++];)g.handler.call(g.thisObject,e);f(a)},sa?a.addEventListener(b,h.fireEvent,
!1):a.attachEvent("on"+b,h.fireEvent)}function V(a,b,c,d){a=J(a);var e=a===s?ka:a[y];if(e&&(e=e[b]))for(var f=0,g;g=e[f];f++)if(g.handler===c&&g.thisObject===d){e.splice(f,1);e.length||K(a,b);break}}function K(a,b){a=J(a);var c=a===s?ka:a[y];if(c)if("string"!=typeof b)for(b in c)K(a,b);else{var d=c[b];d&&(a.removeEventListener?a.removeEventListener(b,d.fireEvent,!1):a.detachEvent("on"+b,d.fireEvent),delete c[b])}}function E(a){return function(b,c){return a(D(b),c)}}l=this.path;var v=s.document,R=
a.fn.$null,c=a.array.from,ka={},y="basisEvents_"+a.genUID(),sa=!!v.addEventListener;t={BACKSPACE:8,TAB:9,CTRL_ENTER:10,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,ESCAPE:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123};var B={VALUE:1,BIT:1},qa={VALUE:2,BIT:4},m={VALUE:3,BIT:2},z={mousewheel:["wheel","mousewheel","DOMMouseScroll"]},Y=a.Class(null,{className:l+".Event",
KEY:t,init:function(c){c=D(c);for(var d in c)"function"!=typeof c[d]&&0==d in this&&(this[d]=c[d]);d=H(c);a.object.extend(this,{event_:c,sender:d,target:d,key:g(c),charCode:h(c),mouseLeft:e(c,B),mouseMiddle:e(c,qa),mouseRight:e(c,m),mouseX:p(c),mouseY:b(c),wheelDelta:I(c)})},stopBubble:function(){A(this.event_)},stopPropagation:function(){A(this.event_)},preventDefault:function(){q(this.event_)},die:function(){this.stopBubble();this.preventDefault()}}),ma={},n={},d=!sa,ga=!0,ra,Da={};M.exports={W3CSUPPORT:sa,
browserEvents:function(a){return z[a]||[a]},getEventInfo:function(a,b){b||(b="div");var c=b+"-"+a;if(Da[c])return Da[c];var d=!1,e=!1;if(!sa){var f="on"+a,g=v.createElement("div"),h=g.appendChild(v.createElement(b));g[f]=function(){e=!0};try{h.fireEvent(f),d=!0}catch(m){}}return Da[c]={supported:d,bubble:e}},KEY:t,MOUSE_LEFT:B,MOUSE_RIGHT:m,MOUSE_MIDDLE:qa,Event:Y,sender:E(H),cancelBubble:E(A),cancelDefault:E(q),kill:E(F),key:E(g),charCode:E(h),mouseButton:E(e),mouseX:E(p),mouseY:E(b),wheelDelta:E(I),
addGlobalHandler:T,removeGlobalHandler:C,captureEvent:function(a,b,c){n[a]&&aa(a);b||(b=F);T(a,b,c);n[a]={handler:b,thisObject:c}},releaseEvent:aa,addHandler:P,addHandlers:function(a,b,c){a=J(a);for(var d in b)P(a,d,b[d],c)},removeHandler:V,clearHandlers:K,fireEvent:function(a,b,c){a=J(a);if((a=a===s?ka:a[y])&&a[b])try{ga=!1,a[b].fireEvent(c)}finally{ga=!0}},onUnload:function(b,c){a.teardown(b,c)},wrap:D}},"6.js":function(l,M,a,s,t,L,x,N,fa){function D(a,b,e,f){var h=a.cultureValues[b];f=f?f+".":
"";for(var l in e)if(-1==l.indexOf(".")&&g.call(e,l)){var m=f+l,p=e[l];(h[m]=p)&&("object"==typeof p||Array.isArray(p))&&D(a,b,p,m)}}function J(b){var e;if("string"==typeof b){var f=a.path.extname(b);".l10n"!=f&&(b=b.replace(new RegExp(f+"([#?]|$)"),".l10n$1"));b=a.resource(b)}a.resource.isResource(b)&&(e=O[b.url]);return e||new T(b)}function H(a,b){a&&!V[a]&&(V[a]=new R(a,b));return V[a||P]}function A(b){if(b&&P!=b&&-1!=C.indexOf(b)){P=b;for(var e=0,g;g=f[e];e++)g.syncValues();a.Token.prototype.set.call(H,
b)}}function q(b){"string"==typeof b&&(b=b.trim().split(" "));if(b.length){var e={},f,g;K={};for(var h=0,l;f=b[h];h++)f=f.split("/"),2<f.length&&(f=f.slice(0,2)),l=f[0],g||(g=l),e[l]=H(l),K[l]=f;for(l in K)K[l]=a.array.flatten(K[l].map(function(a){return K[a]})).concat(g).filter(function(a,b,c){return!b||-1==c.lastIndexOf(a,b-1)});C=a.object.keys(e);0==P in e&&A(g)}}l=this.path;s=a.Class;var F=a.require("./2.js").Emitter,g=Object.prototype.hasOwnProperty;a.resource.extensions[".l10n"]=function(b,
e){return J(e).update(a.resource.extensions[".json"](b,e))};var h=[],e={},p=a.Token.prototype.set,b=s(a.Token,{className:l+".ComputeToken",init:function(b,e){e.computeTokens[this.basisObjectId]=this;this.token=e;a.Token.prototype.init.call(this,b)},get:function(){var a="plural"==this.token.type,b=a?V[P].plural(this.value):this.value,b=this.token.dictionary.getValue(this.token.name+"."+b);a&&(b=String(b).replace(/#/g,this.value));return b},toString:function(){return this.get()},destroy:function(){delete this.token.computeTokens[this.basisObjectId];
this.token=null;a.Token.prototype.destroy.call(this)}}),I=s(a.Token,{className:l+".Token",index:NaN,dictionary:null,name:"",type:"default",computeTokens:null,init:function(b,e,f,g){a.Token.prototype.init.call(this,g);this.index=h.push(this)-1;this.name=e;this.dictionary=b;this.computeTokens={};f?this.setType(f):this.apply()},toString:function(){return this.get()},apply:function(){for(var b in this.computeTokens)this.computeTokens[b].apply();a.Token.prototype.apply.call(this)},set:function(){},setType:function(a){"plural"==
a||M.exports.enableMarkup&&"markup"==a||(a="default");this.type!=a&&(this.type=a,this.apply())},compute:function(c,f){1==arguments.length&&(f=c,c="");f=a.getter(f);c=String(c).trim().split(/\s+|\s*,\s*/).sort();var g=c.concat(this.basisObjectId,f[a.getter.ID]).join("_");if(e[g])return e[g];for(var h=this,l={},q=function(a){p.call(this,f(a))},m={destroy:function(a){delete l[a.basisObjectId];this.destroy()}},v=0,s;s=c[v];v++)"destroy"!=s&&(m[s]=q);return e[g]=function(a){if(0==a instanceof F)throw 7;
var c=a.basisObjectId,d=l[c];d||(d=l[c]=new b(f(a),h),a.addHandler(m,d));return d}},computeToken:function(a){return new b(a,this)},token:function(a){"plural"==this.type&&(a=V[P].plural(a));if(this.dictionary)return this.dictionary.token(this.name+"."+a)},destroy:function(){for(var b in this.computeTokens)this.computeTokens[b].destroy();this.dictionary=this.value=this.computeTokens=null;h[this.index]=null;a.Token.prototype.destroy.call(this)}}),f=[],O={},aa=new a.Token,T=s(null,{className:l+".Dictionary",
tokens:null,types:null,cultureValues:null,index:NaN,resource:null,init:function(b){this.tokens={};this.types={};this.cultureValues={};this.index=f.push(this)-1;a.resource.isResource(b)?(this.resource=b,O[b.url]||(O[b.url]=this,aa.set(b.url)),b.fetch()):this.update(b||{})},update:function(a){a||(a={});this.cultureValues={};for(var b in a)/^_|_$/.test(b)||(this.cultureValues[b]={},D(this,b,a[b]));this.types=a._meta&&a._meta.type||{};for(var e in this.tokens)this.tokens[e].setType(this.types[e]);this.syncValues();
return this},syncValues:function(){for(var a in this.tokens)p.call(this.tokens[a],this.getValue(a))},getValue:function(a){for(var b=K[P]||[],e=0,f;f=b[e];e++)if((f=this.cultureValues[f])&&a in f)return f[a]},getCultureValue:function(a,b){return this.cultureValues[a]&&this.cultureValues[a][b]},token:function(a){var b=this.tokens[a];b||(b=this.tokens[a]=new I(this,a,this.types[a],this.getValue(a)));return b},destroy:function(){this.cultureValues=this.tokens=null;a.array.remove(f,this);this.resource&&
(delete O[this.resource.url],this.resource=null)}}),C=[],P=null,V={},K={},E={},v=[[1,function(a){return 0}],[2,function(a){return 1==a||1==a%10?0:1}],[2,function(a){return 0==a?0:1}],[2,function(a){return 1==a?0:1}],[2,function(a){return 0==a||1==a?0:1}],[2,function(a){return 1!=a%10||11==a%100?1:0}],[3,function(a){return 1==a?0:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?1:2}],[3,function(a){return 1==a%10&&11!=a%100?0:0!=a?1:2}],[3,function(a){return 1==a%10&&11!=a%100?0:2<=a%10&&(10>a%100||20<=a%100)?
1:2}],[3,function(a){return 1==a%10&&11!=a%100?0:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?1:2}],[3,function(a){return 0==a?0:1==a?1:2}],[3,function(a){return 1==a?0:0==a||0<a%100&&20>a%100?1:2}],[3,function(a){return 1==a?0:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?1:2}],[3,function(a){return 1==a?0:2<=a&&4>=a?1:2}],[4,function(a){return 1==a?0:2==a?1:8!=a&&11!=a?2:3}],[4,function(a){return 1==a?0:2==a?1:3==a?2:3}],[4,function(a){return 1==a%100?1:2==a%100?2:3==a%100||4==a%100?3:0}],[4,function(a){return 1==
a?0:0==a||1<a%100&&11>a%100?1:10<a%100&&20>a%100?2:3}],[4,function(a){return 1==a||11==a?0:2==a||12==a?1:2<a&&20>a?2:3}],[5,function(a){return 1==a?0:2==a?1:7>a?2:11>a?3:4}],[6,function(a){return 0==a?0:1==a?1:2==a?2:3<=a%100&&10>=a%100?3:11<=a%100?4:5}]];"ay bo cgg dz fa id ja jbo ka kk km ko ky lo ms my sah su th tt ug vi wo zh;mk;jv;af an ast az bg bn brx ca da de doi el en eo es es-AR et eu ff fi fo fur fy gl gu ha he hi hne hu hy ia it kn ku lb mai ml mn mni mr nah nap nb ne nl nn no nso or pa pap pms ps pt rm rw sat sco sd se si so son sq sv sw ta te tk ur yo;ach ak am arn br fil fr gun ln mfe mg mi oc pt-BR tg ti tr uz wa zh;is;csb;lv;lt;be bs hr ru sr uk;mnk;ro;pl;cs sk;cy;kw;sl;mt;gd;ga;ar".split(";").forEach(function(a,
b){a.split(" ").forEach(function(a){E[a]=this},v[b])});var R=a.Class(null,{className:l+".Culture",name:"",pluralForm:null,init:function(a,b){this.name=a;V[a]||(V[a]=this);this.pluralForm=b||E[a]||E[a.split("-")[0]]||v[0]},plural:function(a){return Number(this.pluralForm[1](Math.abs(parseInt(a,10))))}});a.object.extend(H,new a.Token);H.set=A;q("en-US");A("en-US");M.exports={ComputeToken:b,Token:I,token:function(b){if("#"==b.charAt(0))return h[parseInt(b.substr(1),36)];if(b=b.match(/^(.+?)@(.+)$/))return J(a.path.resolve(b[2])).token(b[1])},
Dictionary:T,dictionary:J,getDictionaries:function(){return f.slice(0)},addCreateDictionaryHandler:aa.attach.bind(aa),removeCreateDictionaryHandler:aa.detach.bind(aa),Culture:R,culture:H,getCulture:function(){return P},setCulture:A,getCultureList:function(){return C.slice(0)},setCultureList:q,pluralForms:v,onCultureChange:function(a,b,e){H.attach(a,b);e&&a.call(b,P)}}},"7.js":function(l,M,a,s,t,L,x,N,fa){function D(a,b){return new Function(a,b)}l=a.require("./8.js");var J=l.TYPE_ELEMENT,H=l.TYPE_ATTRIBUTE,
A=l.TYPE_ATTRIBUTE_CLASS,q=l.TYPE_ATTRIBUTE_STYLE,F=l.TYPE_ATTRIBUTE_EVENT,g=l.TYPE_TEXT,h=l.TYPE_COMMENT,e=l.TOKEN_TYPE,p=l.TOKEN_BINDINGS,b=l.TOKEN_REFS,I=l.ATTR_NAME,f=l.ATTR_NAME_BY_TYPE,O=l.ELEMENT_NAME,aa=l.ELEMENT_ATTRS,T=l.CLASS_BINDING_ENUM,C=l.CLASS_BINDING_BOOL,P={},V=function(){function a(b,c){for(var e=0,f;f=b[e];e++)-1==f.indexOf(":")&&y.push(f+":"+c)}function l(a){var b=t.length,b=c[b]||"r"+b;t.push(b+"="+a);return b}function s(c,y,D,n){for(var d,H,K,P,T=0,L=0,M=0,V;V=c[T];T++,L++,
P=!1){T?c[T+1]?(V[e]==c[T-1][e]&&V[e]==g&&M++,d=y+".childNodes["+(D?L:L+(M?" + "+M+" * TEXT_BUG":""))+"]"):d=y+".lastChild":d=y+".firstChild";if(H=V[b])P=!0,d=l(d),a(H,d);V[p]&&(V[p]&&"number"==typeof V[p]&&(V[p]=V[b][V[p]-1]),P||(P=!0,d=l(d)),K=[V[e],d,V[p],H?-1!=H.indexOf("element"):!1],C.push(K));if(V[e]==J){K=-1;y==x&&B.push(d+"."+n);P||(d=l(d),K=t.length);for(var k=[],N=[],va=aa,wa;wa=V[va];va++)wa[e]==J||wa[e]==g||wa[e]==h?N.push(wa):k.push(wa);for(var va=0,$;$=k[va];va++){var ea=$[e];if(ea!=
F){wa=f[ea]||$[I];if(H=$[b])P=!0,a(H,l(d+'.getAttributeNode("'+wa+'")'));if(H=$[p])switch(P=!0,ea){case A:for(ea=0;$=H[ea];ea++)$=[2,d,$[1],wa,$[0]].concat(-1==$[2]?[]:$.slice(2)),C.push($);break;case q:for(ea=0;$=H[ea];ea++){m++;for(var Ba=0,S;S=$[0][Ba];Ba++)C.push([2,d,S,wa,$[0],$[1],$[2],$[3],m])}break;default:for(m++,ea=0;S=H[0][ea];ea++)C.push([2,d,S,wa,H[0],H[1],V[O],m])}}}N.length&&s(N,d,D);P||K!=t.length||t.pop()}}}var c="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),t,
y,C,B,x,m;return function(a,b,c,e){t=[];y=[];C=[];B=[];x=b||"_";m=0;s(a,x,c,e);return{path:t,ref:y,binding:C,markedElementList:B}}}(),K=function(){function b(a,c,f){var g=[],h=a[5];a=a[4];for(var l,p,q=0;q<h.length;q++)if("string"==typeof h[q])g.push('"'+h[q].replace(/"/g,'\\"')+'"');else if(l=a[h[q]],p=l.indexOf(":"),-1==p)g.push("l10n"==c?'"{'+l+'}"':"bool"==c?"(__"+l+'||"")':"__"+l);else{var n=null,d=l.substr(p+1).replace(e,function(a,b){n=b;return""});n?g.push(f[l.substr(p+1)]):g.push('l10n["'+
d+'"]')}1==g.length&&g.push('""');return g.join("+")}var e=/\.\{([a-zA-Z_][a-zA-Z0-9_\-]*)\}/,f={disabled:"*",checked:["input"],indeterminate:["input"],value:["input","textarea","select"],minlength:["input"],maxlength:["input"],readonly:["input"],selected:["option"],multiple:["select"]},c={disabled:!0,checked:!0,selected:!0,readonly:!0,multiple:!0,indeterminate:!0},h={1:"bind_element",3:"bind_textNode",8:"bind_comment"};return function(l){function p(b){aa[b]=!0;s.push(m+"="+b+"("+a.array(arguments,
1)+");")}for(var q={},s,m,t=0,x=[],A=[],n=[],d,D,O=[],F={},K=0,P={},aa={resolve:!0},V=0,k;k=l[V];V++){var L=k[0],M=k[1],N=k[2],$=k[3],ea=N.split(":");if("l10n"==ea[0]&&ea[1]){var ea=ea[1],Ba=null,S=ea.replace(e,function(a,b){Ba=b;return""});if(Ba){0==ea in F&&(d="$l10n_"+K++,F[ea]=d,O.push('set("'+d+'",'+d+")"),x.push(d+'=tools.l10nToken("'+S+'").computeToken()'),s=q[Ba],s||(s=q[Ba]=[],x.push("__"+Ba)),s.push(d+".set(__"+Ba+");"));N=F[ea];m="_"+t++;d="__"+N;s=q[N];s||(s=q[N]=[],x.push(d));L==g?(x.push(m+
"="+M),p(h[L],M,m,"value",$)):(d='"'+k[I]+'"',x.push(m),p("bind_attr",M,d,m,b(k,!1,F)));continue}}n.push(k)}for(V=0;k=n[V];V++)if(L=k[0],M=k[1],N=k[2],$=k[3],-1==["get","set","templateId_"].indexOf(N)){ea=N.split(":");l="anim"==ea[0];S="l10n"==ea[0];l&&(N=ea[1]);s=q[N];m="_"+t++;d="__"+N;if(S&&ea[1])if(ea=ea[1],Ba=null,S=ea,D||(D={}),q[S]||(q[S]=[],q[S].l10n="$l10n_"+K++,x.push("__"+q[S].l10n+'=l10n["'+S+'"]'),D[S]=[]),s=q[S],L==g){D[S].push(M+".nodeValue=value;");s.nodeBind?s.push(M+".nodeValue=value;"):
(x.push(m+"="+M),p(h[L],M,m,"value",$),s.nodeBind=m);continue}else D[S].push("bind_attr("+[M,'"'+k[I]+'"',"NaN",b(k,"l10n",F)]+");");s||(s=q[N]=[],x.push(d));if(L!=H)if(s.nodeBind)switch(L){case J:p(h[L],M,M,"value!==null?String(value):null");break;case g:s.push(M+".nodeValue=value;")}else x.push(m+"="+M),p(h[L],M,m,"value",$),s.nodeBind=m;else switch(d=k[I],d){case "class":d="";$="value";L=k[7];switch(k[5]){case C:var $=[k[6]],ba=k[4],oa=Array.isArray(ba)?ba:$.map(function(a){return ba+a}),$='value?"'+
oa[0]+'":""';L&&(d=oa[L-1]);break;case T:$=k[8];ba=k[4];oa=Array.isArray(ba)?ba:$.map(function(a){return ba+a});$=$.map(function(a,b){return'value=="'+a+'"?"'+oa[b]+'"'}).join(":")+':""';L&&(d=oa[L-1]);break;default:ba=k[4],$='typeof value=="string"||typeof value=="number"?"'+ba+'"+value:(value?"'+ba+N+'":"")'}x.push(m+'="'+d+'"');p("bind_attrClass",M,m,$,l);break;case "style":L=b(k,!1,F);l=k[8];P[l]||(P[l]=m,x.push(m+"="+("hide"==k[7]?'""':'"none"')));k[7]&&(L=L.replace(/\+""$/,"")+("hide"==k[7]?
'?"none":""':'?"":"none"'));m=P[l];p("bind_attrStyle",M,'"'+k[6]+'"',m,L);break;default:$=f[d],ea=k[6].toLowerCase(),L=$&&c[d]?b(k,"bool",F)+'?"'+d+'":""':b(k,!1,F),l=k[7],P[l]||(x.push(m+"="+L),P[l]=m),m=P[l],"tabindex"==d?p("bind_attr",M,'"'+d+'"',m,L+"==-1?"+(-1==["input","button","textarea"].indexOf(ea)?'""':"-1")+":"+L):p("bind_attr",M,'"'+d+'"',m,L),!$||"*"!=$&&-1==$.indexOf(ea)||s.push("if("+M+"."+d+"!="+m+")"+M+"."+d+"="+(c[d]?"!!"+m:m)+";")}}A.push(';function set(bindName,value){if(typeof bindName!="string")');
for(N in q)q[N].nodeBind&&A.push("if(bindName==="+q[N].nodeBind+')bindName="'+N+'";else ');A.push("return;");A.push("value=resolve.call(instance,bindName,value,Attaches);switch(bindName){");for(N in q)t=q[N].l10n||N,A.push('case"'+N+'":if(__'+t+"!==value){__"+t+"=value;"+q[N].join("")+"}break;");A.push("}}");var N=[],Ha;for(Ha in aa)N.push(Ha+"=tools."+Ha);return{keys:a.object.keys(q).filter(function(a){return-1==a.indexOf("@")}),tools:N,vars:x,set:A.join(""),l10n:D,l10nCompute:O}}}();M.exports={getFunctions:function(b,
e,f,c,g,h){if(e=P[f&&a.path.relative(f)])return e;g=V(b,"_",g,h);h=K(g.binding);e=g.markedElementList.join("=");f={keys:h.keys,l10nKeys:a.object.keys(h.l10n)};1==b.length&&(g.path[0]="a=_");if(h.l10n){b=[];for(var l in h.l10n)b.push('case"'+l+'":if(value==null)value="{'+l+'}";l10n[path]=value;'+h.l10n[l].join("")+"break;");f.createL10nSync=D(["_","l10n","bind_attr","TEXT_BUG"],"var "+g.path+";return function(path, value){switch(path){"+b.join("")+"}}")}f.createInstance=D("tid map proto tools l10n TEXT_BUG".split(" "),
"var getBindings=tools.createBindingFunction(["+h.keys.map(function(a){return'"'+a+'"'})+"]),"+(h.tools.length?h.tools+",":"")+"Attaches=function(){};Attaches.prototype={"+h.keys.map(function(a){return a+":null"})+"};return function createInstance_(id,obj,onAction,onRebuild,bindings,bindingInterface){var _=proto.cloneNode(true),"+g.path.concat(h.vars)+",instance={context:obj,action:onAction,rebuild:onRebuild,handler:null,bindings:bindings,bindingInterface:bindingInterface,attaches:null,tmpl:{"+[g.ref,
"templateId_:id","set:set"]+"}}"+(e?";if(obj||onAction)"+e+"=(id<<12)|tid":"")+h.set+";if(bindings)instance.handler=getBindings(bindings,obj,set,bindingInterface);"+h.l10nCompute+";return instance}");return f}}},"8.js":function(l,M,a,s,t,L,x,N,fa){M.exports={TYPE_ELEMENT:1,TYPE_ATTRIBUTE:2,TYPE_ATTRIBUTE_CLASS:4,TYPE_ATTRIBUTE_STYLE:5,TYPE_ATTRIBUTE_EVENT:6,TYPE_TEXT:3,TYPE_COMMENT:8,TOKEN_TYPE:0,TOKEN_BINDINGS:1,TOKEN_REFS:2,ATTR_NAME:3,ATTR_VALUE:4,ATTR_NAME_BY_TYPE:{4:"class",5:"style"},ATTR_TYPE_BY_NAME:{"class":4,
style:5},ATTR_VALUE_INDEX:{2:4,4:3,5:3,6:2},ELEMENT_NAME:3,ELEMENT_ATTRS:4,ELEMENT_CHILDS:5,TEXT_VALUE:3,COMMENT_VALUE:3,CLASS_BINDING_ENUM:1,CLASS_BINDING_BOOL:2,CLASS_BINDING_INVERT:3,CLASS_BINDING_EQUAL:4,CLASS_BINDING_NOTEQUAL:5}},"9.js":function(l,M,a,s,t,L,x,N,fa){function D(b){var g=e[b];if(!g){var g=document.getElementById(b),h="";g&&"SCRIPT"==g.tagName&&"text/basis-template"==g.type&&(h=g.textContent||g.text);g=e[b]=a.resource.virtual("tmpl",h||"")}return g}function J(){this.destroyBuilder&&
H.call(this);for(var a=this;a=a.attaches_;)a.handler.call(a.context)}function H(){var b=F(this.source,this.baseURI,!1,{isolate:this.getIsolatePrefix()}),e=this.destroyBuilder,g=this.builder(b.tokens,this);this.createInstance=g.createInstance;this.clearInstance=g.destroyInstance;this.destroyBuilder=g.destroy;this.getBinding=function(){return{names:g.keys}};var h=b.deps,l=this.deps_;this.deps_=h;if(l)for(var p=0,q;q=l[p];p++)q.bindingBridge.detach(q,H,this);if(h)for(p=0;q=h[p];p++)q.bindingBridge.attach(q,
H,this);b=b.resources;h=this.resources;if(this.resources=b)for(p=0;l=b[p];p++)l=a.resource(l).fetch(),"function"==typeof l.startUse&&l.startUse();if(h)for(p=0;l=h[p];p++)l=a.resource(l).fetch(),"function"==typeof l.stopUse&&l.stopUse();e&&e(!0)}l=this.path;s=a.Class;var A=a.cleaner,q=a.path;t=a.require("./8.js");var F=a.require("./a.js").getDeclFromSource;L=a.require("./a.js").makeDeclaration;x=a.require("./b.js");var g=x.get,h=[],e={},p=s(null,{className:l+".Template",__extend__:function(a){return a instanceof
p?a:a instanceof b?new I(a):new p(a)},source:"",baseURI:"",url:"",attaches_:null,init:function(a){if(4096==h.length)throw 8;this.setSource(a||"");this.templateId=h.push(this)-1},bindingBridge:{attach:function(a,b,e){a.attaches_={handler:b,context:e,attaches_:a.attaches_}},detach:function(a,b,e){for(var g;g=a,a=a.attaches_;)if(a.handler===b&&a.context===e){g.attaches_=a.attaches_;break}},get:function(a){return(a=a.source)&&a.bindingBridge?a.bindingBridge.get(a):a}},createInstance:function(a,b,e,g,
h){H.call(this);return this.createInstance(a,b,e,g,h)},getBinding:function(a){H.call(this);return this.getBinding(a)},clearInstance:function(a){},getIsolatePrefix:function(){return"i"+this.templateId+"__"},setSource:function(a){var b=this.source;if(b!=a){if("string"==typeof a){var e=a.match(/^([a-z]+):/);if(e)switch(a=a.substr(e[0].length),e[1]){case "id":a=D(a);break;case "path":a=g(a)}}b&&b.bindingBridge&&(this.baseURI=this.url="",b.bindingBridge.detach(b,J,this));a&&a.bindingBridge&&(a.url&&(this.url=
a.url,this.baseURI=q.dirname(a.url)+"/"),a.bindingBridge.attach(a,J,this));this.source=a;J.call(this)}},destroy:function(){this.destroyBuilder&&this.destroyBuilder();this.source=this.resources=this.getBinding=this.createInstance=this.attaches_=null}}),b=function(b){a.object.extend(this,b)},I=a.Class(null,{className:l+".TemplateSwitcher",ruleRet_:null,templates_:null,templateClass:p,ruleEvents:null,rule:String,init:function(a){this.ruleRet_=[];this.templates_=[];this.rule=a.rule;if((a=a.events)&&a.length){this.ruleEvents=
{};for(var b=0,e;e=a[b];b++)this.ruleEvents[e]=!0}A.add(this)},resolve:function(a){a=this.rule(a);var b=this.ruleRet_.indexOf(a);-1==b&&(this.ruleRet_.push(a),b=this.templates_.push(new this.templateClass(a))-1);return this.templates_[b]},destroy:function(){this.ruleRet_=this.templates_=this.rule=null}});A.add({destroy:function(){for(var a=0,b;b=h[a];a++)b.destroy();h=null}});M.exports={DECLARATION_VERSION:3,TYPE_ELEMENT:t.TYPE_ELEMENT,TYPE_ATTRIBUTE:t.TYPE_ATTRIBUTE,TYPE_ATTRIBUTE_CLASS:t.TYPE_ATTRIBUTE_CLASS,
TYPE_ATTRIBUTE_STYLE:t.TYPE_ATTRIBUTE_STYLE,TYPE_ATTRIBUTE_EVENT:t.TYPE_ATTRIBUTE_EVENT,TYPE_TEXT:t.TYPE_TEXT,TYPE_COMMENT:t.TYPE_COMMENT,TOKEN_TYPE:t.TOKEN_TYPE,TOKEN_BINDINGS:t.TOKEN_BINDINGS,TOKEN_REFS:t.TOKEN_REFS,ATTR_NAME:t.ATTR_NAME,ATTR_VALUE:t.ATTR_VALUE,ATTR_NAME_BY_TYPE:t.ATTR_NAME_BY_TYPE,CLASS_BINDING_ENUM:t.CLASS_BINDING_ENUM,CLASS_BINDING_BOOL:t.CLASS_BINDING_BOOL,ELEMENT_NAME:t.ELEMENT_NAME,ELEMENT_ATTRS:t.ELEMENT_ATTRS,ELEMENT_CHILDS:t.ELEMENT_CHILDS,TEXT_VALUE:t.TEXT_VALUE,COMMENT_VALUE:t.COMMENT_VALUE,
TemplateSwitchConfig:b,TemplateSwitcher:I,Template:p,switcher:function(e,g){var h=a.array(arguments);g=h.pop();return new b({rule:g,events:h.join(" ").trim().split(/\s+/)})},getDeclFromSource:F,makeDeclaration:L,resolveResource:function(b,e){return/^#\d+$/.test(b)?h[b.substr(1)]:/^id:/.test(b)?D(b.substr(3)):/^[a-z0-9\.]+$/i.test(b)&&!/\.tmpl$/.test(b)?g(b):a.resource(a.resource.resolveURI(b,e,'<b:include src="{url}"/>'))},SourceWrapper:x.SourceWrapper,Theme:x.Theme,theme:x.theme,getThemeList:x.getThemeList,
currentTheme:x.currentTheme,setTheme:x.setTheme,onThemeChange:x.onThemeChange,define:x.define,get:x.get,getPathList:x.getPathList}},"a.js":function(l,M,a,s,t,L,x,N,fa){function D(){return"i"+a.genUID()+"__"}function J(a){for(var b=[],c=0;c<a.length;c++)b.push(Array.isArray(a[c])?J(a[c]):a[c]);return b}function H(b,c,e,d){var f=b,g;b.bindingBridge&&(c="baseURI"in b?b.baseURI:"url"in b?a.path.dirname(b.url):c,g="url"in b?b.url:g,f=b.bindingBridge.get(b));Array.isArray(f)?(e&&(f=J(f)),f={tokens:f}):
"object"==typeof f&&Array.isArray(f.tokens)||(f=String(f));"string"==typeof f&&(f=z(f,c,d,g,b));return f}var A=a.array.search,q=a.array.add,F=a.array.remove,g=a.require("./q.js"),h=a.require("./r.js");l=a.require("./8.js");var e=l.TYPE_ELEMENT,p=l.TYPE_ATTRIBUTE,b=l.TYPE_ATTRIBUTE_CLASS,I=l.TYPE_ATTRIBUTE_STYLE,f=l.TYPE_ATTRIBUTE_EVENT,O=l.TYPE_TEXT,aa=l.TYPE_COMMENT,T=l.TOKEN_TYPE,C=l.TOKEN_BINDINGS,P=l.TOKEN_REFS,V=l.ATTR_NAME,K=l.ATTR_VALUE,E=l.ATTR_NAME_BY_TYPE,v=l.ATTR_TYPE_BY_NAME,R=l.ATTR_VALUE_INDEX,
c=l.ELEMENT_ATTRS,ka=l.TEXT_VALUE,y=l.CLASS_BINDING_ENUM,sa=l.CLASS_BINDING_BOOL,B=/^[a-z_][a-z0-9_\-]*$/i,qa=/^event-(.+)$/,m=function(){},z=function(){function l(a){return(a.prefix?a.prefix+":":"")+a.name}function s(a){return(a=a.refs)&&a.length?a:0}function n(a,b){a[P]||(a[P]=[]);q(a[P],b);"element"!=b&&(a[C]=1==a[P].length?b:0)}function d(a,b){var c=a[P].indexOf(b);if(-1!=c){var d=a[C]&&"number"==typeof a[C];a[P].splice(c,1);d&&c==a[C]-1&&(a[C]=b);a[P].length?d&&(a[C]-=c<a[C]-1):a[P]=0}}function t(a){var b=
{};if(a.attrs)for(var c=0,d;d=a.attrs[c];c++)b[l(d)]=d.value;return b}function x(a){var b={};if(a.attrs)for(var c=0,d;d=a.attrs[c];c++)b[l(d)]=d;return b}function z(a,b){for(var c=0;c<b.length;c++)q(a,b[c])}function J(a,b,c){for(var d=0,e;e=b[d];d++)e[1]!==$&&(e[1]=c+e[1]);a.unshift.apply(a,b)}function L(b,c,d,e){d?c=a.resource.resolveURI(d,b.baseURI,"<b:"+c.name+' src="{url}"/>'):(c=c.children[0],c=a.resource.virtual("css",c?c.value:"",b.sourceUrl).url);b.resources.push([c,e]);return c}function M(b,
g,h){function P(a,b){for(var c=[],d,e,g,u=0,k;k=a.attrs[u];u++)if("b"==k.prefix)switch(k.name){case "ref":k=(k.value||"").trim().split(/\s+/);for(g=0;g<k.length;g++)n(b,k[g]);break;case "show":case "hide":e=k}else(g=k.name.match(qa))?g=g[1]==k.value?[f,g[1]]:[f,g[1],k.value]:(g=[k.type,k.binding,s(k)],2==k.type&&g.push(l(k)),!k.value||h.optimizeSize&&k.binding&&2==k.type||g.push(k.value),k.type==I&&(d=g)),c.push(g);e&&(d||(d=[I,0,0],c.push(d)),u=e.binding,k=!1,k="show"==e.name,u&&u[0].length==u[1].length?
(d[1]||(d[1]=[]),d[1].push(u.concat("display",e.name))):k=!(k^""===e.value),k&&(d[3]=(d[3]?d[3]+"; ":"")+"display: none"));return c.length?c:0}function N(a,b,d){var g=t(a),u=x(a);b&&(g.name=b);if(g.name&&B.test(g.name)){var k=La[g.ref||"element"];if(k&&k.token[T]==e){b=k.token;var l=g.name.match(qa),G=l?f:v[g.name]||p;a=R[G]||K;var m=b&&A(b,g.name,function(a){return a[T]==f?"event-"+a[1]:E[a[T]]||a[V]},c);m||"remove"==d||"remove-class"==d||(l?m=[G,l[1]]:(m=[G,0,0,G==p?g.name:""],G==p&&m.push("")),
b||(b=[],k.token.push(b)),b.push(m));k="class"==g.name||"style"==g.name;switch(d){case "set":if(m[T]==f){g.value==l[1]?m.length=2:m[a]=g.value;break}d=u.value||{};m[C]=d.binding||0;h.optimizeSize&&m[C]&&!k?m.length=a:m[a]=d.value||"";if(k&&!m[C]&&!m[a]){F(b,m);break}break;case "append":d=u.value||{};u=d.value||"";d=d.binding;if(!l)if(d)if(G=m[C])switch(g.name){case "style":for(var n={},g=0,ia;ia=G[g];g++)n[ia[2]]=g;for(g=0;ia=d[g];g++)ia[2]in n?G[n[ia[2]]]=ia:G.push(ia);break;case "class":G.push.apply(G,
d);break;default:for(d[0].forEach(function(a){q(this,a)},G[0]),g=0;g<d[1].length;g++)n=d[1][g],"number"==typeof n&&(n=G[0].indexOf(d[0][n])),G[1].push(n)}else m[C]=d,k||m[C][1].unshift(m[a]);else!k&&m[C]&&m[C][1].push(g.value);u&&(m[a]=(m[a]||"")+(m[a]&&(l||k)?" ":"")+u);!k||m[C]||m[a]||F(b,m);break;case "remove-class":if(m){d=u.value||{};l=(d.value||"").split(" ");k=(m[a]||"").split(" ");u=m[C];if(d.binding&&u){for(g=0;G=d.binding[g];g++)for(n=u.length-1;ia=u[n];n--){var na=ia[3]||ia[1];ia[0]===
G[0]&&na===G[1]&&u.splice(n,1)}u.length||(m[C]=0)}for(g=0;g<l.length;g++)F(k,l[g]);m[a]=k.join(" ");m[C]||m[a]||F(b,m)}break;case "remove":m&&F(b,m)}}}}for(var ya=[],Ia=0,ca,u;ca=b[Ia];Ia++){var G=s(ca),ia=G&&1==G.length?G[0]:0;switch(ca.type){case e:if("b"==ca.prefix){var na=t(ca),ta=x(ca);switch(ca.name){case "style":var pa=na.namespace||na.ns,Na=pa?$:"";ca=L(g,ca,na.src,Na);pa&&(0==ca in $&&($[ca]=D()),g.styleNSPrefix[pa]=$[ca]);break;case "isolate":g.isolate||(g.isolate=na.prefix||h.isolate||
D());break;case "l10n":na.src&&(g.dictURI=a.resource.resolveURI(na.src,g.baseURI,"<b:"+ca.name+' src="{url}"/>'));break;case "define":if("name"in na&&!g.defines[na.name]){var G=na.from||na.name,ia=na.name,Ga=!1,Fa;switch(na.type){case "bool":Ga=[G,sa,ia,"true"==na["default"]?1:0];break;case "enum":if(0=="values"in na)break;Fa=(na.values||"").trim();if(!Fa)break;Fa=Fa.split(/\s+/);Ga=Fa.indexOf(na["default"]);Ga=[G,y,ia,Ga+1,Fa]}Ga&&(g.defines[ia]=Ga)}break;case "text":G=ca.children[0];b[Ia--]=a.object.extend(G,
{refs:(na.ref||"").trim().split(/\s+/),value:"notrim"in na?G.value:G.value.replace(/^\s*[\r\n]+|[\r\n]+\s*$/g,"")});break;case "include":if(G=na.src){Fa=m(G,g.baseURI);if(!Fa)continue;if(-1==wa.indexOf(Fa)){G=ta.isolate?ta.isolate.value||D():"";ia=H(Fa,"",!0,h);q(g.deps,Fa);g.includes.push([ta.src,Fa,ia.includes]);ia.deps&&z(g.deps,ia.deps);ia.warns&&g.warns.push.apply(g.warns,ia.warns);ia.resources&&0=="no-style"in na&&J(g.resources,ia.resources,G);var La=k(ia.tokens);Fa=(ca.children||[]).slice();
Ga=a.object.slice(ia.styleNSPrefix);ta["class"]&&Fa.unshift({type:e,prefix:"b",name:"append-class",attrs:[a.object.extend(a.object.slice(ta["class"]),{name:"value"})]});na.id&&Fa.unshift({type:e,prefix:"b",name:"set-attr",attrs:[{type:p,name:"name",value:"id"},{type:p,name:"value",value:na.id}]});na.ref&&La.element&&na.ref.trim().split(/\s+/).map(function(a){n(La.element.token,a)});for(na=0;ta=Fa[na];na++)if(ta.type==e&&"b"==ta.prefix)switch(ta.name){case "style":var za=t(ta),Na=(pa=za.namespace||
za.ns)?$:G;ca=L(g,ta,za.src,Na);pa&&(0==ca in $&&($[ca]=D()),Ga[pa]=$[ca]);break;case "replace":case "remove":case "before":case "after":ca="replace"==ta.name||"remove"==ta.name;za=t(ta);if(pa=(pa="ref"in za||!ca?za.ref:"element")&&La[pa])za=pa.owner.indexOf(pa.token),-1!=za&&(ca=[za+("after"==ta.name),ca],"remove"!=ta.name&&(ca=ca.concat(M(ta.children,g,h)||[])),pa.owner.splice.apply(pa.owner,ca));break;case "prepend":case "append":za=t(ta);(ca=(pa=(pa="ref"in za?za.ref:"element")&&La[pa])&&pa.token)&&
ca[T]==e&&(za=M(ta.children,g,h)||[],"prepend"==ta.name?ca.splice.apply(ca,[c,0].concat(za)):ca.push.apply(ca,za));break;case "attr":case "set-attr":N(ta,!1,"set");break;case "append-attr":N(ta,!1,"append");break;case "remove-attr":N(ta,!1,"remove");break;case "class":case "append-class":N(ta,"class","append");break;case "set-class":N(ta,"class","set");break;case "remove-class":N(ta,"class","remove-class");break;case "add-ref":za=t(ta);(ca=(pa=(pa="ref"in za?za.ref:"element")&&La[pa])&&pa.token)&&
za.name&&n(ca,za.name);break;case "remove-ref":za=t(ta),(ca=(pa=(pa="ref"in za?za.ref:"element")&&La[pa])&&pa.token)&&d(ca,za.name||za.ref)}else ia.tokens.push.apply(ia.tokens,M([ta],g,h)||[]);La.element&&d(La.element.token,"element");a.object.complete(g.styleNSPrefix,Ga);G?va(ia.tokens,G):ia.isolate&&!g.isolate&&(g.isolate=h.isolate||D());ya.push.apply(ya,ia.tokens)}}}continue}u=[1,ia,G,l(ca)];u.push.apply(u,P(ca,u,h.optimizeSize)||[]);u.push.apply(u,M(ca.children,g,h)||[]);break;case O:G&&2==G.length&&
A(G,"element")&&(ia=G[+!G.lastSearchIndex]);u=[3,ia,G];G&&ca.value=="{"+G.join("|")+"}"||u.push(ca.value);break;case aa:if(h.optimizeSize&&!ia&&!G)continue;u=[8,ia,G];h.optimizeSize||G&&ca.value=="{"+G.join("|")+"}"||u.push(ca.value)}for(;0===u[u.length-1];)u.pop();ya.push(u)}return ya.length?ya:0}function N(a,b,c){if("string"==typeof a){var d=a.split(":"),e="l10n"==d[0];if(e&&2==d.length&&-1==a.indexOf("@")){if(!b)return!1;d[1]=d[1]+"@"+b}a=d.join(":");e&&(c[a]=!0)}return a}function k(a,b,g,h){g||
(g={});h=h||0;for(var l;l=a[h];h++){var m=l[T],n=l[P];if(m!==f&&n)for(var p=n.length-1,u;u=n[p];p--)-1!=u.indexOf(":")?d(l,u):(g[u]&&d(g[u].token,u),l[C]==u&&(l[C]=p+1),g[u]={owner:a,token:l});m===e&&k(l,b,g,c)}return g}function fa(a,d,g,f){f=f||0;for(var h;h=a[f];f++){var k=h[T],l=h[C];switch(h[T]){case e:fa(h,d,g,c);break;case O:l&&(k=N(l,d.dictURI,d.l10nTokens),h[C]=k||0,!1===k&&(h[ka]="{"+l+"}"));break;case p:if(l)for(h=l[0],l=0;l<h.length;l++)k=N(h[l],d.dictURI,d.l10nTokens),h[l]=!1===k?"{"+
h[l]+"}":k;break;case b:if(l){for(var m=0,u;u=l[m];m++)if(!(2<u.length)){var G=u[1].split(":"),n=G.pop(),G=G.pop()||"";(n=d.defines[n])?(u[1]=(G?G+":":"")+n[0],u.push.apply(u,n.slice(1))):u.push(0)}g.optimizeSize&&(l=R[k],h[l]||(h.length=l))}}}}function va(a,d,g,f){function h(a){var b=a.split(":");return 1==b.length?d+b[0]:g?b[0]?0==b[0]in g.styleNSPrefix?a:g.styleNSPrefix[b[0]]+b[1]:b[1]:a}f=f||0;for(var k;k=a[f];f++){var l=k[T];l==e&&va(k,d,g,c);if(l==b){var m=k[C],l=R[l];k[l]&&(k[l]=k[l].split(/\s+/).map(h).join(" "));
if(m)for(k=0;l=m[k];k++)l[0]=h(l[0])}}}var wa=[],$={},ea={};return function(b,c,d,e,f){var l=[];d=d||{};var m={sourceUrl:e,baseURI:c||"",dictURI:e?a.path.resolve(e):c||"",tokens:null,styleNSPrefix:{},resources:[],includes:[],deps:[],defines:{},l10nTokens:{},warns:l,isolate:!1};m.dictURI&&(c=a.path.extname(m.dictURI))&&".l10n"!=c&&(m.dictURI=m.dictURI.substr(0,m.dictURI.length-c.length)+".l10n");b.templateTokens||(b=g(String(b),{loc:!!d.loc,range:!!d.range}));b.warns&&b.warns.forEach(function(a){m.warns.push(a[0])});
wa.push(!0!==f&&f||{});m.tokens=M(b,m,d);wa.pop();m.tokens||(m.tokens=[[O,0,0,""]]);n(m.tokens[0],"element");k(m.tokens,m.dictURI);fa(m.tokens,m,d);if(0==wa.length){va(m.tokens,m.isolate||"",m);if(m.isolate)for(b=0;d=m.resources[b];b++)d[1]!==$&&(d[1]=m.isolate+d[1]);m.resources=m.resources.filter(function(b,c,d){return!a.array.search(d,String(b),String,c+1)}).map(function(b){var c=b[0],d=b[1];if(b=d===$)if(d=$[c],c in ea)return ea[c].url;if(!d)return c;var e=a.resource.virtual("css","").ready(function(b){b.url=
c+"?isolate-prefix="+d;b.baseURI=a.path.dirname(c)+"/";g()}),g=a.resource(c).ready(function(a){a=h(a.cssText||"",d);e.update(a)});b&&(ea[c]=e);return e.url})}l.length||(m.warns=!1);return m}}();a.resource("./9.js").ready(function(a){m=a.resolveResource});M.exports={makeDeclaration:z,getDeclFromSource:H}},"s.js":function(l,M,a,s,t,L,x,N,fa){function D(a){var h={},e;for(e in a)a.hasOwnProperty(e)&&(h[e]=a[e]);return h}function J(a,h,e){switch(typeof a){case "boolean":case "number":case "undefined":return String(a);
case "string":return"'"+a.replace(/\'/g,"\\'")+"'";case "function":return a.originalFn_&&(a=a.originalFn_),a=String(a),h?a.replace(/\{([\r\n]|.)*\}/,"{..}"):a;case "object":if(null===a)return"null";if(Array.isArray(a))return"["+a.map(function(a){return J(a,!e,e)}).join(", ")+"]";if("[object Date]"===F.call(a)||"[object RegExp]"===F.call(a))return String(a);if(a&&a.constructor===Number)debugger;if(h)return"{object}";h=[];for(var l in a)a.hasOwnProperty(l)&&h.push(l+": "+J(a[l],!e,e));return!h.length&&
a.valueOf()!==a&&a.constructor.toString().match(/function (Number|String|Boolean)/)?"new Object("+J(a.valueOf())+")":"{ "+(h.length?h.join(", ")+" ":"")+"}";default:return"unknown type `"+typeof a+"`"}}function H(a,h,e){var l;if(a!==h){if(typeof a!=typeof h||null!=a&&null!=h&&a.constructor!==h.constructor)return"ERROR_TYPE_MISSMATCH";if(a!=h)switch(typeof a){case "string":case "boolean":case "undefined":return"ERROR_WRONG_ANSWER";case "number":if(a!==a&&h!==h)break;return"ERROR_WRONG_ANSWER";case "function":h.originalFn_&&
(h=h.originalFn_);a.originalFn_&&(a=a.originalFn_);if(String(h)==String(a))break;return"ERROR_WRONG_ANSWER";default:if(!h&&a||h&&!a||String(h)!=String(a))return"ERROR_WRONG_ANSWER";if(a&&"length"in a){if(a.length!=h.length)return"ERROR_WRONG_ANSWER";for(var b=0;b<a.length;b++)if(a[b]!==h[b])if(e&&!a.__antirecursion__){if(a.__antirecursion__=!0,l=H(a[b],h[b],e),delete a.__antirecursion__,l)return l}else return"ERROR_WRONG_ANSWER"}else{for(b in a)if(0==b in h||a[b]!==h[b])if(e&&b in h&&!a.__antirecursion__){if(a.__antirecursion__=
!0,l=H(a[b],h[b],e),delete a.__antirecursion__,l)return l}else return"ERROR_WRONG_ANSWER";for(b in h)if(0==b in a)return"ERROR_WRONG_ANSWER"}}}}var A=a.require("./j.js").fn,q=a.array.from,F=Object.prototype.toString;M.exports={sliceOwnOnly:D,makeStaticCopy:function(a){return a&&"object"==typeof a?Array.isArray(a)?q(a):D(a):a},value2string:J,compareValues:H,isTruthy:function(a){if(!a)return"ERROR_WRONG_ANSWER"},getFnInfo:function(a){var h=A(a);a=h.args?h.args.split(/\s*,\s*/):[];var h=h.body.replace(/([\r\n]|\s)*\"use strict\";/,
"").replace(/\r/g,"").replace(/^(\s*\n)+|(\n\s*)*$/g,""),e=h.split(/\n+/).map(function(a){return a.match(/^(\s*)/)[0]}).sort()[0];return{args:a,code:h.replace(new RegExp("(^|\\n)"+e,"g"),"$1")||"// no source code"}}}}};(function M(a,s,t){function L(a){function b(a){return Math.round(a).toString(36)}var c=b(10+25*Math.random());for(a||(a=16);c.length<a;)c+=b(new Date*Math.random());return c.substr(0,a)}function x(a,b){for(var c in b)a[c]=b[c];return a}function N(a,b){for(var c in b)0==c in a&&(a[c]=
b[c]);return a}function fa(a){var b=[],c;for(c in a)b.push(c);return b}function D(a,b){var c={};if(!b)return x(c,a);for(var d=0,e;e=b[d++];)e in a&&(c[e]=a[e]);return c}function J(a,b,c){var d=[],e;for(e in a)d.push(b.call(c,e,a[e]));return d}function H(a){return a}function A(){}function q(a){var b=z[a.url];if(b)for(var c=0;c<b.length;c++)b[c](a.get(),a.url)}function F(a,b,c){try{return new Function(b,'"use strict";\n'+c)}catch(d){P.error("Compilation error at "+a+("line"in d?":"+(d.line-1):"")+": "+
d)}}function g(a){if(0==a in Z){var b=a.split("."),c=b.shift(),b=ma(c+":"+b.join("/")+".js").replace(/\/\.js$/,".js");Z[a]=b;ua[b]=a}return Z[a]}function h(a){if(aa.call(Da,a))return Da[a];a=a.split(".");var d;d=a[0];var e=Da[d];e||(e=Da[d]=new Ea(d),e.namespaces_={},e.namespaces_[d]=e,c.noConflict||(b[d]=e));for(var e=d=e,f=1,g;g=a[f];f++){var h=a.slice(0,f+1).join(".");if(!aa.call(d.namespaces_,h)){var k=new Ea(h);c.implicitExt&&(e[g]=k);d.namespaces_[h]=k}e=d.namespaces_[h]}return Da[a.join(".")]=
e}function e(a,b){if(null!=a){var c=a.length;if("undefined"==typeof c||"[object Function]"==O.call(a))return[a];b||(b=0);if(0<c-b){for(var d=[],e=0,f=b;f<c;)d[e++]=a[f++];return d}}return[]}function p(a,b,c){for(var d=[],e="function"==typeof b,f=0;f<a;f++)d[f]=e?b.call(c,f,d):b;return d}var b=Function("return this")(),I=b!==a?b:!1,f=b.document,O=Object.prototype.toString,aa=Object.prototype.hasOwnProperty,b=a;a=function(a,b,c,d){return function(){}}();var T=function(){function a(b){if(d.test(b)){var c=
b.split("."),e=c[0],f=c[1],g=c[2];switch(c.length){case 1:b=function(a){return null!=a?a[e]:a};break;case 2:b=function(a){return null!=a?a[e][f]:a};break;case 3:b=function(a){return null!=a?a[e][f][g]:a};break;default:b=function(a){if(null!=a){a=a[e][f][g];for(var b=3,d;d=c[b];b++)a=a[d]}return a}}return b}return new Function("object","return object != null ? object."+b+" : object")}var b="basisGetterId"+L()+"_",c=1,d=/^[a-z$_][a-z$_0-9]*(\.[a-z$_][a-z$_0-9]*)*$/i,e=[],f={},g={},h=function(d,h){var k,
m,n;if(!d||d===C)return C;"function"==typeof d?(n=d[b])?k=e[Math.abs(n)-1]:(k=function(a){return d(a)},k.base=d,k.__extend__=T,n=e.push(k),d[b]=-n,k[b]=n):(k=f[d])?n=k[b]:(k=a(d),k.base=d,k.__extend__=T,n=e.push(k),k[b]=n,f[d]=k);m=null!=h&&typeof h;if(!m)return k;var p=g[n],q;if("string"==m)q=m+h;else if("function"==m)q=h.basisModId_;else if("object"!=m)return k;if(q&&p&&p[q])return p[q];"function"==typeof k.base&&(k=k.base);switch(m){case "string":m=function(a){return ea.format(h,k(a))};break;case "function":q||
(q=m+c++,h.basisModId_=q);m=function(a){return h(k(a))};break;default:m=function(a){return h[k(a)]}}m.base=k.base||k;m.__extend__=T;q&&(p||(p={},g[n]=p),p[q]=m,m.mod=h,m[b]=e.push(m));return m};h.ID=b;return h}(),C=x(function(){},{__extend__:T}),P=function(){var a={log:A,info:A,warn:A,error:A};"undefined"!=typeof console&&J(a,function(b){a[b]="bind"in Function.prototype&&"function"==typeof console[b]?Function.prototype.bind.call(console[b],console):function(){Function.prototype.apply.call(console[b],
console,arguments)}});return a}(),V=b.setImmediate||b.msSetImmediate,K=b.clearImmediate||b.msSetImmediate;V&&(V=V.bind(b));K&&(K=K.bind(b));V||function(){var a=function(){var a={},b=0;V=function(d){if("function"==typeof d)return a[++b]={fn:d,args:e(arguments,1)},c(b),b};K=function(b){delete a[b]};return function(b){var c=a[b];c&&(delete a[b],c.fn.apply(void 0,c.args));E.process()}}(),c=function(b){setTimeout(function(){a(b)},0)};if(I&&I.process&&"function"==typeof process.nextTick)c=function(b){process.nextTick(function(){a(b)})};
else{var d=b.postMessage&&!b.importScripts;if(d){var g=b.onmessage;b.onmessage=function(){d=!1};b.postMessage("","*");b.onmessage=g}if(d){var h={},g=function(c){if(c&&c.source==b&&(c=c.data,aa.call(h,c))){var d=h[c];delete h[c];a(d)}};b.addEventListener?b.addEventListener("message",g,!0):b.attachEvent("onmessage",g);c=function(a){var c=L(32);h[c]=a;b.postMessage(c,"*")}}else if(b.MessageChannel){var k=new b.MessageChannel;k.port1.onmessage=function(b){a(b.data)};c=function(a){k.port2.postMessage(a)}}else if(f&&
"onreadystatechange"in f.createElement("script"))var m=c,c=function Fa(b){"undefined"!=typeof ya&&(c=m,ya.head.ready(function(){c=function(b){var c=f.createElement("script");c.onreadystatechange=function(){c.onreadystatechange=null;ya.remove(c);c=null;a(b)};ya.head.add(c)}}));c===Fa?m(b):c(b)}}}();var E=function(){function a(){d&&(d=K(d));if(b.length)try{c=!0;for(var e;e=b.shift();)e.fn.call(e.context)}finally{c=!1,b.length&&(d=V(a))}}var b=[],c=!1,d,e=function(c,e){b.push({fn:c,context:e});d||(d=
V(a));return!0};e.process=function(){c||a()};return e}(),v=function(){var a=/^([^\/]+:|\/)/,b=/^[a-zA-Z0-9\-]+:\/?/,c=/^(?:[a-zA-Z0-9\-]+:)?\/\/[^\/]+\/?/,d=/[\?#].*$/,f,g,h;I?(g=(process.basisjsBaseURI||require("path").resolve(".")).replace(/\\/g,"/"),f=g.replace(/^[^\/]*/,""),g=g.replace(/\/.*/,"")):(f=location.pathname.replace(/[^\/]+$/,""),g=location.protocol+"//"+location.host);return h={baseURI:f,origin:g,normalize:function(a){a=(a||"").replace(b,"/").replace(c,"/").replace(d,"");for(var e=
[],f=a.split("/"),g=0;g<f.length;g++)".."==f[g]?(1<e.length||e[0])&&e.pop():!f[g]&&g||"."==f[g]||e.push(f[g]);return e.join("/")||("/"===a[0]?"/":"")},dirname:function(a){a=h.normalize(a);return a.replace(/\/([^\/]*)$|^[^\/]+$/,"")||("/"==a[0]?"/":".")},extname:function(a){return(a=h.normalize(a).match(/[^\/](\.[^\/\.]*)$/))?a[1]:""},basename:function(a,b){var c=h.normalize(a).match(/[^\\\/]*$/),c=c?c[0]:"";b==h.extname(c)&&(c=c.substring(0,c.length-b.length));return c},resolve:function(b,c){for(var d=
e(arguments).reverse(),g=[],k=!1,m=0;!k&&m<d.length;m++)"string"==typeof d[m]&&(g.unshift(d[m]),k=a.test(d[m]));k||g.unshift("/"==f?"":f);return h.normalize(g.join("/"))},relative:function(a,b){"string"!=typeof b&&(b=a,a=f);a=h.normalize(a);b=h.normalize(b);if("/"==a[0]&&"/"!=b[0])return a;if("/"==b[0]&&"/"!=a[0])return b;for(var c=a.replace(/^\/$/,"").split(/\//),d=b.replace(/^\/$/,"").split(/\//),e=[],g=0;d[g]==c[g]&&"string"==typeof c[g];)g++;for(c=c.length-g;0<c;c--)e.push("..");return e.concat(d.slice(g).filter(Boolean)).join("/")}}}(),
R=s||"",c=t||{modules:{},exports:!0,implicitExt:!0,autoload:["./0.js"]},ka=function(){function a(b){return"function"==typeof b&&!!b.basisClassId_}function b(a){for(var c=this;c&&c!==a;)c=c.superClass_;return c===a}function c(k,n){var p=g++;"function"!=typeof k&&(k=m);var q=function(){};q.prototype=k.prototype;for(var q=new q,p={basisClassId_:p,superClass_:k,extendConstructor_:!!k.extendConstructor_,isSubclassOf:b,subclass:function(){return c.apply(null,[v].concat(e(arguments)))},extend:d,__extend__:function(b){return b&&
b!==h&&("object"==typeof b||"function"==typeof b&&!a(b))?m.create.call(null,v,b):b},prototype:q},s=1,t;t=arguments[s];s++)p.extend(t);var v=p.extendConstructor_?function(a){this.basisObjectId=f.id++;var b,c;for(c in a)b=this[c],this[c]=b&&b.__extend__?b.__extend__(a[c]):a[c];this.init();this.postInit()}:function(){this.basisObjectId=f.id++;this.init.apply(this,arguments);this.postInit()};q.constructor=v;for(var y in q)q[y]===h&&(q[y]=v);x(v,p);return v}function d(b){var c=this.prototype;"function"!=
typeof b||a(b)||(b=b(this.superClass_.prototype,D(c)));b.prototype&&(b=b.prototype);for(var e in b){var f=b[e],g=c[e];"className"==e||"extendConstructor_"==e?this[e]=f:c[e]=g&&g.__extend__?g.__extend__(f):f}k&&b[e="toString"]!==O&&(c[e]=b[e]);return this}var f={id:1},g=1,h={},k=function(){for(var a in{toString:1})return!1;return!0}(),m=x(c,{className:"basis.Class",extendConstructor_:!1,prototype:{basisObjectId:0,constructor:null,init:function(){},postInit:function(){},destroy:function(){for(var a in this)aa.call(this,
a)&&(this[a]=null);this.destroy=A}}}),n=function(a,b,c){return{__extend__:function(a){if(!a||a&&a.__extend__)return a;var c=function(){};c.prototype=this;c=new c;b(c,a);return c}}.__extend__(a||{})},p=function(a){return n(a,x,"extensibleProperty")};return x(m,{SELF:h,create:c,isClass:a,customExtendProperty:n,extensibleProperty:p,nestedExtendProperty:function(a){return n(a,function(a,b){for(var c in b){var d=a[c];a[c]=d&&d.__extend__?d.__extend__(b[c]):p(b[c])}},"nestedExtendProperty")},oneFunctionProperty:function(a,
b){var c=function(b){var d={__extend__:c};if(b){if(b.__extend__)return b;for(var e in b)b[e]&&(d[e]=a)}return d};return c(b||{})}})}(),y=ka(null,{className:"basis.Token",value:null,handler:null,deferredToken:null,bindingBridge:{attach:function(a,b,c,d){a.attach(b,c,d)},detach:function(a,b,c){a.detach(b,c)},get:function(a){return a.get()}},init:function(a){this.value=a},get:function(){return this.value},set:function(a){this.value!==a&&(this.value=a,this.apply())},attach:function(a,b,c){this.handler=
{fn:a,context:b,destroy:c||null,handler:this.handler}},detach:function(a,b){for(var c=this,d;d=c,c=c.handler;)if(c.fn===a&&c.context===b){c.fn=A;c.destroy=c.destroy&&A;d.handler=c.handler;break}},apply:function(){for(var a=this.get(),b=this;b=b.handler;)b.fn.call(b.context,a)},deferred:function(){var a=this.deferredToken;a||(a=this.deferredToken=new B(this.get()),this.attach(a.set,a));return a},as:function(a){var b=new y,c=function(b){this.set(a.call(this,b))};c.call(b,this.get());this.attach(c,b,
b.destroy);b.attach(A,this,function(){this.detach(c,b)});return b},destroy:function(){this.deferredToken&&(this.deferredToken.destroy(),this.deferredToken=null);this.detach=this.attach=A;for(var a=this;a=a.handler;)a.destroy&&a.destroy.call(a.context);this.value=this.handler=null}}),sa=function(){function a(){var d=b;b={};c=null;for(var e in d)d[e].apply()}var b={},c;return function(d){d.basisObjectId in b||(b[d.basisObjectId]=d,c||V(a))}}(),B=y.subclass({className:"basis.DeferredToken",set:function(a){this.value!==
a&&(this.value=a,sa(this))},deferred:function(){return this}}),qa={},m={},z={},Y=1;(function(){var a="undefined"!=typeof Za?Za:null;if(a)for(var b in a)m[v.resolve(b)]=a[b]})();var ma=function(a,b,c){(c=a.match(/^([a-zA-Z0-9\_\-]+):/))?(b=c[1],0==b in Ca&&(Ca[b]=v.baseURI+b+"/"),a=Ca[b]+v.normalize("./"+a.substr(c[0].length))):a=v.resolve(b,a);return a},n=function(a,b){if(b||!aa.call(m,a)){var c="";if(I)try{c=process.basisjsReadFile?process.basisjsReadFile(a):require("fs").readFileSync(a,"utf-8")}catch(d){}else{var e=
new XMLHttpRequest;e.open("GET",a,!1);e.setRequestHeader("If-Modified-Since",(new Date(0)).toGMTString());e.setRequestHeader("X-Basis-Resource",1);e.send("");200<=e.status&&400>e.status&&(c=e.responseText)}m[a]=c}return m[a]},d=function(a,b){var c=v.extname(a),d=ga.extensions[c],e=1<arguments.length,f=!1,g=!1;e&&(a+="#virtual");var h=function(){if(f)return b;var c=e?b:n(a);d?g||(g=!0,b=d(c,a)):b=c;f=!0;q(h);h.apply();return b};x(h,x(new y,{url:a,type:c,virtual:e,fetch:function(){return h()},toString:function(){return"[basis.resource "+
a+"]"},isResolved:function(){return f},update:function(c){if(!f||e||c!=m[a])e||(m[a]=c),d?(!g&&e&&(b=c),g&&!d.permanent&&(b=d(c,a,b),q(h),h.apply())):(b=c,f=!0,q(h),h.apply())},reload:function(){if(!e){var b=m[a],c=n(a,!0);c!=b&&(f=!1,h.update(c))}},get:function(c){return e&&c?d?wrappedContent:b:c?n(a):h()},ready:function(a,b){if(f&&(a.call(b,h()),d&&d.permanent))return;h.attach(a,b);return h}}));return qa[a]=h},ga=function(a){var b=qa[a];b||(b=ma(a,null,"basis.resource('{url}')"),b=qa[b]||d(b),qa[a]=
b);return b};x(ga,{resolveURI:ma,isResource:function(a){return a?qa[a.url]===a:!1},isResolved:function(a){return(a=ga.get(a))?a.isResolved():!1},exists:function(a){return aa.call(qa,ma(a,null,"basis.resource.exists('{url}')"))},get:function(a){a=ma(a,null,"basis.resource.get('{url}')");return ga.exists(a)?ga(a):null},getFiles:function(a){return a?fa(m):fa(qa).filter(function(a){return!qa[a].virtual})},virtual:function(a,b,c){return d((c?c+":":v.normalize("/"==v.baseURI?"":v.baseURI)+"/")+"virtual-resource"+
Y++ +"."+a,b)},extensions:{".js":x(function(a,b){var d=ua[b];if(!d){var e=!0,d=v.dirname(b)+"/"+v.basename(b,v.extname(b)),f;for(f in Ca){var g=Ca[f]+f+"/";if(d.substr(0,g.length)==g){e=!1;d=d.substr(Ca[f].length);break}}d=d.replace(/\./g,"_").replace(/^\//g,"").replace(/\//g,".");e&&(d="implicit."+d)}Da[d]||(f=h(d),f.exports=ra({path:f.path,exports:f.exports},b,a).exports,f.exports&&f.exports.constructor===Object&&c.implicitExt&&N(f,f.exports));return Da[d].exports},{permanent:!0}),".css":function(a,
b,c){c||(c=new Ia(b));c.updateCssText(a);return c},".json":function(a,b){if("object"==typeof a)return a;var c;try{a=String(a),c=ca.json.parse(a)}catch(d){}return c||null}}});var ra=function(a,c,d){var e=v.dirname(c)+"/",f=d;a.exports||(a.exports={});"function"!=typeof f&&(f=F(c,"exports module basis global __filename __dirname resource require asset".split(" "),d));"function"==typeof f&&f.call(a.exports,a.exports,a,ca,b,c,e,function(a){return ga(ma(a,e,"resource('{url}')"))},function(a,b){return k(a,
b||e)},function(a){return ma(a,e,"asset('{url}')")});return a},Da={},Z={},ua={},Ca={};J(c.modules,function(a,b){Ca[a]=b.path+"/";Z[a]=b.filename;ua[b.filename]=a});(function(a){if(a="undefined"!=typeof Ta?Ta:null)for(var b in a){var c=v.resolve(b),d=a[b];ua[c]=d;Z[d]=c}})();var Ea=ka(null,{className:"basis.Namespace",init:function(a){this.name=a;this.exports={path:this.name}},toString:function(){return"[basis.namespace "+this.path+"]"},extend:function(a){x(this.exports,a);return N(this,a)}}),k=function(a,
b){a=/[^a-z0-9_\.]/i.test(a)||".js"==v.extname(a)?ma(a,b,"require('{url}')"):g(a);return ga(a).fetch()};N(Function.prototype,{bind:function(a){var b=this,c=e(arguments,1);return c.length?function(){return b.apply(a,c.concat.apply(c,arguments))}:function(){return b.apply(a,arguments)}}});N(Array,{isArray:function(a){return"[object Array]"===O.call(a)}});N(Array.prototype,{indexOf:function(a,b){b=parseInt(b,10)||0;if(0>b)return-1;for(;b<this.length;b++)if(this[b]===a)return b;return-1},lastIndexOf:function(a,
b){var c=this.length;b=parseInt(b,10);for(b=isNaN(b)||b>=c?c-1:(b+c)%c;0<=b;b--)if(this[b]===a)return b;return-1},forEach:function(a,b){for(var c=0,d=this.length;c<d;c++)c in this&&a.call(b,this[c],c,this)},every:function(a,b){for(var c=0,d=this.length;c<d;c++)if(c in this&&!a.call(b,this[c],c,this))return!1;return!0},some:function(a,b){for(var c=0,d=this.length;c<d;c++)if(c in this&&a.call(b,this[c],c,this))return!0;return!1},filter:function(a,b){for(var c=[],d=0,e=this.length;d<e;d++)d in this&&
a.call(b,this[d],d,this)&&c.push(this[d]);return c},map:function(a,b){for(var c=[],d=0,e=this.length;d<e;d++)d in this&&(c[d]=a.call(b,this[d],d,this));return c},reduce:function(a,b){var c=this.length,d=arguments.length;if(0==c&&1==d)throw 1;var e,f=0;1<d&&(e=b,f=1);for(d=0;d<c;d++)d in this&&(e=f++?a.call(null,e,this[d],d,this):this[d]);return e}});var Aa={from:e,create:p,flatten:function(a){return a.concat.apply([],a)},repeat:function(a,b){return Aa.flatten(p(parseInt(b,10)||0,a))},search:function(a,
b,c,d){a.lastSearchIndex=-1;c=T(c||H);d=parseInt(d,10)||0;for(var e=a.length;d<e;d++)if(c(a[d])===b)return a[a.lastSearchIndex=d]},lastSearch:function(a,b,c,d){a.lastSearchIndex=-1;c=T(c||H);var e=a.length;d=isNaN(d)||null==d?e:parseInt(d,10);for(e=d>e?e:d;0<e--;)if(c(a[e])===b)return a[a.lastSearchIndex=e]},add:function(a,b){return-1==a.indexOf(b)&&!!a.push(b)},remove:function(a,b){var c=a.indexOf(b);return-1!=c&&!!a.splice(c,1)},has:function(a,b){return-1!=a.indexOf(b)},sortAsObject:function(){return Aa.sort.apply(this,
arguments)},sort:function(a,b,c,d){b=T(b);d=d?-1:1;return a.map(function(a,c){return{i:c,v:b(a)}}).sort(c||function(a,b){return d*(a.v>b.v||-(a.v<b.v)||(a.i>b.i?1:-1))}).map(function(a){return this[a.i]},a)}};if(![1,2].splice(1).length){var va=Array.prototype.splice;Array.prototype.splice=function(){var a=e(arguments);2>a.length&&(a[1]=this.length);return va.apply(this,a)}}var wa=/([\/\\\(\)\[\]\?\{\}\|\*\+\-\.\^\$])/g,$=/\{([a-z\d_]+)(?::([\.0])(\d+)|:(\?))?\}/gi;N(String,{toLowerCase:function(a){return String(a).toLowerCase()},
toUpperCase:function(a){return String(a).toUpperCase()},trim:function(a){return String(a).trim()},trimLeft:function(a){return String(a).trimLeft()},trimRight:function(a){return String(a).trimRight()}});N(String.prototype,{trimLeft:function(){return this.replace(/^\s+/,"")},trimRight:function(){return this.replace(/\s+$/,"")},trim:function(){return this.trimLeft().trimRight()}});var ea={toObject:function(a,b){try{return(new Function("return 0,"+a))()}catch(c){if(b)throw 2;}},repeat:function(a,b){return Array(parseInt(b,
10)+1||0).join(a)},qw:function(a){return(a=a.trim())?a.split(/\s+/):[]},forRegExp:function(a){return a.replace(wa,"\\$1")},format:function(a,b){var c=e(arguments,1);"object"==typeof b&&x(c,b);return a.replace($,function(a,b,d,e,f){a=b in c?c[b]:f?"":a;return d&&!isNaN(a)?(a=Number(a),"."==d?a.toFixed(e):ba.lead(a,e)):a})},capitalize:function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()},camelize:function(a){return a.replace(/-(.)/g,function(a,b){return b.toUpperCase()})},dasherize:function(a){return a.replace(/[A-Z]/g,
function(a){return"-"+a.toLowerCase()})},isEmpty:function(a){return null==a||""==String(a)},isNotEmpty:function(a){return null!=a&&""!=String(a)}};if(11!="|||".split(/\|/).length+"|||".split(/(\|)/).length){var Ba=String.prototype.split;String.prototype.split=function(a,b){if(!a||0==a instanceof RegExp||""==a.source)return Ba.apply(this,arguments);var c=[],d=0,e;for(a.global||(a=new RegExp(a.source,/\/([mi]*)$/.exec(a)[1]+"g"));e=a.exec(this);)e[0]=this.substring(d,e.index),c.push.apply(c,e),d=a.lastIndex;
c.push(this.substr(d));return c}}if("2"!="12".substr(-1)){var S=String.prototype.substr;String.prototype.substr=function(a,b){return S.call(this,0>a?Math.max(0,this.length+a):a,b)}}var ba={fit:function(a,b,c){return!isNaN(b)&&a<b?Number(b):!isNaN(c)&&a>c?Number(c):a},lead:function(a,b,c){return String(a).replace(/\d+/,function(a){return 1<(b-=a.length-1)?Array(b).join(c||0)+a:a})},group:function(a,b,c){return String(a).replace(/\d+/,function(a){return a.replace(/\d/g,function(d,e){return!e+(a.length-
e)%(b||3)?d:(c||" ")+d})})},format:function(a,b,c,d,e,f){a=a.toFixed(b);if(c||f)a=a.replace(/(\d+)(\.?)/,function(a,b,d){return(c?ca.number.group(Number(b),3,c):b)+(d?f||d:"")});d&&(a=a.replace(/^-?/,"$&"+(d||"")));return a+(e||"")}};N(Date,{now:function(){return Number(new Date)}});var oa=function(){function a(){var b;h&&(h=K(h));for(1<g.length&&(h=V(a));b=g.shift();)b[0].call(b[1]);h=K(h);E.process()}function c(b){e++||a()}function d(){try{f.documentElement.doScroll("left"),c()}catch(a){setTimeout(d,
1)}}var e=!f||"complete"==f.readyState,g=[],h;if(!e)if(f.addEventListener)f.addEventListener("DOMContentLoaded",c,!1),b.addEventListener("load",c,!1);else{f.attachEvent("onreadystatechange",c);b.attachEvent("onload",c);try{!b.frameElement&&f.documentElement.doScroll&&d()}catch(k){}}return function(b,c){g.length||!e||h||(h=V(a));g.push([b,c])}}(),Ha=function(a,c){return"addEventListener"in b?function(a,c){b.addEventListener("unload",function(d){a.call(c||null,d||b.event)},!1)}:"attachEvent"in b?function(a,
c){b.attachEvent("onunload",function(d){a.call(c||null,d||b.event)})}:A}(),ya=function(){function a(b){if(f&&!g[b]&&(g[b]=f[b]||f.getElementsByTagName(b)[0],g[b])){var c=h[b];delete h[b];for(var d=0,e;e=c[d];d++)e[0].call(e[1],g[b])}return g[b]}function b(){var d=this[0],e=this[1],f=this[2];c(e);var g=a(d);g?(!0===f&&(f=g.firstChild),f&&f.parentNode===g||(f=null),g.insertBefore(e,f)):h[d].push([b,[d,e,f]])}function c(a){for(var b in h){var d=Aa.search(h[b],a,function(a){return a[1]&&a[1][1]});d&&
Aa.remove(h[b],d)}a&&a.parentNode&&1==a.parentNode.nodeType&&a.parentNode.removeChild(a)}function d(){e&&a("head")&&a("body")&&(e=clearInterval(e))}var e,g={},h={head:[],body:[]};!f||a("head")&&a("body")||(e=setInterval(d,5),oa(d));return{head:{ready:function(a,b){h.head?h.head.push([a,b]):a.call(b,g.head)},add:function(a,c){b.call(["head",a,c])}},body:{ready:function(a,b){h.body?h.body.push([a,b]):a.call(b,g.body)},add:function(a,c){b.call(["body",a,c])}},remove:c}}();s=function(){var a=[];if(Ha===
A)return{add:A,remove:A};Ha(function(c){b.globalDestroy=!0;b.add=A;for(b.remove=A;c=a.pop();)if("function"==typeof c.destroy)try{c.destroy()}catch(d){}else for(var e in c)c[e]=null;a=[]});var b={add:function(b){null!=b&&a.push(b)},remove:function(b){Aa.remove(a,b)}};return b}();var Ia=function(){function a(b){g.setAttribute("href",b);ya.head.add(g,!0)}function b(){g.setAttribute("href",location.href);ya.remove(g)}function c(){a(this.baseURI);this.element||(this.element=f.createElement("style"),d||
this.element.appendChild(f.createTextNode("")));ya.head.add(this.element);this.syncCssText();b()}var d;try{d=!f.createElement("style").appendChild(f.createTextNode(""))}catch(e){d=!0}var g=f&&f.createElement("base");return ka(null,{className:"basis.CssResource",inUse:0,url:"",baseURI:"",cssText:void 0,element:null,init:function(a){this.url=a;this.baseURI=v.dirname(a)+"/"},updateCssText:function(c){this.cssText!=c&&(this.cssText=c,this.inUse&&this.element&&(a(this.baseURI),this.syncCssText(),b()))},
syncCssText:d?function(){this.element.styleSheet.cssText=this.cssText}:function(){this.element.firstChild.nodeValue=this.cssText},startUse:function(){this.inUse||ya.head.ready(c,this);this.inUse+=1},stopUse:function(){this.inUse&&(--this.inUse,!this.inUse&&this.element&&ya.remove(this.element))},destroy:function(){this.element&&ya.remove(this.element);this.cssText=this.element=null}})}(),ca=h("basis").extend({version:"1.4.0-dev",NODE_ENV:I,config:c,createSandbox:function(a){return M(b,R,N({noConflict:!0},
a))},dev:(new Ea("basis.dev")).extend(P).extend({warnPropertyAccess:a}),resolveNSFilename:g,patch:function(a,b){a=/[^a-z0-9_\.]/i.test(a)||".js"==v.extname(a)?ma(a,null,"basis.patch('{url}')"):g(a);z[a]?z[a].push(b):z[a]=[b];var c=ga.get(a);c&&c.isResolved()&&b(c.get(),c.url)},namespace:h,require:k,resource:ga,asset:function(a){return ma(a,null,"basis.asset('{url}')")},setImmediate:V,clearImmediate:K,nextTick:function(){V.apply(null,arguments)},asap:E,Class:ka,Token:y,DeferredToken:B,ready:oa,teardown:Ha,
cleaner:s,genUID:L,getter:T,console:P,path:v,doc:ya,object:{extend:x,complete:N,keys:fa,values:function(a){var b=[],c;for(c in a)b.push(a[c]);return b},slice:D,splice:function(a,b){var c={};if(!b)return x(c,a);for(var d=0,e;e=b[d++];)e in a&&(c[e]=a[e],delete a[e]);return c},merge:function(){for(var a={},b=0;b<arguments.length;b++)x(a,arguments[b]);return a},iterate:J},fn:{$undefined:function(a){return void 0==a},$defined:function(a){return void 0!=a},$isNull:function(a){return null==a||void 0==a},
$isNotNull:function(a){return null!=a&&void 0!=a},$isSame:function(a){return a===this},$isNotSame:function(a){return a!==this},$self:H,$const:function(a){return function(){return a}},$false:function(){return!1},$true:function(){return!0},$null:function(){return null},$undef:A,getter:T,nullGetter:C,wrapper:function(a){return function(b){var c={};c[a]=b;return c}},lazyInit:function(a,b){var c=0,d,e;return d=function(){c++||(d.inited=!0,d.data=e=a.apply(b||this,arguments));return e}},lazyInitAndRun:function(a,
b,c){var d=0,e,f;return e=function(){d++||(e.inited=!0,e.data=f=a.call(c||this));b.apply(f,arguments);return f}},runOnce:function(a,b){var c=0;return function(){if(!c++)return a.apply(b||this,arguments)}},publicCallback:function(a,c){var d="basisjsCallback"+L();b[d]=c?a:function(){delete b[d];a.apply(this,arguments)};return d}},array:x(e,Aa),string:ea,number:ba,bool:{invert:function(a){return!a}},json:{parse:"undefined"!=typeof JSON?JSON.parse:function(a){return ea.toObject(a,!0)}}});c.autoload&&
!I&&c.autoload.forEach(function(a){k(a)});I&&exports&&(exports.basis=ca);return ca})(this)}).call(this)